// shadow-widget cdn ver 1.1.4
!function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var p=r[a]={exports:{}};t[a][0].call(p.exports,function(e){var r=t[a][1][e];return i(r||e)},p,p.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){(function(r){"use strict";function n(e){return e}var i=e("object-assign"),o=e("fbjs/lib/emptyObject"),a=e("fbjs/lib/invariant");if("production"!==r.env.NODE_ENV)var s=e("fbjs/lib/warning");var l,u="mixins";l="production"!==r.env.NODE_ENV?{prop:"prop",context:"context",childContext:"child context"}:{},t.exports=function(e,t,p){function c(e,t,n){for(var i in t)t.hasOwnProperty(i)&&"production"!==r.env.NODE_ENV&&s("function"==typeof t[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",l[n],i)}function f(e,t){var r=w.hasOwnProperty(t)?w[t]:null;P.hasOwnProperty(t)&&a("OVERRIDE_BASE"===r,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&a("DEFINE_MANY"===r||"DEFINE_MANY_MERGED"===r,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function h(e,n){if(n){a("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=e.prototype,o=i.__reactAutoBindPairs;n.hasOwnProperty(u)&&k.mixins(e,n.mixins);for(var l in n)if(n.hasOwnProperty(l)&&l!==u){var p=n[l],c=i.hasOwnProperty(l);if(f(c,l),k.hasOwnProperty(l))k[l](e,p);else{var h=w.hasOwnProperty(l);if("function"!=typeof p||h||c||!1===n.autobind)if(c){var d=w[l];a(h&&("DEFINE_MANY_MERGED"===d||"DEFINE_MANY"===d),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",d,l),"DEFINE_MANY_MERGED"===d?i[l]=v(i[l],p):"DEFINE_MANY"===d&&(i[l]=y(i[l],p))}else i[l]=p,"production"!==r.env.NODE_ENV&&"function"==typeof p&&n.displayName&&(i[l].displayName=n.displayName+"_"+l);else o.push(l,p),i[l]=p}}}else if("production"!==r.env.NODE_ENV){var g=typeof n,_="object"===g&&null!==n;"production"!==r.env.NODE_ENV&&s(_,"%s: You're attempting to include a mixin that is either null or not an object. Check the mixins included by the component, as well as any mixins they include themselves. Expected object but got %s.",e.displayName||"ReactClass",null===n?null:g)}}function d(e,t){if(t)for(var r in t){var n=t[r];t.hasOwnProperty(r)&&(a(!(r in k),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r),a(!(r in e),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),e[r]=n)}}function g(e,t){a(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var r in t)t.hasOwnProperty(r)&&(a(void 0===e[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r),e[r]=t[r]);return e}function v(e,t){return function(){var r=e.apply(this,arguments),n=t.apply(this,arguments);if(null==r)return n;if(null==n)return r;var i={};return g(i,r),g(i,n),i}}function y(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function _(e,t){var n=t.bind(e);if("production"!==r.env.NODE_ENV){n.__reactBoundContext=e,n.__reactBoundMethod=t,n.__reactBoundArguments=null;var i=e.constructor.displayName,o=n.bind;n.bind=function(a){for(var l=arguments.length,u=Array(l>1?l-1:0),p=1;p<l;p++)u[p-1]=arguments[p];if(a!==e&&null!==a)"production"!==r.env.NODE_ENV&&s(!1,"bind(): React component methods may only be bound to the component instance. See %s",i);else if(!u.length)return"production"!==r.env.NODE_ENV&&s(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",i),n;var c=o.apply(n,arguments);return c.__reactBoundContext=e,c.__reactBoundMethod=t,c.__reactBoundArguments=u,c}}return n}function m(e){for(var t=e.__reactAutoBindPairs,r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e[n]=_(e,i)}}var b=[],w={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},k={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var r=0;r<t.length;r++)h(e,t[r])},childContextTypes:function(e,t){"production"!==r.env.NODE_ENV&&c(e,t,"childContext"),e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){"production"!==r.env.NODE_ENV&&c(e,t,"context"),e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=v(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){"production"!==r.env.NODE_ENV&&c(e,t,"prop"),e.propTypes=i({},e.propTypes,t)},statics:function(e,t){d(e,t)},autobind:function(){}},O={componentDidMount:function(){this.__isMounted=!0}},x={componentWillUnmount:function(){this.__isMounted=!1}},P={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return"production"!==r.env.NODE_ENV&&(s(this.__didWarnIsMounted,"%s: isMounted is deprecated. Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks.",this.constructor&&this.constructor.displayName||this.name||"Component"),this.__didWarnIsMounted=!0),!!this.__isMounted}},$=function(){};return i($.prototype,e.prototype,P),function(e){var t=n(function(e,n,i){"production"!==r.env.NODE_ENV&&s(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=n,this.refs=o,this.updater=i||p,this.state=null;var l=this.getInitialState?this.getInitialState():null;"production"!==r.env.NODE_ENV&&void 0===l&&this.getInitialState._isMockFunction&&(l=null),a("object"==typeof l&&!Array.isArray(l),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=l});t.prototype=new $,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],b.forEach(h.bind(null,t)),h(t,O),h(t,e),h(t,x),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),"production"!==r.env.NODE_ENV&&(t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={})),a(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),"production"!==r.env.NODE_ENV&&(s(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),s(!t.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component"));for(var i in w)t.prototype[i]||(t.prototype[i]=null);return t}}}).call(this,e("_process"))},{_process:11,"fbjs/lib/emptyObject":4,"fbjs/lib/invariant":5,"fbjs/lib/warning":6,"object-assign":7}],2:[function(e,t,r){"use strict";var n=e("react"),i=e("./factory");if(void 0===n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new n.Component).updater;t.exports=i(n.Component,n.isValidElement,o)},{"./factory":1,react:void 0}],3:[function(e,t,r){"use strict";function n(e){return function(){return e}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},t.exports=i},{}],4:[function(e,t,r){(function(e){"use strict";var r={};"production"!==e.env.NODE_ENV&&Object.freeze(r),t.exports=r}).call(this,e("_process"))},{_process:11}],5:[function(e,t,r){(function(e){"use strict";var r=function(e){};"production"!==e.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),t.exports=function(e,t,n,i,o,a,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,i,o,a,s,l],c=0;(u=new Error(t.replace(/%s/g,function(){return p[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(this,e("_process"))},{_process:11}],6:[function(e,t,r){(function(r){"use strict";var n=e("./emptyFunction");if("production"!==r.env.NODE_ENV){var i=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,o="Warning: "+e.replace(/%s/g,function(){return r[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};n=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];i.apply(void 0,[t].concat(n))}}}t.exports=n}).call(this,e("_process"))},{"./emptyFunction":3,_process:11}],7:[function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,l=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var p in r)o.call(r,p)&&(l[p]=r[p]);if(i){s=i(r);for(var c=0;c<s.length;c++)a.call(r,s[c])&&(l[s[c]]=r[s[c]])}}return l}},{}],8:[function(e,t,r){"use strict";var n=window.React,i=window.ReactDOM,o=void 0;if(n&&i){if("string"==typeof n.version){var a=n.version.split(".");0==parseInt(a[0])&&parseInt(a[1])<14&&console.log("warning: react@>=0.14 is required, current is "+n.version)}o=e("./react_widget"),e("./template")}else console.log("fatal error! React or ReactDom not found, cdn version of React library should be loaded first.");var s={react:n,"react-dom":i,"shadow-widget":o},l=arguments[3],u=arguments[4],p=arguments[5];if("function"==typeof l&&u)Object.keys(s).forEach(function(e){p[e]={exports:s[e]}}),u[9998]=[o.$utils.loadingEntry,u[1][1]],setTimeout(function(){o.$main.isStart||(o.$main.isStart=!0,l(u,p,[9998]))},300);else if("undefined"!=typeof __webpack_require__&&__webpack_require__.c){var c={exports:{},id:9998,loaded:!0};__webpack_require__.c[9998]=c,setTimeout(function(){o.$main.isStart||(o.$main.isStart=!0,o.$utils.loadingEntry(function(e){if("number"==typeof e)return __webpack_require__(e);var t=s[e];return t||console.log("can not find module: "+e),t},c,c.exports))},300)}else console.log("fatal error: unknown package tool!")},{"./react_widget":9,"./template":10}],9:[function(e,t,r){(function(r){"use strict";function n(e,t){var r=e[t];if(r)return r;for(var i in e)if("parent"!=i&&e.hasOwnProperty(i)){var o=e[i];if(Array.isArray(o)&&o.W&&(o=n(o,t)))return o}}function i(e){var t=void 0===e?"undefined":s(e);if("number"==t)return this.W?this[e]:d[e];if(!e)return""===e?d:o(i=new Array);if("object"==t){var r=e.constructor===Object,i=new Array;return i.$id=f++,i.component=e,r||(e.widget=i),o(i)}if("string"!=t)return d;var a=void 0,l=e.split("."),u=0;if(l[0]){var p=l.shift();u+=1,a=Array.isArray(this)&&this.W?this:d,a="-"==p[0]?0==(c=p.slice(1)).search(/^[0-9]+$/)?a[Math.max(0,a.length-parseInt(c))]:a===d?n(a,p):a[p]:0==p.search(/^[0-9]+$/)?a[parseInt(p)]:a===d?n(a,p):a[p]}for(;l.length;)if(u+=1,p=l.shift())if("-"==p[0]){var c=p.slice(1);if(0==c.search(/^[0-9]+$/)){if(!a)return a;a=a[Math.max(0,a.length-parseInt(c))]}else{if(!a)return a;a=a[p]}}else if(0==p.search(/^[0-9]+$/)){if(!a)return a;a=a[parseInt(p)]}else{if(!a)return a;a=a[p]}else{if(a||1!=u)return a;a=this.W?this:d}return a}function o(e){function t(e,t){return function(){return t.apply(e,arguments)}}function r(e,t){if(e.$id===t)return e;for(var n in e)if("parent"!=n&&e.hasOwnProperty(n)){var i=e[n];if(Array.isArray(i)&&i.W&&(i=r(i,t)))return i}}for(var n in h)e[n]=h[n];return d&&d.__debug__&&(e.queryById=function(e){return r(this,parseInt(e))},e.addShortcut=function(){var e=[],r=this.component;if(!r)return e;for(var n,i=0;n=arguments[i];i++){var o=r[n];"function"==typeof o?(this[n]=t(r,o),e.push(n)):o&&(this[n]=o)}return e}),e}function a(e){this.component=e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=window.React||e("react"),u=window.ReactDOM||e("react-dom"),p=window.createReactClass||e("create-react-class");if(Object.assign||(Object.assign=function(){var e=arguments.length;if(e<1)return{};var t=arguments[0];"object"!=(void 0===t?"undefined":s(t))&&(t={});for(var r=1;r<e;r+=1){var n=arguments[r];if("object"==(void 0===n?"undefined":s(n)))for(var i,o=Object.keys(n),a=0;i=o[a];a+=1)t[i]=n[i]}return t}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<r;){var o=t[i];if(e.call(n,o,i,t))return i;i++}return-1}),!Array.prototype.find){var c=Array.prototype.findIndex;Array.prototype.find=function(){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),t=c.apply(e,arguments);return t>=0?e[t]:void 0}}var f=0,h={W:i,$set:function(e,t){if(e||0===e)if(Array.isArray(t)&&t.W){r=this[e];this[e]=t,t.parent=this,Array.isArray(r)&&r.W&&delete r.parent}else if(!t){var r=this[e];delete this[e],Array.isArray(r)&&r.W&&delete r.parent}},$unhook:function(e,t){if(Array.isArray(e)&&e.W){var r=void 0===t?"undefined":s(t);if("string"==r||"number"==r)this[t]===e&&delete this[t];else for(var n,i=Object.keys(this),o=0;n=i[o];o+=1)if(e===this[n]){delete this[n];break}delete e.parent,delete e.$callspace}},getPath:function(e){var t=this.parent;if(t&&t.W&&t!==this){if(this.component){var r=this.component.$gui.keyid;if(r||0===r)return t.getPath("."+r+(e||""))}var n="";for(var i in t)if("parent"!=i&&t.hasOwnProperty(i)&&t[i]===this){n="."+i;break}return e&&(n+=e),t.getPath(n)}return e||""}},d=window.W;Array.isArray(d)?o(d):((d=new i).$modules=[],window.W=d),d.__debug__=0,d.$templates={},d.$css=[],d.$main={$$onLoad:[],$onReady:[],$onLoad:[],isReady:!1,inRunning:!1,inDesign:!1,isStart:!1},d.$idSetter={},d.$creator={},d.$svg={},d.$staticNodes=[],d.$creator.createEx=function(e){var t=new a(e);return"function"==typeof t.init&&t.init(),t};var g=d.$utils={instantShow:function(e){console.log("[MSG]",e)},widgetNum:function(e){return d.__design__&&"number"==typeof e&&(f=e),f},cssNamedColor:function(e){},gotoHash:function(e,t){t&&t("")}};d.$cachedClass={},d.$ex=new a,d.$ex.regist=function(e,t){e&&t&&(a.prototype[e]=t)};var v=function(){function e(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var r=Object(e),n=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var a=Object(o);for(var s in a)n.call(a,s)&&(r[s]=a[s])}}return r}function t(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null}function n(e,t,n,i,o,a,s,l){if("production"!==r.env.NODE_ENV&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,i,o,a,s,l],c=0;(u=new Error(t.replace(/%s/g,function(){return p[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}function i(t){return Array.isArray(t)?t.concat():t&&"object"===(void 0===t?"undefined":s(t))?e(new t.constructor,t):t}function o(e,t,i){Array.isArray(e)||("production"!==r.env.NODE_ENV?n(!1,"update(): expected target of %s to be an array; got %s.",i,e):n(!1));var o=t[i];Array.isArray(o)||("production"!==r.env.NODE_ENV?n(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",i,o):n(!1))}var a={}.hasOwnProperty,l=t({$push:null}),u=t({$unshift:null}),p=t({$splice:null}),c=t({$set:null}),f=t({$merge:null}),h=t({$apply:null}),d=[l,u,p,c,f,h],g={};return d.forEach(function(e){g[e]=!0}),function t(v,y){if("object"!==(void 0===y?"undefined":s(y))&&("production"!==r.env.NODE_ENV?n(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",d.join(", "),c):n(!1)),a.call(y,c))return 1!==Object.keys(y).length&&("production"!==r.env.NODE_ENV?n(!1,"Cannot have more than one key in an object with %s",c):n(!1)),y[c];var _=i(v);if(a.call(y,f)){var m=y[f];m&&"object"===(void 0===m?"undefined":s(m))||("production"!==r.env.NODE_ENV?n(!1,"update(): %s expects a spec of type 'object'; got %s",f,m):n(!1)),_&&"object"===(void 0===_?"undefined":s(_))||("production"!==r.env.NODE_ENV?n(!1,"update(): %s expects a target of type 'object'; got %s",f,_):n(!1)),e(_,y[f])}a.call(y,l)&&(o(v,y,l),y[l].forEach(function(e){_.push(e)})),a.call(y,u)&&(o(v,y,u),y[u].forEach(function(e){_.unshift(e)})),a.call(y,p)&&(Array.isArray(v)||("production"!==r.env.NODE_ENV?n(!1,"Expected %s target to be an array; got %s",p,v):n(!1)),Array.isArray(y[p])||("production"!==r.env.NODE_ENV?n(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,y[p]):n(!1)),y[p].forEach(function(e){Array.isArray(e)||("production"!==r.env.NODE_ENV?n(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,y[p]):n(!1)),_.splice.apply(_,e)})),a.call(y,h)&&("function"!=typeof y[h]&&("production"!==r.env.NODE_ENV?n(!1,"update(): expected spec of %s to be a function; got %s.",h,y[h]):n(!1)),_=y[h](_));for(var b in y)g.hasOwnProperty(b)&&g[b]||(_[b]=t(v[b],y[b]));return _}}();d.$ex.regist("update",v),function(){function e(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":s(e))||null===e||"object"!==(void 0===t?"undefined":s(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=r.bind(t),a=0;a<n.length;a++)if(!o(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}function t(t,r,n){var i=t.props||{},o=t.state||{};if(Object.keys(i).length!==Object.keys(r).length||Object.keys(o).length!==Object.keys(n).length)return!0;for(var a in r)if(!e(i[a],r[a]))return!0;for(var a in n)if(!e(o[a],n[a]))return!0;return!1}var r=Object.prototype.hasOwnProperty;this.shallowEqual=e,this.shallowCompare=t,this.shouldUpdate=t}.call(g),function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||u.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||u.defaults,this.links=e,this.rules=c.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=c.breaks:this.rules=c.gfm:this.options.pedantic&&(this.rules=c.pedantic)}function r(e){this.options=e||{}}function n(e){this.tokens=[],this.token=null,this.options=e||u.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function i(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function a(e,t){return e=e.source,t=t||"",function r(n,i){return n?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(n,i),r):new RegExp(e,t)}}function s(){}function l(e){for(var t,r,n=1;n<arguments.length;n++){t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}function u(t,r,o){if(o||"function"==typeof r){o||(o=r,r=null);var a,s,p=(r=l({},u.defaults,r||{})).highlight,c=0;try{a=e.lex(t,r)}catch(e){return o(e)}s=a.length;var f=function(e){if(e)return r.highlight=p,o(e);var t;try{t=n.parse(a,r)}catch(t){e=t}return r.highlight=p,e?o(e):o(null,t)};if(!p||p.length<3)return f();if(delete r.highlight,!s)return f();for(;c<a.length;c++)!function(e){"code"!==e.type?--s||f():p(e.text,e.lang,function(t,r){return t?f(t):null==r||r===e.text?--s||f():(e.text=r,e.escaped=!0,void(--s||f()))})}(a[c])}else try{return r&&(r=l({},u.defaults,r)),n.parse(e.lex(t,r),r)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(r||u.defaults).silent)return"<p>An error occured:</p><pre>"+i(e.message+"",!0)+"</pre>";throw e}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *(>|&gt;|::)[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=a(p.item,"gm")(/bull/g,p.bullet)(),p.list=a(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=a(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=a(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=a(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=l({},p),p.gfm=l({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=a(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=l({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,r){return new e(r).lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,r){for(var n,i,o,a,s,l,u,c,f,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *(>|&gt;|::) ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),n=!1,f=(o=o[0].match(this.rules.item)).length,c=0;c<f;c++)u=(l=o[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==f-1&&(a===(s=p.bullet.exec(o[c+1])[0])||a.length>1&&s.length>1||(e=o.slice(c+1).join("\n")+e,c=f-1)),i=n||/\n\n(?!\s*$)/.test(l),c!==f-1&&(n="\n"===l.charAt(l.length-1),i||(i=n)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!r&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var c={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};c._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,c._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,c.link=a(c.link)("inside",c._inside)("href",c._href)(),c.reflink=a(c.reflink)("inside",c._inside)(),c.normal=l({},c),c.pedantic=l({},c.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),c.gfm=l({},c.normal,{escape:a(c.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(c.text)("]|","~]|")("|","|https?://|")()}),c.breaks=l({},c.gfm,{br:a(c.br)("{2,}","*")(),text:a(c.gfm.text)("{2,}","*")()}),t.rules=c,t.output=function(e,r,n){return new t(r,n).output(e)},t.prototype.output=function(e){for(var t,r,n,o,a="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),a+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(r=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),n=this.mangle("mailto:")+r):n=r=i(o[1]),a+=this.renderer.link(n,null,r);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):i(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,a+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){a+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),a+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),a+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),a+=this.renderer.codespan(i(o[2],!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),a+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),a+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),a+=this.renderer.text(i(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(o[0].length),n=r=i(o[1]),a+=this.renderer.link(n,null,r);return a},t.prototype.outputLink=function(e,t){var r=i(t.href),n=t.title?i(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(r,n,this.output(e[1])):this.renderer.image(r,n,i(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,r="",n=e.length,i=0;i<n;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),r+="&#"+t+";";return r},r.prototype.code=function(e,t,r){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(r=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+i(t,!0)+'">'+(r?e:i(e,!0))+"\n</code></pre>\n":"<pre><code>"+(r?e:i(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,r){return"<h"+t+' id="'+this.options.headerPrefix+r.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t){var r=t?"ol":"ul";return"<"+r+">\n"+e+"</"+r+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var r=t.header?"th":"td";return(t.align?"<"+r+' style="text-align:'+t.align+'">':"<"+r+">")+e+"</"+r+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,r){if(this.options.sanitize){try{var n=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>"},r.prototype.image=function(e,t,r){var n='<img src="'+e+'" alt="'+r+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},n.parse=function(e,t,r){return new n(t,r).parse(e)},n.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var r="";this.next();)r+=this.tok();return r},n.prototype.next=function(){return this.token=this.tokens.pop()},n.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},n.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},n.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,r,n,i="",o="";for(r="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),r+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(r),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],r="",n=0;n<t.length;n++)r+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});o+=this.renderer.tablerow(r)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,u.options=u.setOptions=function(e){return l(u.defaults,e),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},u.Parser=n,u.parser=n.parse,u.Renderer=r,u.Lexer=e,u.lexer=e.lex,u.InlineLexer=t,u.inlineLexer=t.output,u.parse=u,this.marked=u}.call(g);var y=/^(?:plain|text)$/i,_=/^(?:xml|html|xhtml|rss|atom|xjb|xsd|xsl|plist|markdown|md|mkdown|mkd)$/i,m=/&lt;/g,b=/&gt;/g,w=/&amp;/g;!function(e){function t(e,t,r){for(var a=0,s=0,l=r.split(n),u=l.length,p=-1,c="0",f=0;f<u;f++){var h=l[f],d=!1,g=h.replace(o,function(t){d=!0,s+=1;var r=t.length;return p+1==f?(p=f,c=parseInt(c)+1+"",r-=1,(c=c.slice(-r)).length<r&&(c=new Array(r-c.length+1).join("0")+c),e[f]=c+"!"):e[f]=new Array(r).join(" ")+"!",""});if(d)l[f]=g;else{var v=!1,y=h.replace(i,function(t){return v=!0,a+=1,c=e[f]=t.slice(0,-1),p=f,""});v&&(l[f]=y)}}return e.length?!s&&a<=1?(e.splice(0),r):(a&&t.push(a),l.join("\n")):r}function r(e,t){return e?'<span class="hljs-ln-num" data="'+t+'"></span>':""}if(e&&e.highlight){var n=/\r\n|\r|\n/g,i=/^[0-9][0-9]+ /,o=/^~~+ /;g.marked.setOptions({highlight:function(i,o){var a=!1;o?0==o.search(y)?o="plain":0==o.search(_)&&(a=!0):o="plain","plain"!=o&&a||(i=i.replace(m,"<").replace(b,">").replace(w,"&"));var s=[],l=[];i=t(s,l,i),"plain"!=o&&(i=e.highlight(o,i,!0).value);var u=s.length;if(u){for(var p=i.split(n),c=p.length,f=0;f<u;f++){var h=s[f];h&&f<c&&("!"==h.slice(-1)?p[f]='<span class="hljs-hint">'+r(l.length,h.slice(0,-1))+p[f]+"</span>":p[f]=r(l.length,h)+p[f])}return p.join("\n")}return i}})}}(window.hljs),function(){function e(){return++window.TRIGGER__.count}window.TRIGGER__||(window.TRIGGER__={count:0});var t={GET:1,POST:1,PUT:1,DELETE:1,HEAD:1};this.jsonp=function(t){var r=t.url,n=t.data,i=t.callback;if(!r||"string"!=typeof r)throw new Error("invalid URL");if(n&&"object"!=(void 0===n?"undefined":s(n)))throw new Error("invalid input argument (data)");if("function"!=typeof i)throw new Error("input argument (callback) should be a function");var o=e();r.indexOf("?")>0?r+="&":r+="?",r+="callback=TRIGGER__%5B"+o+"%5D",n&&Object.keys(n).forEach(function(e){var t=n[e];r+="&"+e+"="+encodeURIComponent(t+"")});var a=document.head||document.getElementsByTagName("head")[0]||document.documentElement,l=document.createElement("script");l.async="async",t.scriptCharset&&(l.charset=t.scriptCharset),l.src=r,l.onload=l.onreadystatechange=function(){l.readyState&&!/loaded|complete/.test(l.readyState)||(l.onload=l.onreadystatechange=null,a&&l.parentNode&&a.removeChild(l),l=void 0,setTimeout(function(){window.TRIGGER__[o]&&(delete window.TRIGGER__[o],t.notifyError&&i(null))},0))},a.insertBefore(l,a.firstChild),window.TRIGGER__[o]=function(e){window.TRIGGER__[o]&&(delete window.TRIGGER__[o],i(e))}};var r=/"{3}[^\\]*(?:\\[\S\s][^\\]*)*"{3}/gm,n=/^\s*\/\/.*$/gm;this.ajax=function(e){var i=e.url,o=(e.type||"GET").toUpperCase(),a=e.data;if(!i||"string"!=typeof i)throw new Error("invalid URL");if(a&&"object"!=(void 0===a?"undefined":s(a)))throw new Error("invalid input argument (data)");if(!(o in t))throw new Error("invalid request type ("+o+")");var l=e.timeout||6e4,u=i.indexOf("?")>0,p=e.dataType;void 0===p&&".json"==i.slice(-5)&&(p="json");var c=null;a&&("PUT"!=o&&"POST"!=o?Object.keys(a).forEach(function(e){var t=a[e];u?i+="&":(u=!0,i+="?"),i+=e+"="+encodeURIComponent(t+"")}):c=JSON.stringify(a));var f=null,h=!1;if(window.XMLHttpRequest?f=new XMLHttpRequest:window.ActiveXObject&&(f=new ActiveXObject("Microsoft.XMLHTTP")),!f)throw new Error("invalid XMLHttpRequest");f.onreadystatechange=function(){if(4==f.readyState){var t=f.responseText||"",i=f.statusText||"",o=f.status||(t?200:404);if(h);else if(o>=200&&o<300&&t){var a=!1;if("json"===p||"pre-json"===p&&(a=!0)){var s,l=!0;try{a&&(t=(t=t.replace(r,function(e){return'"'+e.slice(3,-3).replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/"/gm,'\\"')+'"'})).replace(n,"")),s=JSON.parse(t.replace(/[\cA-\cZ]/gi,"")),l=!1}catch(t){e.error&&(i="JSON format error",e.error(f,i))}!l&&e.success&&e.success(s,i,f)}else e.success&&e.success(t,i,f)}else e.error&&e.error(f,i);f=null,h=!0}};var d,g;if(e.username?f.open(o,i,!0,e.username,e.password):f.open(o,i,!0),g=e.headers)for(d in g)f.setRequestHeader(d,g[d]);c&&f.setRequestHeader("Content-Type","application/json"),f.send(c),"number"==typeof l&&setTimeout(function(){h||(h=!0,f.abort(),e.error&&e.error(f,"request timeout"),f=null)},l)}}.call(g),g.bindMountData=function(e){function t(e,t,r,n){return function(e,i,o){if(!n.call(this,e,i,o)&&2==e)for(var a,s=0;a=t[s];s++)this.duals[a]=r[a]}}if(e&&"object"==(void 0===e?"undefined":s(e))){var r=d.$idSetter;Object.keys(r).forEach(function(n){var i=r[n];if("function"==typeof i){var o=e[n];if(o&&"object"==(void 0===o?"undefined":s(o))){var a=Object.assign({},o),l=a.__attr__;delete a.__attr__,Array.isArray(l)||(l=Object.keys(a));var u=t(n,l,a,i);Object.defineProperty(r,n,{enumerable:!0,configurable:!0,get:function(){return u}})}}})}else console.log("error: invalid W.$dataSrc")},g.loadingEntry=function(e,t,r){function n(e,t,r){var n=[];e.forEach(function(e){e[0]==t&&n.push(e[1])});var i=n.length,o=0;i?n.forEach(function(e){var t=document.createElement("link");"onload"in t?(r&&(t.onload=function(e){(o+=1)>=i&&r()}),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.head.appendChild(t)):(t=document.createElement("img"),r&&(t.onerror=function(e){(o+=1)>=i&&r()}),t.setAttribute("src",e),document.body.appendChild(t))}):r&&r()}var i=document.getElementById("react-container");if(i){i.hasAttribute("__debug__")&&(d.__debug__=parseInt(i.getAttribute("__debug__")||0)),i.hasAttribute("__design__")&&(d.__design__=parseInt(i.getAttribute("__design__")||0)),i.hasAttribute("__nobinding__")&&(d.__nobinding__=parseInt(i.getAttribute("__nobinding__")||0));var o=d.__nobinding__||0;window.W!==d&&(window.W&&(d.$modules=window.W.$modules),window.W=d);var a=d.$modules;Array.isArray(a)&&(a.forEach(function(n){"function"==typeof n&&n.call(r,e,t,r)}),a.splice(0));for(var s,c=document.querySelectorAll('link[rel="stylesheet"]'),f=c.length-1;f>=0;f-=1){var h=(s=c[f]).getAttribute("shared");h&&"false"!=h&&"0"!=h&&d.$css.unshift(["pseudo",s.href])}n(d.$css,"basic",function(){function e(e,t,r,n){try{return JSON.parse(e)}catch(e){console.log("invalid JSON format: "+(r?r+"["+n+"].":"")+t)}}function t(e){return e.replace(c,"ms-").replace(f,function(e,t){return t.toUpperCase()})}function r(e){var r=[],n="",i={},o=!1;return e.replace(h,function(e,t){return r.push([t,e]),""}).split(";").forEach(function(e){var a=n.length;if(n+=e+" ",e){for(;r.length;){var s=r[0][0];if(!(s>=a&&s<n.length))break;var l=r.shift();n=n.slice(0,s)+l[1]+n.slice(s)}var u=n.slice(a),p=u.indexOf(":");if(p>0){var c=u.slice(0,p).trim();c&&(i[t(c)]=u.slice(p+1).trim(),o=!0)}}}),o?i:null}function i(t,n,i){for(var o="",a=[],s="",l=t.attributes.length,u=!1,p=!1,c=0;c<l;c++){var f,h=t.attributes[c],d=h.name;if("$"==d){var g,v=h.value;if(!v)return null;"SPAN"==(f=t.nodeName)?u=!0:"PRE"==f&&(p=!0),"."==(g=v[0])||"/"==g?(a.push([d,v]),o=u?"RefSpan":"RefDiv"):o=v}else"sty__"==d||"style"==d?s=h.value:a.push([d,h.value])}if(o){var y={};if(s){var _="{"==s[0]&&"}"==s.slice(-1)?e(s.slice(1,-1),"style",n,0):r(s);_&&(y.style=_)}if(a.forEach(function(t){var r=t[1],o=t[0],a=o.split("-");if(a.length>1&&w.indexOf(a[0])<0)for(o=a.shift();a.length;){var s=a.shift();s&&(o+=s[0].toUpperCase()+s.slice(1))}"className"!=o&&(r&&"{"==r[0]&&"}"==r[r.length-1]&&"$"!=o[0]?y[o]=e(r.slice(1,-1),o,n,i):y[o]=r)}),p){var m=t.innerHTML;t.children.length&&(t.innerHTML=""),m&&(y["html."]=m),y["isPre."]=!0}else 0==t.children.length&&(m=t.textContent)&&(y["html."]=m);return[o,y,[]]}return null}function a(e,t,r){var n=r&&!d.__design__,i=null;n&&((i=y[t])||(n=!1));var o=n?b[e]:m[e];if(!n){if(o)return o;if(o=b[e])return o=m[e]=p(o._extend())}if(!o){var a=e.split("."),s=a.shift();for(o=v[s];o&&(s=a.shift());)o=o[s];if(!o||!o._extend)return console.log("error: can not find template ("+e+")"),null;b[e]=o}return n?p(o._extend(i)):o=m[e]=p(o._extend())}function s(e,t){var r=e[0],n=e[3],i=!o&&!t&&n&&n.search(g)<0,u=a(r,n,i);if(!u)return null;var p=e[1],c=e[2],f=c.length;if(i&&_&&!d.__design__){var h=_[n];h&&Object.assign(p,h)}for(var v=[u,p],y=!1,m=!i,b=0;b<f;b++){var w=c[b];if(Array.isArray(w)){var k=s(w,m);k&&v.push(k)}else{var O,x=[w];if(!w.classList.contains("rewgt-static"))for(;b+1<f&&!Array.isArray(O=c[b+1]);)b+=1,x.push(O);for(var P=x.length-1;P>=0;P--)if((O=x[P]).classList.contains("rewgt-static")){x.splice(P,1);for(var $=O.childNodes.length-1;$>=0;$--)x.splice(P,0,O.childNodes[$])}var S=d.$staticNodes.push(x)-1;v.push(l.createElement("div",{className:"rewgt-static",name:S+""})),y=!0}}return y&&(p["hasStatic."]=!0),l.createElement.apply(null,v)}n(d.$css,"lazy");var c=/^-ms-/,f=/-(.)/g,h=/(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*")/g,g=/\.[0-9]/,v=d.$templates,y=d.$main,_=(d.$utils,d.$dataSrc),m={},b={},w=["data","$data","dual","$dual","aria","$aria"];d.$creator.scanNodeAttr=i;var k=document.getElementById("react-container"),O=function(e){function t(e,r,o,a){for(var s,l=e[2],u=0;s=r.children[u];u++){var p=i(s,a,u);if(o){if(0==u&&(!p||"BodyPanel"!=p[0]))return console.log("error: root node of JSX should be BodyPanel"),!1;var c=p[1];if(c.hasOwnProperty("width")&&isNaN(c.width)&&(c.width=null),c.hasOwnProperty("height")&&isNaN(c.height)&&(c.height=null),u>0)return!0}if(p){l.push(p);var f=(p[1].key||u)+"";n.push(f),p[3]=n.join(".");var h=!1;if(t(p,s,!1,a?a+"["+u+"]."+p[0]:p[0])||(h=!0),n.pop(),h)return!1}else l.push(s)}return!0}if(!e)return null;var r=[null,null,[]],n=[""];return t(r,e,!0,"")?r[2][0]:null}(k);if(O){var x=s(O,!1);x&&(d.$cachedClass=m,u.render(x,k,function(){d.$dataSrc=null,k.style.visibility="visible",y.isReady=!0;var e=y.$$onLoad_;"function"==typeof e&&e()}))}})}},t.exports=d}).call(this,e("_process"))},{_process:11,"create-react-class":2,react:void 0,"react-dom":void 0}],10:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function s(e){return e?"1":""}function l(e){var t=e.parentOf(!0);return t&&t.widget===nt||!1}function u(e){function t(e){return"$"==(e=e.split(".").pop())[0]&&(e=e.slice(1)),e}function r(e){var t=e&&e._currentElement,r=t&&t._owner,n=r&&r._instance,i=n&&n.$gui;return i?i.keyid+"":""}function n(e){var t=e&&e.return,r=t&&t.stateNode,n=r&&r.$gui;return n?n.keyid+"":""}if(!pt)if(e.hasAttribute("data-reactid"))pt=function(e){return t(e.getAttribute("data-reactid")||"")};else{for(var i in e)if(0==i.indexOf("__reactInternalInstance$")){ut=i;break}if(!ut)return console.log("warning: invalid react version!"),"";pt=parseInt(Be.version.split(".")[0])>=16?function(e){return n(e[ut])}:function(e){return r(e[ut])}}return pt(e)}function p(){return++mt}function c(e){var t=e.$gui.className,r=e.state.klass;return t?r?t+" "+r:t:r||""}function f(e,t){if(!e)return!1;for(var r=" "+e+" ",n=Array.isArray(t)?t:String(t).split(/ +/),i=n.length,o=0;o<i;o++){var a=n[o];if(a&&r.indexOf(" "+a+" ")>=0)return!0}return!1}function h(e,t){for(var r=" "+(e||"")+" ",n=Array.isArray(t)?t:String(t).split(/ +/),i=n.length,o=0;o<i;o++){var a=n[o];a&&r.indexOf(" "+a+" ")<0&&(r+=a+" ")}return r.trim()}function d(e,t){if(!e)return"";for(var r=" "+e+" ",n=Array.isArray(t)?t:String(t).split(/ +/),i=n.length-1;i>=0;i--){var o=n[i];o&&(r=r.replace(" "+o+" "," "))}return r.trim()}function g(e,t,r,n){for(var i=" "+e,o=i.length,a=i+" "+t+" ",s=Array.isArray(r)?r:String(r).split(/ +/),l=s.length-1;l>=0;l--){var u;if((f=s[l])&&(u=a.indexOf(" "+f+" "))>=0){if(u<o)throw new Error("can not remove readonly class name: "+f);a=a.slice(0,u)+a.slice(u+f.length+1)}}if(Array.isArray(n))for(var p=n.length,c=0;c<p;c++){var f=n[c];f&&a.indexOf(" "+f+" ")<0&&(a+=f+" ")}return a.slice(o).trim()}function v(e){for(var t=Array.isArray(e)?e:String(e).split(/ +/),r=[],n=[],i=t.length-1;i>=0;i--){var o=t[i];if(o){var a=o.split("-"),s=a.length;if(s>1)for(var l=1;l<s;l++){var u=a.shift();a.push(u),r.push(a.join("-"))}else{var p;"S"==o[0]&&(p=bt.indexOf(o))>=0&&bt.forEach(function(e,t){t!=p&&r.push(e)})}n.push(o)}}return[r,n]}function y(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=void 0===r?"undefined":ze(r);if("string"===n||"number"===n)e.push(r);else if(Array.isArray(r))e.push(y.apply(null,r));else if("object"===n)for(var i in r)vt.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}function _(e,t){var r=e.split(/ +/);if(Array.isArray(t))for(n=r.length-1;n>=0;n--)(!(i=r[n])||t.indexOf(i)>=0)&&r.splice(n,1);else for(var n=r.length-1;n>=0;n--){var i=r[n];i&&!t[i]||r.splice(n,1)}return r.join(" ")}function m(e,t){if(Array.isArray(t)){var r,n=t.length;for(r=0;r<n;r++)if(m(e,t[r]))return!0;return!1}if(t&&"string"==typeof t)for(var i=e.indexOf(t);i>=0;){if(0==i||" "==e[i-1]){var o=e[i+t.length];if(!o||" "==o)return!0}i=e.indexOf(t,i+t.length)}return!1}function b(e){var t=(e.key||"").replace(wt,"");return"."==t[0]?t.slice(1):t}function w(e){var t={};return Object.keys(e).forEach(function(r){yt[r]||(t[r]=e[r])}),e.width&&(t.width=e.width),e.height&&(t.height=e.height),t}function k(e,t){for(var r,n=c(e),i=e.state,o=e.$gui,a=o.tagAttrs,s=o.dataset2,l=Object.assign({style:t||i.style},o.eventset),u=0;f=a[u];u++)l[f]=i[f];var p=l.data;void 0!==p&&"string"!=typeof p&&delete l.data;for(var f,u=0;f=s[u];u++)l[f]=i[f];return n&&(l.className=n),qe.__design__&&(r=i["data-group.opt"])&&(l["data-group.opt"]=r),l}function O(e,t){function r(e){function t(t,r){var n=void 0;r&&"object"==(void 0===r?"undefined":ze(r))&&(n=r),setTimeout(function(){var r=t?oe(e,t):e;r?r!==e?r.props["isOption."]&&r.setChecked&&r.setChecked(null,n):console.log("warning: trigger can not fire widget itself."):console.log("warning: can not find target ("+t+")")},0)}var r=e.state.trigger;if(Array.isArray(r))for(var n=(r=r.slice(0)).shift();n;){var i,o=void 0===n?"undefined":ze(n);if("string"==o)t(n,null);else{if("object"!=o)break;if(Array.isArray(n))!function(t,r,n){if("string"==typeof t&&r){var i=t?oe(e,t):e;i?vt.call(i.duals,n)&&setTimeout(function(){i.duals[n]=Xe.update(i.duals[n],r)},0):console.log("warning: can not find target ("+t+")")}}(n[0]||"",n[1],n[2]||"data");else{if("string"!=typeof(i=n.$trigger))break;var a=Object.assign({},n);delete a.$trigger,t(i,a)}}n=r.shift()}}if(arguments.length>=3){var n=arguments[2],i=!1;if(n){var o=void 0===n?"undefined":ze(n);if("string"==o)n=[n],i=!0;else if("object"==o)if(Array.isArray(n)){var a;"string"==typeof n[0]&&"object"==ze(a=n[1])&&"string"!=typeof a.$trigger&&(n=[n]),i=!0}else"string"==typeof n.$trigger&&(i=!0,n=[n])}if(!i)return void console.log("warning: invalid trigger data (key="+t.$gui.keyid+")");t.duals.trigger=n}else{var s=t.$gui,l=s.syncTrigger;if(l&&l>1)if(l<mt){var u=s.exprAttrs.trigger;if(u)try{s.syncTrigger=2,u(t)}catch(e){console.log(e)}}else s.syncTrigger=3}setTimeout(function(){t.isHooked&&e!==t.state.trigger&&r(t)},0)}function x(e){return e===mt?p():mt}function P(e){if(!e||"string"!=typeof e)return null;var t=qe.$cachedClass[e];if(t||null===t)return t;var r=e.split("."),n=r.shift();for(t=Ye[n];t&&(n=r.shift());)t=t[n];return t&&t._extend?qe.$cachedClass[e]=t=Ue(t._extend()):qe.$cachedClass[e]=t=null,t}function $(e){var t={};if("string"==(void 0===e?"undefined":ze(e))){e||(e="*");var r=e.split("."),n=!1;"*"==r[r.length-1]&&(n=!0,r.pop());var i=r.join("."),o=Ye,a=r.shift(),s="";if(a)for(o=o[s=a];o&&(a=r.shift());)o=o[s=a];if(o)if(n)o._extend?s&&(t[s]=Ue(o._extend())):function(e,t,r){Object.keys(r).forEach(function(n){var i=r[n];if(i&&i._extend){var o=t?t+"."+n:n,a=qe.$cachedClass[o];null!==a&&(a||(a=qe.$cachedClass[o]=Ue(i._extend())),e[n]=a)}})}(t,i,o);else if(o._extend){var l=qe.$cachedClass[e];null!==l&&s&&(l||(l=qe.$cachedClass[e]=Ue(o._extend())),t[s]=l)}}else if(Array.isArray(e))for(var u=e.length,p=0;p<u;p+=1){var c=e[p];c&&"string"==typeof c&&Object.assign(t,$(c))}return t}function S(e,t){var r=t&&t.widget,n=r&&r.$callspace;if(n){if(n.forSpace){var i=e.evalInfo();i&&"for"==i[1]&&(n=n.forSpace)}return n.exprSpace}return null}function j(e){function t(){for(var e=[],t=0,r=this.state,i=this.index,o=this.input,a=0,s=n.length;a<s;a++){var l=n[a],u=l.start,p=u.length;if(!p||u.indexOf(r)>=0||r%2&&1===p&&!u[0]){var c=l.pattern;c.lastIndex=i;var f=c.exec(o);if(f&&f.index===i){var h=e.push({result:f,action:l.action,length:f[0].length});for(l.global&&(t=h);--h>t;){var d=h-1;if(e[h].length>e[d].length){var g=e[h];e[h]=e[d],e[d]=g}}}}}return e}"function"!=typeof e&&(e=j.defunct);var r=[],n=[],i=0;this.state=0,this.index=0,this.input="",this.addRule=function(e,t,r){var i=e.global;if(!i){var o="g";e.multiline&&(o+="m"),e.ignoreCase&&(o+="i"),e=new RegExp(e.source,o)}return Array.isArray(r)||(r=[0]),n.push({pattern:e,global:i,action:t,start:r}),this},this.setInput=function(e){return i=0,this.state=0,this.index=0,r.length=0,this.input=e,this},this.lex=function(){if(r.length)return r.shift();for(this.reject=!0;this.index<=this.input.length;){for(var n=t.call(this).splice(i),o=this.index;n.length&&this.reject;){var a=n.shift(),s=a.result,l=a.length;this.index+=l,this.reject=!1,i++;var u=a.action.apply(this,s);if(this.reject)this.index=s.index;else if(void 0!==u)return Array.isArray(u)&&(r=u.slice(1),u=u[0]),l&&(i=0),u}var p=this.input;if(o<p.length)if(this.reject){if(i=0,void 0!==(u=e.call(this,p.charAt(this.index++))))return Array.isArray(u)?(r=u.slice(1),u[0]):u}else this.index!==o&&(i=0),this.reject=!0;else{if(!n.length)break;this.reject=!0}}}}function D(e,t,r){return Pt.push([t,e,xt.index-e.length,r]),t}function N(e,t){function r(e,t,r,n){if(34==e[0]){var i=e[1],a=i[1],s=i[2],l=s?s[0]:0;if(a[3]<n&&l>=31&&l<=43)return i[2]=[34,[s,t,r],s[2]],void o.push(e)}o.push([34,[e,t,r],e[2]])}function n(e,t,n){if(e>=3){var i,a,s,l,u=o[e-1],p=o[e-2],c=o[e-3],f=u[0],h=p[0],d=c[0];if(e>=5&&(i=o[e-4],s=i[0],a=o[e-5],l=a[0],!n&&l>=31&&l<=43&&5==s&&d>=31&&d<=43&&6==h&&f>=31&&f<=43))return o.splice(e-5,5,[35,[a,i,c,p,u],a[2]]),!0;if(d>=31&&d<=43&&14==h&&f>=31&&f<=43)return o.splice(e-3,3),r(c,p,u,p[3]),!0;if(!n&&d>=51&&d<=52&&7==h&&f>=31&&f<=43)return o.splice(e-3,3,[52,[c,p,u],c[2]]),!0;if(!n&&d>=31&&d<=43&&6==h&&f>=31&&f<=43)return e>=5&&l>=61&&l<=62&&7==s?o.splice(e-5,5,[62,[a,i,c,p,u],a[2]]):o.splice(e-3,3,[61,[c,p,u],c[2]]),!0}return e>=1&&!t&&(f=(u=o[e-1])[0])>=31&&f<=43&&(o.splice(e-1,1,[51,[u],u[2]]),!0)}for(var i,o=[];i=e.shift();)1!=i[0]&&function(e){var t=e[0];3==t&&"in"==e[1]&&(t=e[0]=14,e[3]=11);var i=o.length;if(20==t)for(i>=2&&7==o[i-1][0]&&(i-=1,o.pop());n(i);)i=o.length;else if(2==t){if(i){var a=o[i-1];if(14==a[0]&&"-"==a[1]){var s=!1;if(1==i)s=!0;else{var l=o[i-2][0];$t.indexOf(l)<0&&(s=!0)}s&&(o.pop(),i-=1,e[1]="-"+e[1])}}o.push([31,[e],e[2]])}else if(3==t||4==t)o.push([29+t,[e],e[2]]);else if(7==t){for(;n(i);)i=o.length;o.push(e)}else if(6==t||8==t){for(;n(i,!0);)i=o.length;o.push(e)}else if(5==t||10==t||12==t||14==t){for(;n(i,!0,!0);)i=o.length;o.push(e)}else if(11==t){for(i>=2&&7==o[i-1][0]&&(i-=1,o.pop());n(i);)i=o.length;if(i>=3){var u=o[i-1],p=o[i-2],c=o[i-3],f=u[0],h=p[0];if((d=c[0])>=31&&d<=43&&10==h&&51==f)return p[0]=14,p[3]=18,u=u[1][0],o.splice(i-3,3),void r(c,p,u,18)}if(i>=2){var u=o[i-1],p=o[i-2],f=u[0];if(10==(h=p[0])){if(f>=31&&f<=43)return void o.splice(i-2,2,[39,[p,[51,[u],u[2]],e],p[2]]);if(f>=51&&f<=52)return void o.splice(i-2,2,[39,[p,u,e],p[2]])}}if(i>=1&&10==(f=(u=o[i-1])[0]))return void(o[i-1]=[38,[u,e],u[2]]);o.push(e)}else if(13==t){for(;n(i);)i=o.length;if(i>=3){var u=o[i-1],p=o[i-2],c=o[i-3],f=u[0],h=p[0],d=c[0];if(d>=31&&d<=43&&12==h&&f>=51&&f<=52)return p[0]=14,p[3]=17,o.splice(i-3,3),void r(c,p,u,17)}if(i>=2){var u=o[i-1],p=o[i-2],f=u[0];if((h=p[0])>=31&&h<=43&&12==f)return u[0]=14,u[3]=17,o.splice(i-2,2),void r(p,u,null,17);if(12==h&&f>=51&&f<=52)return void o.splice(i-2,2,[37,[p,u,e],p[2]])}o.push(e)}else if(9==t){for(i>=2&&7==o[i-1][0]&&(i-=1,o.pop());n(i,!0);)i=o.length;if(i>=2){var u=o[i-1],p=o[i-2],f=u[0];if(8==(h=p[0])&&f>=61&&f<=62)return void o.splice(i-2,2,[41,[p,u,e],p[2]])}if(i>=1&&8==(f=(u=o[i-1])[0]))return void(o[i-1]=[40,[u,e],u[2]]);o.push(e)}}(i);if(0==o.length)throw new Error("expression is empty");if(i=o[0],1==o.length){var a=i[0];if(a>=51&&a<=52)return i;if(61==a&&t)return i}if(i[0]<20)throw new Error("invalid operand ("+i[1]+") at offset ("+i[2]+")");for(var s=0,l=i[2];s<o.length;){var u=o[s++],p=u[0];if(p<51||p>52){l=u[2];break}}throw new Error("syntax error at offset ("+l+")")}function E(e,t){function r(e,n){var i=n[0],o=n[1];if(61==i){l=32==(s=(a=o[0])[0])?a[1][0][1]:E(a,t);e.push([l,E(o[2],t)])}else{if(62!=i)throw new Error("syntax error at offset ("+n[2]+")");r(e,o[0]);var a=o[2],s=a[0],l=32==s?a[1][0][1]:E(a,t);e.push([l,E(o[4],t)])}}function n(e,r){var i=r[0],o=r[1];51==i?e.push(E(o[0],t)):52==i?(n(e,o[0]),e.push(E(o[2],t))):e.push(E(r,t))}function i(e){var r=e[0],n=e[1];return 51==r?E(n[0],t):52==r?i(n[0],t):E(e,t)}function o(e){if(52==e[0]){var r=e[1];o(r[0],t),E(r[2],t)}}var a=e[0],s=e[1];if(31==a)return parseFloat(s[0][1]);if(32==a){var l=s[0][1];if("null"==l)return null;if("undefined"==l)return;if("true"==l)return!0;if("false"==l)return!1;if("NaN"==l)return NaN;if(void 0!==(p=t[l])||vt.call(t,l))return p;throw new Error("symbol ("+l+") not defined")}if(33==a){var u=s[0][1];return u?u.slice(1,-1):""}if(34!=a){if(35==a)return E((_=E(s[0],t))?s[2]:s[4],t);if(37==a)return n(m=[],s[1]),m[m.length-1];if(38==a)return[];if(39==a)return n(m=[],s[1]),m;if(40==a)return{};if(41==a){var p={};return r(m=[],s[1]),m.forEach(function(e){p[e[0]]=e[1]}),p}if(51==a)return E(s[0],t);if(52==a)return n(m=[],e),m[m.length-1];throw new Error("syntax error at offset ("+e[2]+")")}var c=s[0],f=s[1],h=s[2],d=f[1];if("."==d){if(32!=h[0])throw new Error("syntax error at offset ("+e[2]+"): invalid attribute name");var g=E(c,t),v=h[1][0][1];try{return g[v]}catch(e){return void console.log("error: get attribute ("+v+") failed")}}else{if("["!=d){if("("==d){if(32==c[0]&&"while"==c[1][0][1]){var y=0;if(!h)return y;for(var _=i(h);_;)y+=1,o(h),_=i(h);return y}var m=[];if(h&&n(m,h),34==c[0]){var b=c[1];if("."==b[1][1]){var w=b[2];if(32!=w[0])throw new Error("syntax error at offset ("+w[2]+"): invalid attribute name");var k=E(b[0],t);return k[w[1][0][1]].apply(k,m)}}return E(c,t).apply(null,m)}if("&&"==d)return(O=E(c,t))?E(h,t):O;if("||"==d)return(O=E(c,t))||E(h,t);var O=E(c,t),x=E(h,t);if("*"==d)return O*x;if("/"==d)return O/x;if("%"==d)return O%x;if("+"==d)return O+x;if("-"==d)return O-x;if("<<"==d)return O<<x;if(">>"==d)return O>>x;if(">>>"==d)return O>>>x;if("<"==d)return O<x;if("<="==d)return O<=x;if(">"==d)return O>x;if(">="==d)return O>=x;if("in"==d)return O in x;if("=="==d)return O==x;if("!="==d)return O!=x;if("==="==d)return O===x;if("!=="==d)return O!==x;if("&"==d)return O&x;if("^"==d)return O^x;if("|"==d)return O|x;throw new Error("unknown operator: "+d)}var g=E(c,t),v=E(h,t);try{return g[v]}catch(e){return void console.log("error: get attribute (["+v+"]) failed")}}}function I(e,t,r){var n=null,i=!1;Pt=[];try{for(xt.setInput(e);xt.lex(););i=!0}catch(e){Ge.instantShow("error: lexical analysis failed at "+(t?t.widget.getPath():"")+":"+r),console.log(e)}if(!i)return null;try{n=N(Pt,!0)}catch(e){Ge.instantShow("error: yacc analysis failed at "+(t?t.widget.getPath():"")+":"+r),console.log(e)}return n}function A(e,t,r,n){var i=n||0,o=e.widget;if("number"==typeof t){for(var a=void 0;o;){var s=o.component,l=s&&s.props["for.index"];if(o.$callspace&&vt.call(o.$callspace,"flowFlag")){if(o.$callspace.forSpace){if(t>=-1)return-1==t?a="number"==typeof l?l:void 0:0==i&&(a="number"==typeof l?l:void 0),r&&(r.unshift(t>=0&&0!=i),r.unshift(o.$callspace),r.unshift(a)),o.component;t+=2}else{if(t>=0){var u=o.$callspace.flowFlag;if(("for"==u||"for0"==u)&&0==i){a="number"==typeof l?l:void 0,o=o.parent,i+=1;continue}return r&&(r.unshift(!1),r.unshift(o.$callspace),r.unshift(a)),o.component}t+=1}a="number"==typeof l?l:void 0}else void 0===a&&"number"==typeof l&&(a=l);o=o.parent,i+=1}return null}for(;o;){if(o.$callspace&&vt.call(o.$callspace,"flowFlag")&&(i>0||o.$callspace.forSpace))return oe(o.component,t);o=o.parent,i+=1}return null}function T(e,t,r){function n(r){return function(n){var o=n||0,a=void 0===o?"undefined":ze(o);if("number"==a?o>0&&(o=0):"string"!=a&&(o=0),0===o)return t[r];var s=0;i!==e.index&&(s=1);var l=A(t,o,[],s);return l?l[r]:null}}e.ex=Je.createEx(t),e.Math=Math;var i=function(e,r){void 0===e?e=0:("number"!=typeof e||isNaN(e)||e>0)&&(console.log("warning: invalid expression: index("+e+")"),e=0);var n=[];return A(t,e,n,r)?n[0]:void 0};e.index=i,e.props=n("props"),e.state=n("state"),e.duals=n("duals"),e.typeof=function(e){return void 0===e?"undefined":ze(e)},e.count=function(n){if(void 0===n?n=0:("number"!=typeof n||isNaN(n)||n>0)&&(console.log("warning: invalid expression: count("+n+")"),n=0),0===n&&r)throw new Error("invalid expression: count(0)");var o=0;i!==e.index&&(o=1);var a=[],s=A(t,n,a,o),l=a[1];return s&&l?((a[2]?l.forSpace:l)["data-for.path"]||[]).length:0},e.item=function(n){if(void 0===n?n=0:("number"!=typeof n||isNaN(n)||n>0)&&(console.log("warning: invalid expression: item("+n+")"),n=0),0===n&&r)throw new Error("invalid expression: item(0)");var o=0;i!==e.index&&(o=1);var a=[],s=A(t,n,a,o),l=a[1];if(s&&l){var u=o?e.index(n):a[0];if("number"==typeof u)return((a[2]?l.forSpace:l)["data-for.path"]||{})[u]}}}function C(e){var t=e.widget;if(!(t=t&&t.parent))return!1;var r=t.component;if(!r)return!1;var n=r.$gui.compIdx[e.$gui.keyid];if("number"!=typeof n)return!1;var i=!1,o=r.$gui.comps;for(n-=1;n>=0;){var a=o[n--],s=b(a);if(a=a&&s&&t[s],(a=a&&a.component)&&a.$gui.compState){var l=a.$gui.flowFlag;if("if"==l){a.state[l]&&(i=!0);break}if("elif"!=l)break;if(a.state[l]){i=!0;break}}}return i}function R(e,t,r){function n(e){if(32==e[0]){var t=e[1][0][1],r=jt.indexOf(t);if(r>=0)return r+1}return 0}var i,o=e[0],a=e[1];if(o>=51)51==o?R(a[0],t):52==o?(R(a[0],t),R(a[2],t)):61==o?(R(a[0],t),R(a[2],t)):62==o&&(R(a[0],t),R(a[2],t),R(a[4],t));else if(o>=31)if(32==o){if(!r&&(i=n(e))){var s=e[2],l=e.slice(0);return e[0]=34,e[1]=[l,[14,"(",s,17],null],t.push([i,0])}}else if(34==o){var u=a[0],p=a[1],c=a[2],f=p[1];if("."==f)if(!r&&(i=n(u)))if(32==c[0]){h=c[1][0][1];t.push([i,0,h]);var s=u[2],l=u.slice(0);u[0]=34,u[1]=[l,[14,"(",s,17],null]}else R(c,t,!0);else{if(R(u,t,r)&&32==c[0]){var h=c[1][0][1];return(g=t[t.length-1]).push(h),0}R(c,t,!0)}else if("["==f)if(!r&&(i=n(u)))if(33==c[0]){d=c[1][0][1];t.push([i,0,d.slice(1,-1)]);var s=u[2],l=u.slice(0);u[0]=34,u[1]=[l,[14,"(",s,17],null]}else if(4==i&&31==c[0]){t.push([i,0]);var s=u[2],l=u.slice(0);u[0]=34,u[1]=[l,[14,"(",s,17],null]}else R(c,t);else{if(R(u,t,r)&&33==c[0]){var d=c[1][0][1],g=t[t.length-1];return g.push(d.slice(1,-1)),0}R(c,t)}else if("("==f)if(i=n(u)){if(null===c)return t.push([i,0]);if(51==c[0]){var v=c[1][0],y=v[0];if(31==y){var _=v[1][0][1];return t.push([i,parseFloat(_)])}if(33==y){d=v[1][0][1];return t.push([i,d.slice(1,-1)])}}R(c,t)}else R(u,t),null!==c&&R(c,t);else"in"==f?(32!=u[0]&&R(u,t),R(c,t)):(R(u,t),R(c,t))}else 35==o?(R(a[0],t),R(a[2],t),R(a[4],t)):37==o?R(a[1],t):39==o?R(a[1],t):41==o&&R(a[1],t);return 0}function H(e,t,r){var n=I(t,e,r);if(n){61==n[0]&&(n=n[1][2]),R(n,[]);var i=[],o=A(e,0,i,1),a=i[1];return o&&a?(i[2]&&(a=a.forSpace),function(e,t){var i=a.exprSpace,o=i.index;i.index=function(e){return void 0===e||0===e?t:o(e,1)},i.$info=[e,r,Xe.time()];try{return E(n,i)}finally{i.index=o}}):null}return null}function W(e,t,r,n){function i(e,t){var r=e.widget;if(!(r=r&&r.parent))return!1;var n=r.component;if(!n)return!1;var i=n.$gui.compIdx[e.$gui.keyid];if("number"!=typeof i)return!1;var o=!1,a=n.$gui.comps,s=[],l=!1;for(i-=1;i>=0;){var u=a[i--],p=b(u);if(u=u&&p&&r[p],(u=u&&u.component)&&u.$gui.compState){var c=u.$gui.flowFlag;if("if"!=c&&"elif"!=c)break;var f=u.$gui.flowExprId0;if(!l&&(u.$gui.flowExprId!==f||t>f)?s.unshift([c,u]):(l=!0,u.state[c]&&(o=!0)),"if"==c)break}}return s.length&&s.forEach(function(e){var t=e[0],r=e[1],n=r.$gui.exprAttrs[t];if(o||!n)r.state[t]&&setTimeout(function(){r.state[t]=!0;var e={};e[t]=!1,r.setState(e)},0),r.state[t]=!1,r.$gui.flowExprId0=r.$gui.flowExprId=St;else try{var i=r.state[t];n(r,1);var a=r.state[t];a&&(o=!0),!i!=!a&&setTimeout(function(){r.state[t]=i;var e={};e[t]=a,r.setState(e,function(){a&&r.props["hasStatic."]&&de(r,!0)})},0)}catch(e){console.log(e)}}),o}function o(e,t,r){var n=e.widget;if(n=n&&n.parent){var i=n.component;if(i){var o=i.$gui.compIdx[e.$gui.keyid],a=i.$gui.comps;if("number"==typeof o){for(var s=[],l=a.length,u=o+1;u<l;u+=1){var p=a[u],c=p&&b(p),f=c&&n[c];if((f=f&&f.component)&&f.$gui.compState){var h=f.$gui.flowFlag;if("elif"!=h&&"else"!=h)break;var d=f.$gui.flowExprId0;if(!(f.$gui.flowExprId!==d||r>d))break;if(s.push([h,f]),"else"==h)break}}s.forEach(function(e){var r=e[0],n=e[1],i="elif"==r?n.$gui.exprAttrs[r]:null;if(t||"elif"==r&&!i)n.$gui.flowExprId0=n.$gui.flowExprId=St,n.state[r]&&(n.state[r]=!1,setTimeout(function(){n.state[r]=!0;var e={};e[r]=!1,n.setState(e)},0));else if("elif"==r)try{var o=n.state[r];i(n,2);var a=n.state[r];a&&(t=!0),!o!=!a&&setTimeout(function(){n.state.elif=!a,n.setState({elif:a},function(){a&&n.props["hasStatic."]&&de(n,!0)})},0)}catch(e){console.log(e)}else n.$gui.flowExprId0=n.$gui.flowExprId=St,n.state.else||(n.state.else=!0,setTimeout(function(){n.state.else=!1,n.setState({else:!0},function(){n.props["hasStatic."]&&de(n,!0)})},0))})}}}}var a="any",s=I(r,e,t);if(s){61==s[0]&&(a=s[1][0],s=s[1][2],32==a[0]&&(a=a[1][0][1]),"all"!==a&&"strict"!==a&&(a="any"));var l=_t.indexOf(t);l>=0&&"any"!=a&&(console.log("error: invalid using '"+a+":' at "+e.widget.getPath()+":"+t),a="any");var u=[];if(R(s,u),"trigger"==t){var p=e.props.fireType||"auto";"onsite"===p?(u=[],e.$gui.syncTrigger=3):e.$gui.syncTrigger="none"===p?0:1}var c={},f=[];u.forEach(function(r){var n,i=r[0],o=r[1];if(i>=4&&"number"==typeof o)o<=0&&f.indexOf(o)<0&&f.push(o);else if(3==i&&void 0!==(n=r[2]))if("number"!=typeof o||o<=0){var a=c[o];if(a||(a=c[o]=[]),0==a.length){var s=A(e,o,[],0);s?a.push(s,n):console.log("error: can not find duals("+o+") at "+e.widget.getPath()+":"+t)}else a.indexOf(n,1)<0&&a.push(n)}else console.log("error: invalid using duals("+o+") at "+e.widget.getPath()+":"+t)}),f.sort(function(e,t){return e-t});var h={};Object.keys(c).forEach(function(r){var n=c[r],i=n&&n[0];if(i){var o=n.slice(1);"any"!=a&&o.forEach(function(e){h[r+":"+e]=!1}),i.listen(o,function(n,o,s){if(e.isHooked)if("any"==a)(f=e.state.exprAttrs.slice(0)).indexOf(t)<0&&f.push(t),_t.indexOf(t)>0&&(0==Dt&&(Dt=++St,setTimeout(function(){Dt=0},0)),e.$gui.flowExprId=Dt),e.setState({exprAttrs:f});else{var l=r+":"+s;if(vt.call(h,l)){"strict"==a&&h[l]&&console.log("error: conflict in strict mode, duals("+r+")."+s+" is fired more than one time."),h[l]=!0;for(var u=!0,p=Object.keys(h),c=p.length-1;c>=0;c--)if(!h[p[c]]){u=!1;break}if(u){for(c=p.length-1;c>=0;c--)h[p[c]]=!1;var f=e.state.exprAttrs.slice(0);f.indexOf(t)<0&&f.push(t),e.setState({exprAttrs:f})}}}else i.unlisten("*",e)})}}),f.length&&"any"==a&&function(e,t,r,n){var i=n[n.length-1],o=[],a=A(e,i,o,0);if(a){for(var s,l=a.widget,u=o[1],p=o[2],c=0;l&&u;){if(n.indexOf(i)>=0&&(s=l.component)&&(s.props.$for||s.props.$$for)&&(s.listen("for",function(r,n){if(e.isHooked){var i=e.state.exprAttrs.slice(0);i.indexOf(t)<0&&i.push(t),_t.indexOf(t)>0&&(0==Dt&&(Dt=++St,setTimeout(function(){Dt=0},0)),e.$gui.flowExprId=Dt),e.setState({exprAttrs:i})}else s.unlisten("*",e)}),c+=1),p)p=!1,i-=1;else for(l=l.parent;l;){if(u=l.$callspace){p=!!u.forSpace,i-=1;break}l=l.parent}if(i<r)break}c<n.length&&console.log("error: not all source ($for) is watched for "+e.widget.getPath()+":"+t)}else console.log("error: can not listen ("+i+":for) for "+e.widget.getPath()+":"+t)}(e,t,f[0],f);var d=[],g=A(e,0,d,0),v=d[0],y=d[1];if(!g||!y)return console.log("warning: locate current callspace failed."),[null,a];d[2]&&(y=y.forSpace);var _=!1,m=null,w=null,k=null;if("html"==t)_=!0;else if(0==l){var x=[],P=s,$=P[0],S=P[1];if(51==$&&37==S[0][0]&&($=(P=S[0][1][1])[0],S=P[1]),51==$)m=S[0];else if(52==$){for(;52==$;)x.unshift(S[2]),$=(P=S[0])[0],S=P[1];51==$&&(m=S[0])}else m=P;if(m=m&&34==m[0]&&"in"==(S=m[1])[1][1]?S[2]:null)for(;x.length;){var j=x.pop(),D=j[0];if(31==D)k||(k=[]),k.unshift(parseFloat(j[1][0][1]));else if(33==D)k||(k=[]),k.unshift(j[1][0][1].slice(1,-1));else{if(x.length){console.log("warning: invalid filter expression ($for) at "+e.widget.getPath()),w=null;break}w=j}}else console.log("error: invalid expression ($for) at "+e.widget.getPath())}return[function(e,r){var a=y.exprSpace,u=a.index;a.index=function(e){return void 0===e||0===e?v:u(e,1)},a.$info=[e,t,Xe.time()];try{if(0==l)if(e.$gui.flowExprId0=e.$gui.flowExprId=St,m){var p=E(m,a);if(Array.isArray(p)){if(w){var c=[],f=p.length;if(f){a.$count=f;for(var h=0;h<f;h++){var d=a.$item=p[h];a.$index=h;try{E(w,a)&&c.push(d)}catch(t){console.log("error: run filter failed ($index="+h+" in "+e.widget.getPath()+")"),console.log(t)}}delete a.$index,delete a.$item,delete a.$count}p=c}k&&(p=Xe.order(p,k)),e.state[t]=p}else console.log("error: result of '$for' ("+e.widget.getPath()+") should be array"),e.state[t]=[]}else e.state[t]=[];else if(l>=1){var g=e.$gui.flowExprId;if(r=r||0,2==l){var b=!1,x=!1;if(g!==e.$gui.flowExprId0?x=!0:r&&St>e.$gui.flowExprId0&&(x=!0),e.$gui.flowExprId0=e.$gui.flowExprId=St,x){var P,$=e.state.elif;1!=r&&i(e,g)?(b=!0,P=e.state.elif=!1):b=!!(P=e.state.elif=E(s,a)),P&&$!==P&&e.props["hasStatic."]&&setTimeout(function(){de(e,!0)},0)}else(e.state.elif||1!=r&&i(e,g))&&(b=!0);2!=r&&o(e,b,g)}else if(1==l){x=!1;if(g!==e.$gui.flowExprId0?x=!0:r&&St>e.$gui.flowExprId0&&(x=!0),e.$gui.flowExprId0=e.$gui.flowExprId=St,x){$=e.state.if;(P=e.state.if=E(s,a))&&$!==P&&e.props["hasStatic."]&&setTimeout(function(){de(e,!0)},0)}2!=r&&o(e,!!e.state.if,g)}}else{if(n){var S=e.$gui.syncTrigger;if(S){var j=e.state.trigger;S<=2&&(e.duals[t]=E(s,a));var D=!1;1!==S&&(2===S?(D=!0,e.$gui.syncTrigger=3):e.$gui.syncTrigger=mt),D||O(j,e)}else e.duals[t]=E(s,a)}else e.state[t]=E(s,a);_&&(e.duals["html."]=e.state[t])}}finally{a.index=u}},a]}return[null,a]}function M(e,t,r,n){for(var i,o=0;i=e[o];o++)try{var a=i[0],s=i[1];i[2]?a&&(a.duals[s]=t):a?a[s]&&a[s](t,r,n):"function"==typeof s&&s(t,r,n)}catch(e){console.log(e)}}function F(e,t,r){var n=e.$gui,i=n.connectTo[t];i&&n.compState>=2&&setTimeout(function(){M(i,e.state[t],r,t)},0)}function L(e,t,r,n,i){var o=e.$gui,a="id__"==t;return a&&(i&&(i=void 0,console.log("error: can not apply base.setter to duals.id__")),r&&n&&(o.hasIdSetter=!0)),i&&(i.setter=r||function(r,n){e.state[t]=r}),[function(){return this.state[t]}.bind(e),function(s){if(this.state){var l,u;if(arguments.length>=2)l=arguments[1],u=!1;else{if((l=this.state[t])===s)return;u=!0}var p=!1;if(a&&s<=2)u&&(this.state.id__=o.id__=s),r&&r(s,l),n&&n(s,l,t),1==s&&(o.id2__=0),p=!r&&0!=s;else if(o.inSync){if(o.compState<=1)return void o.initDuals.push([t,s]);r?i||(u?this.state[t]=s:s=this.state[t],r(s,l)):(u&&!i?this.state[t]=s:s=this.state[t],p=!0),n&&n(s,l,t)}else{var c=o.duals_;c?c.push([t,s]):(2!=this.state.id__||a||(o.id2__=0),(c=o.duals_=this.state.duals.slice(0)).push([t,s]),e.setState({duals:c}))}if(p&&o.compState>=2){var f=o.connectTo[t];f&&setTimeout(function(){M(f,e.state[t],l,t)},0)}}else o.initDuals.push([t,s])}.bind(e)]}function z(e){function t(t,r){var i=n[r];if(i)try{var o=a.connectTo[r];if(o){var s=e.state[r];i(e);var l=e.state[r];l!==s&&t.push([o,l,s,r])}else i(e)}catch(e){console.log(e)}}function r(e){var t=e&&e.component;return!!t&&(!!t.props["isTemplate."]||r(e.parent))}var n,i=!1,o=!1,a=e.$gui,s=e.duals;a.inSync=!0;try{0==a.compState&&(o=!0,a.compState=1);var l=a.flowFlag,u=a.duals,c=e.state.duals;if(o){i=!0,a.hasIdSetter?s.id__=1:(e.state.id__=1,a.id__=1);var h={},d=[];Object.keys(s).forEach(function(t){var r=e.props[t];void 0!==r&&(u[t]=r,d.push([t,r])),h[t]=!0});var g=a.exprAttrs,v=Array.isArray(g);(v||l)&&qe.__design__&&r(e.widget)&&(a.forExpr=0,l=a.flowFlag="",g.splice(0),e.state.exprAttrs=[]);var y=[],_=[],m=e.state.exprAttrs;n=a.exprAttrs={},v&&g.forEach(function(t,r){var n=e.props["$"+t],i=!1;if(n||"for"!=t||2!==a.forExpr||(n=e.props.$$for),n){if(0==t.indexOf("dual-")){var o=m.indexOf(t);o>=0&&m.splice(o,1);var s=t.slice(5).replace(Ct,function(e,t){return t.toUpperCase()});if(!s)return;i=!0,t=s}var l=void 0!==e.props[t];if(!l||h[t]){if(i&&m.push(t),"data"!=t){var u=Tt[t];u&&5!=u&&!l&&a.tagAttrs.push(t)}y.push(t),_.push([t,n])}else console.log("warning: dual attribute ($"+t+") is confliction.")}else"for"!=t&&console.log("warning: invalid dual attribute ($"+t+").")});var b=a.initDuals0;for(a.initDuals0=[],$=0;G=b[$];$++)e.state[G[0]]=G[1];var w={},k=Object.keys(a.dualAttrs);if(u.children=e.props.children,y.length||k.length||a.tagAttrs.length||a.dataset.length){for(var O,x=-1,P=[y,k,a.tagAttrs,a.dataset],$=0;O=P[$];$++)O.forEach(function(t){if(0==$)h[t]=!0;else if(1==$){var r=!1;if(void 0!==e.props[t]?r=!0:h[t]&&void 0!==u[t]&&(r=!0),r)return void console.log("warning: dual attribute ("+t+") is confliction.");if(h[t]=!0,"data"!=t){var n=Tt[t];n&&5!=n&&a.tagAttrs.push(t)}i=u[t]=e.props[a.dualAttrs[t]];if(vt.call(s,t))return void d.push([t,i]);e.state[t]=i}else{if(h[t])return void(2==$&&"data"==t&&(x=a.tagAttrs.indexOf(t)));h[t]=!0;var i=u[t]=e.props[t];if(vt.call(s,t))return void d.push([t,i]);e.state[t]=i}if(Object.getOwnPropertyDescriptor(s,t))0==$&&(w[t]=!0);else{var o=L(e,t);Object.defineProperty(s,t,{enumerable:!0,configurable:!0,get:o[0],set:o[1]})}});x>=0&&a.tagAttrs.splice(x,1)}if(a.forExpr&&(K=e.widget)){var S;2==a.forExpr&&(K.$callspace={flowFlag:"ref",forSpace:null},K.$callspace["data-rfor.path"]="",T(S=K.$callspace.exprSpace={},e));var j={flowFlag:"for",exprSpace:S={}},D=e.props[2==a.forExpr?"$$for":"$for"],N=!0;if(K.$callspace?D?K.$callspace.forSpace=a.forExpr=j:(delete a.forExpr,N=!1):(K.$callspace=j,D?a.forExpr=j:(delete a.forExpr,j.flowFlag="for0")),N&&T(S,e,!D),a.forExpr){for(var E=a.comps2=a.comps,I=a.exprKeys=[],A=a.exprChild=[],$=E.length-1;$>=0;$-=1){var R=E[$];if(R){if(f(R.props.className,"rewgt-static")){I.unshift(null),A.unshift(null);continue}var F=R.props.$key,z=null;if(F&&"string"==typeof F?(z=H(e,F,"key"))||console.log("error: invalid '$key' expression: "+F):console.log("error: no '$key' defined for child element in '$for' loop."),z){I.unshift(z);var B=R.props.$children,V=null;B&&"string"==typeof B&&((V=H(e,B,"children"))||console.log("error: invalid '$children' expression: "+B)),A.unshift(V);continue}}E.splice($,1)}a.comps=[],a.compIdx={}}}_.length&&(a.flowExprId0=0,a.flowExprId=1,_.forEach(function(t){var r=t[0],i=W(e,r,t[1],w[r]),o=i[0],s=i[1];if(o){if("any"!=s){var l=a.syncExpr;l||(l=a.syncExpr=[]),a.syncExpr.push([r,o])}else n[r]=o;0!=r.indexOf("data-")&&0!=r.indexOf("aria-")||a.dataset2.push(r)}else console.log("warning: compile expression ($"+r+") failed.")})),a.compState=1.5;var U=d.length;for(a.initDuals.forEach(function(e){var t=e[0],r=d.findIndex(function(e){return e[0]===t});r>=0&&r<U&&(d.splice(r,1),U-=1),d.push(e)}),a.initDuals=[];G=d.shift();)s[G[0]]=G[1];a.compState=2}else{n=a.exprAttrs,a.duals_=null;for(var q;q=c.shift();)s[q[0]]=q[1]}var Y=[];if((m=e.state.exprAttrs).length){var G,X=m.indexOf("data");for(X>=0&&(G=m[X],m.splice(X,1),t(Y,G),m=e.state.exprAttrs);G=m.shift();)t(Y,G)}if(l||a.forExpr){var K,J=!0;if(l&&(J=e.state[l],"if"==l||"elif"==l?(!0,e["hide."]=!J):"else"==l&&(o&&(a.flowExprId0=a.flowExprId=St,J=e.state.else=!C(e)),!0,e["hide."]=!J)),a.forExpr&&(K=e.widget)){J=e.state.for,Array.isArray(J)&&0!=J.length||(J=[]),a.forExpr["data-for.path"]=J;var Z={},Q=[],E=a.comps2,I=a.exprKeys,A=a.exprChild,ee=!1,te=e.props["childInline."];J.forEach(function(t,r){for(var n,i=0;n=E[i];i+=1){var o=I[i];if(o){var a=n.props["childInline."];if(void 0!==a)if(te){if(!a)continue}else if(!f(n.props.className,["rewgt-panel","rewgt-unit"]))continue;if(n.props["isReference."])continue;var s=A[i],l=null;if(s)try{(l=s(e,r))?dt(l)||Array.isArray(l)||"string"==typeof l||(l=null):l=null}catch(e){console.log("error: caculate '$children' ("+(i+1)+" of "+E.length+") failed."),console.log(e)}var u=!1;try{"number"!=typeof(h=o(e,r))&&(h+=""),u=!0}catch(e){console.log("error: caculate '$key' ("+(i+1)+" of "+E.length+") failed."),console.log(e)}if(u){var p,c={"hookTo.":K,"keyid.":h,key:h+"","for.index":r};p=l?dt(l)||"string"==typeof l?ft(n,c,l):ft.apply(null,[n,c].concat(l)):ft(n,c),Z[h]=Q.push(p)-1}}else{ee=!0;var h="static-"+r,d=Object.assign({},n.props);d["keyid."]=h,d.key=h,Z[h]=Q.push(ht(te?"span":"div",d))-1}}}),ee&&setTimeout(function(){de(e,!0)},0),0==a.comps.length&&0==Q.length||(a.removeNum+=1),a.compIdx=Z,a.comps=Q}}if(Y.length&&a.compState>=2&&setTimeout(function(){Y.forEach(function(e){M(e[0],e[1],e[2],e[3])})},0),o&&qe.__debug__&&"function"==typeof(z=e.props.setup__))try{z.apply(e)}catch(e){console.log(e)}if(a.id__===e.state.id__)0==a.id2__&&(s.id__=mt!==e.state.id__?mt:p());else{var re=e.state.id__;e.state.id__=re-1,s.id__=re}a.id2__=0,a.isChildExpr&&a.children2!==e.props.children&&(a.removeNum+=a.comps.length,a.children2=e.props.children,a.comps=gt(e.props.children)),s.childNumId=a.comps.length+(a.removeNum<<16)}catch(e){o&&(a.compState=2),console.log(e)}return a.inSync=!1,i}function B(e,t){var r=null,n=(t.frame||{}).path;return n&&((r=(r=e.componentOf(n))&&r.fullClone())||(qe.__design__||delete t.frame,console.log("warning: can not locate popup frame ("+n+")."))),r||null}function V(e){var t=e._;if(!t)return null;var r=t._statedProp||[],n=t._silentProp||[],i=t._htmlText,o=Object.assign({},e.props);if(r.forEach(function(t){vt.call(o,t)&&(o[t]=e.state[t])}),n.forEach(function(e){delete o[e]}),i){var a=e.state["html."];a&&"string"==typeof a?o["html."]=a:delete o["html."]}else delete o["html."];return delete o["data-unit.path"],delete o["data-span.path"],delete o.children,o}function U(e,t,r,n){var i=n.$gui,o=!!i.forExpr,a=o?i.comps2:i.comps,s=[],l=n.props["childInline."];return a.forEach(function(e){if(e)if(o||e.props["isReference."])s.push(e);else if(f(e.props.className,"rewgt-static")){delete(g=Object.assign({},e.props))["keyid."],delete g.key,delete g.onMouseDown,delete g.onDoubleClick;var t,i=g.name;if("number"==typeof(t=parseInt(i))&&t>=1048576){var a=n.$gui.statics;if(a=a&&a[i],Array.isArray(a)){var u=a.map(function(e){return e.cloneNode(!0)});t=qe.$staticNodes.push(u)-1,g.name=t+""}}s.push(ht(l?"span":"div",g))}else{var p=b(e),c=p&&r[p],h=c&&c.component;if(h){if(h.props["isTemplate."]&&!qe.__design__){var d=h.$gui.template;return d instanceof ae?ft(e,{template:d},null):void 0}var g=V(h);g&&s.push(U(e,g,c,h))}}}),0==s.length?ft(e,t,null):(s.unshift(t),s.unshift(e),ft.apply(null,s))}function q(e,t){var r;if(e===t)return!0;if(Array.isArray(e)){if(Array.isArray(t)&&(r=e.length)==t.length){for(o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}}else if(e&&"object"==(void 0===e?"undefined":ze(e))&&t&&"object"==(void 0===t?"undefined":ze(t))){var n=Object.keys(e),i=Object.keys(t);if((r=n.length)!=i.length)return!1;for(var o=0;o<r;o++){var a=n[o];if(e[a]!==t[a])return!1}return!0}return!1}function Y(e,t,r){function n(e){return[e._className,e._statedProp||[],e._silentProp||[],e._defaultProp||{},e._htmlText]}function i(e){if(!e)return!1;var t=e.component;return!(!t||!t.props["data-unit.path"]&&!t.props["data-span.path"])||i(e.parent)}function o(e,t,r){if(f(t.props.className,"rewgt-static")){var n=t.props.name,i=parseInt(n);if("number"==typeof i&&i<1048576){var a=qe.$staticNodes[i];if(Array.isArray(a)){for(var s,l=[],u=0;s=a[u];u++)l.push(s.outerHTML);l.length&&e.push(["",{html:l},r])}}}else{var p=t.type,c=p&&p.prototype.$eventset;if(c){var h=c[2],d=Object.assign({},t.props),g=d.children;delete d.children;var v=0;d["childInline."]?v=f(d.className,"rewgt-unit")?2:3:f(d.className,"rewgt-unit")&&(v=1),Object.keys(d).forEach(function(e){"."==e.slice(-1)&&delete d[e]});var y=[];g&&(Array.isArray(g)||(g=[g]),g.forEach(function(e){e&&o(y,e,v)}));var _=[h,d,v];y.length?(y.unshift(_),e.push(y)):e.push(_)}}}if(!t){if(!(t=nt))return;r=""}var a=t.component,s=t===nt;if(r+="."+(a?a.$gui.keyid:"undefined"),a){var l,u={},p=0,c=a.state,h=a.$gui,d=c["data-unit.path"];if(void 0!==d?(l="RefDiv",p=2):void 0!==(d=c["data-span.path"])&&(l="RefSpan",p=3),void 0!==d){var g=d?a.props["link.props"]:null;if(g){Object.assign(u,g),a._._htmlText||delete u["html."];m=u["keyid."];delete u["keyid."],delete u.key,"string"==typeof m&&("$"==m[0]?(m=m.slice(1))!==parseInt(m)+""&&(u.key=m):u.key=m);var v=(w=n(a._))[1],y=w[2];v.forEach(function(e){vt.call(u,"$"+e)?delete u[e]:vt.call(u,e)&&(u[e]=c[e])}),y.forEach(function(e){delete u[e]}),Object.keys(u).forEach(function(e){void 0===u[e]&&delete u[e]}),u.style&&0==Object.keys(u.style).length&&delete u.style,u.$=d,e.push([l,u,p])}}else if(a.props["isReference."]);else{var _=h.keyid,m="string"==typeof _?_:"",w=n(a._),v=w[1],y=w[2],k=w[3],O=w[4],x=Object.keys(k);l=w[0],a.props["childInline."]?p=f(a.props.className,"rewgt-unit")?2:3:f(a.props.className,"rewgt-unit")&&(p=1),Object.assign(u,a.props),v.forEach(function(e){vt.call(u,"$"+e)?delete u[e]:u[e]=c[e]}),y.forEach(function(e){delete u[e]}),x.forEach(function(e){var t=k[e];void 0===t?"number"!=typeof u[e]&&delete u[e]:q(t,u[e])&&delete u[e]}),delete u.children,delete u["hasStatic."],Object.keys(u).forEach(function(e){var t=u[e];void 0===t?delete u[e]:"function"==typeof t&&(delete u[e],i(a.widget)||console.log("warning: can not dump function property ("+e+")"))}),delete u.key,m&&(u.key=m),s&&(delete u.left,delete u.top),u.style&&0==Object.keys(u.style).length&&delete u.style;var P=[];if(!a.props["noSaveChild."]&&void 0===d){var $=!!h.forExpr,S=null;($?h.comps2:h.comps).forEach(function(e){if(e)if($)o(P,e,p);else{var n=b(e);if(n){if(s&&"$"==n[0]){if("$pop"==n)return;if("$"==n[1]&&e.props["isTemplate."])return}var i=t[n];if(i)Y(P,i,r);else if(f(e.props.className,"rewgt-static")){S||(S=a.getHtmlNode());var l=e.props.name,u=[];if(S&&l){var c=S.querySelector('.rewgt-static[name="'+l+'"]');if(c)for(var h,d=0;h=c.children[d];d+=1)u.push(h.outerHTML)}u.length&&P.push(["",{html:u},p])}}}})}if(O)if(P.length)delete u["html."];else{var j=a.state["html."];j&&"string"==typeof j?u["html."]=j:delete u["html."]}else delete u["html."];var D=[l,u,p];P.length?(P.unshift(D),e.push(P)):e.push(D)}}else console.log("warning: widget ("+r+") is null.")}function G(e,t,r,n){if(!rt||!t)return!1;if(!rt.showDesignDlg)return!1;var i=e;if("string"==typeof e&&(i=qe.W(e),!(i=i&&i.component)||!i.props))return!1;if(!i)return!1;if(!r){var o=i._._getGroupOpt(i);if(!(r=(o.tools||[]).find(function(e){return e.name===t}))||!r.get||!r.set)return!1;r=Object.assign({},r),n||(n=o.baseUrl||"")}var a=r.get(i);return null!==a&&(Et+=1,Nt=[Et,i,r],rt.showDesignDlg(Et,r,a,n),!0)}function X(e,t,r){if(Nt&&Nt[0]==t){var n=Nt[1],i=Nt[2];e&&(Nt=null),i.set(n,r,e)}}function K(e){e.preventDefault()}function J(e){if(rt){var t=this.widget,r=t&&t.getPath();if(r){var n=this.getHtmlNode();if(n){for(var i="",o=e.target;o&&o!==n;){if(o.classList.contains("rewgt-static")){o.getAttribute("data-marked")||(i=o.getAttribute("name"));break}o=o.parentNode}i&&(e.stopPropagation(),e.preventDefault(),G(o,"default",{name:"default",title:"edit content",url:Je.appBase()+"/edit_static.html",halfScreen:!0,width:.96,height:.9,clickable:!1,get:function(e){return[e.innerHTML,r,i]},set:function(e,t,r){var n=t[0]||"",i=t[1],o=t[2];if(i&&o){var a=qe.W(i);if(a=a&&a.component){var s=a.getHtmlNode(),l=null;if(s&&(l=s.querySelector('.rewgt-static[name="'+o+'"]')),l===e){l.innerHTML=n;var u=parseInt(o);if("number"==typeof u){var p=a.$gui,c=p.statics,h=[];c||(c=p.statics={});for(var d,g=0;d=l.children[g];g+=1)h.push(d);if(u>=1048576)c[o]=h;else{for(var v=p.comps.length,y=1048576+p.removeNum+v+"",g=0;g<v;g++){var _=p.comps[g];if(_&&f(_.props.className,"rewgt-static")&&_.props.name===o){p.comps[g]=ft(_,{name:y});break}}c[y]=h,l.setAttribute("name",y)}}qe.__design__&&rt.notifyBackup&&rt.notifyBackup("")}}}}},""))}}}}function Z(e,t,r,n,i){function o(e,t){var r=void 0===e?"undefined":ze(e);if("string"!=r)return dt(e)?(u=3,e):"function"==r?(u=2,e):null;var i,o=t?qe.$main[t]:null;if(!o&&((i=n[e])||null===i))return u=0,i;var a,s=e.split("."),l=s.shift();if(0==s.length&&((a=l[0])<"A"||a>"Z"))return u=1,l;for(u=0,i=Ye[l];i&&(l=s.shift());)i=i[l];return i&&i._extend?o?i=Ue(i._extend(o)):n[e]=i=Ue(i._extend()):n[e]=i=null,i}function a(e,t,r){for(var n=t.length,i=r;i<n;i++){var o=t[i];if(o){var s=void 0===o?"undefined":ze(o);if("string"!=s)if(dt(o))e.push(o);else if("function"!=s){if(Array.isArray(o)&&o.length>=1){var l,u,p=o[0],c=0,f=!1;Array.isArray(p)?(c=o.length-1,l=p[0],u=p[1]):(l=p,u=o[1]),u||(f=!0,u={});var h=!1,d=void 0===l?"undefined":ze(l);if("string"==d){var g=l[0];if(g>="A"&&g<="Z"||l.indexOf(".")>=0){console.log("warning: unknown react class ("+l+")");continue}}else if(dt(l))h=!0;else if("function"!=d){console.log("warning: unknown react class");continue}if(c){var v=[];a(v,o,1),h?e.push(ft(l,u,v)):e.push(ht(l,u,v))}else h?e.push(f?l:ft(l,u)):e.push(ht(l,u))}}else e.push(ht(o));else e.push(o)}}}var s,l,u=0,p=t[0],c=0,f=!1;if(Array.isArray(p)?(c=t.length-1,s=p[0],l=p[1]):(s=p,l=t[1]),l||(f=!0,l={}),!s){var h=l.html||[];if(h.length>0){var d=document.createElement("div");d.innerHTML=h.join("");for(var g=[],v=r.push(g)-1,y=0;P=d.children[y];y+=1)g.push(P);return e.push(ht("div",{className:"rewgt-static",name:v+""})),!0}return!1}var _="";i&&l.key&&(_=i+"."+l.key);var m="RefDiv"===s||"RefSpan"===s?s:"";if(m)return e.push(ht(o(m,_),l)),!1;var b=o(s,_);if(!b){var w="string"==typeof s?" ("+s+")":"";return console.log("warning: can not find template"+w),!1}if(u>0)if(c>0){var k=[];a(k,t,1),3==u?e.push(ft(b,l,e)):e.push(ht(b,l,k))}else 3==u?e.push(f?b:ft(b,l)):e.push(ht(b,l));else{var O=[b,l];if(c>0){for(var x,P,$=!1,y=1;P=t[y];y+=1)Array.isArray(P)?Z(O,P,r,n,_)&&($=!0):dt(P)?O.push(P):"string"==(x=void 0===P?"undefined":ze(P))?O.push(ht(mr,{"html.":P})):"function"==x&&O.push(ht(P));$&&(O[1]=Object.assign({},l,{"hasStatic.":!0}))}e.push(ht.apply(null,O))}return!1}function Q(e,t){var r=e.widget;if(r){var n=e.$gui,i=n.cssWidth,o=n.cssHeight,a=!!t;if(("number"==typeof i||"number"==typeof o)&&(n.isPanel||!([].concat(e.state.margin,e.state.padding).indexOf(null)>=0))){var s=0;n.comps.forEach(function(e){if(e){var t=b(e),n=t&&r[t];if(n=n&&n.component){if(n.willResizing&&!n.willResizing(i,o,a))return;s||(s=p()),n.setState({parentWidth:i,parentHeight:o,id__:s})}}})}}}function ee(e,t,r){function n(){setTimeout(function(){ot=!1},300),r&&r()}if(qe.__design__){var i=[],o=[],a={};if(Z(i,t,o,a),1==i.length){ot=!0;var s=i[0];Ve.unmountComponentAtNode(e),e.style.visibility="hidden",e.innerHTML="",setTimeout(function(){Ge.widgetNum(0),nt=null,at=!1,it=!0,st=[],qe.$cachedClass=a,qe.$staticNodes=o,Ve.render(s,e,function(){e.style.visibility="visible";var t=qe.$main.$$onLoad_;"function"==typeof t&&t(n)})},0)}else r&&r()}else r&&r()}function te(e,t,r){function n(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}t=t||0;var i,o,a,s=e[0],l=0;Array.isArray(s)?(l=e.length-1,i=s[0],o=s[1],a=s[2]):(i=s,o=e[1],a=e[2]),"number"!=typeof a&&(a=1);var u=new Array(t+1).join("  "),p=u;if(!i){var c=o.html||[],f=r<=1?"<div class='rewgt-static'>":"<span class='rewgt-static'>",h=r<=1?"</div>":"</span>";return 0==c.length?p="":1==c.length?p+=f+c[0]+h+"\n":(p+=f+"\n",c.forEach(function(e){p+=u+"  "+e+"\n"}),p+=u+h+"\n"),p}var d=!1;"RefDiv"==i?(!0,d=o["isPre."],l=0,p+=(d?"<pre $=":"<div $=")+JSON.stringify(o.$||"")):"RefSpan"==i?(!0,l=0,p+="<span $="+JSON.stringify(o.$||"")):3==a?p+="<span $="+i:((d=o["isPre."])&&(l=0),p+=(d?"<pre $=":"<div $=")+i);var g=o.key,v=o["html."];g&&(p+=" key='"+g+"'"),Object.keys(o).forEach(function(e){if("key"!=e&&"html."!=e&&"$"!=e&&"isPre."!=e){var t=o[e];void 0!==t&&("style"==e&&(e="sty__"),p+=" "+e.replace(It,"-$1").toLowerCase()+"=","string"!=typeof t||"$"!=e[0]&&t&&"{"==t[0]&&"}"==t.slice(-1)?p+="'{"+n(JSON.stringify(t))+"}'":p+="'"+n(t)+"'")}});var y="";if(l){for(var _,m=1;_=e[m];m+=1)y+=te(_,t+1,a);3==a?0==y.indexOf(u+"  ")?p+=">"+y.slice(u.length+2):p+=">"+y:p+=">\n"+y}else p+=">",v&&(p+=d?v:v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"));return d?p+="</pre>\n":3==a?y&&"\n"==y.slice(-1)?p+=u+"</span>\n":p+="</span>\n":v||"\n"!=p.slice(-1)?p+="</div>\n":p+=u+"</div>\n",p}function re(e,t){var r=e.component;if(!r)return null;for(var n in r.$gui.compIdx){var i=e[n],o=i&&i.component;if(o)if(o.props["isNavigator."]){var a=o.$gui.navItems,s=a&&a[t];if(s&&s.props["isPlayground."])return i}else if(!o.props["childInline."]&&(i=re(i,t)))return i}return null}function ne(e,t){if(!t)return[];var r=b(e),n=r&&t[r];if(n){var i=[];return(n=n.component)?(n.$gui.comps.forEach(function(e){e&&i.push(e)}),i):i}return gt(e.props.children)}function ie(e){var t=e,r=t.indexOf("./"),n=t[0],i=0,o=!1;if(0==r)i=1,t=t.slice(2);else if(1==r&&"."==n)for(i=2,t=t.slice(3);0==(r=t.indexOf("../"));)i+=1,t=t.slice(3);else if("."==n)i=-1,t=t.slice(1);else if("/"==n){if("/"===t[1])return[t.slice(2),-1,!0];i=-1,t=t.slice(1)}else o=!0;return t.indexOf("/")>=0?(Ge.instantShow("error: invalid reference path ("+e+")."),null):[t,i,o]}function oe(e,t){function r(e){return(e=e&&e.component)||null}var n=ie(t);if(!n)return null;var i=n[0],o=n[1];if(n[2]){var a=l=e.widget;if(o<0&&(a=l&&l.parent),a){for(var s=i.slice(0,2);"//"==s;){if(!(a=a.parent))return r(null);s=(i=i.slice(2)).slice(0,2)}return r(i?a.W(i):a)}}else if(-1==o){if(i)return r(qe.W(i))}else{for(var l=e.widget;l&&o>0;){var u=l&&l.component;if(u&&u.props["isNavigator."]&&0==(o-=1))break;var p=l.parent;if(!p){o-=1,l=qe;break}l=p}if(l&&0==o)return r(i?l.W(i):l)}return r(null)}function ae(e){this.comps={},this.element=e,this.pathSeg=""}function se(e,t,r){function n(e,t,r){var n=ie(t);if(!n)return i(null,t);var a=n[0],s=n[1],l=e instanceof ae;if(n[2]){if(l)return i(null,t);if(s<0&&(p=e.widget)){for(var u=a.slice(0,2);"//"==u;){if(!(p=p.parent))return i(null,t);u=(a=a.slice(2)).slice(0,2)}return void o(p,a,t,!1)}}else{if(-1==s)return void o(null,a,t,!1);var p=e;if(l){var c=(p=e.element).props["hookTo."],f=!1;for(c||(c=(c=p.widget)&&c.parent);p&&s>0&&c;){if(!(c instanceof ae)){if(Array.isArray(c)){if(r)return i(null,t);p=c.component,f=!0;break}return i(null,t)}if(r){if(!(n=c.comps[r]))return i(null,t);var h=n[0];if(4==h)(r=n[2])||(p=c.element,r=c.pathSeg,(c=p.props["hookTo."])||(c=(c=p.widget)&&c.parent));else{if(3!=h)return i(null,t);if(0==(s-=1))return void o(c,a,t,!0,r);r=n[2]}}else p=c.element,r=c.pathSeg,(c=p.props["hookTo."])||(c=(c=p.widget)&&c.parent)}if(!p||!c||!f)return i(null,t)}for(p=p.widget;p&&s>0;){var d=p&&p.component;if(d&&d.props["isNavigator."]&&0==(s-=1))break;var g=p.parent;if(!g){s-=1,p=qe;break}p=g}if(p&&0==s)return void o(p,a,t,!1)}i(null,t)}function i(n,i){if(!n)return Ge.instantShow("error: can not find reference ("+i+")."),void r();s?n.props["childInline."]||Ge.instantShow("warning: reference target ("+i+") should be inline widget."):f(n.props.className,["rewgt-panel","rewgt-unit"])||Ge.instantShow("warning: reference target ("+i+") should be: panel, div, paragraph.");var o=e.$gui,a=t.slice(1),c=null,h=o.compIdx[t];if("number"==typeof h){c=o.comps[h];var d=o.compIdx[a];"number"!=typeof d?c&&(o.compIdx[a]=h,delete o.compIdx[t],o.removeNum+=1):(h=d,o.removeNum+=1)}if(!c)return Ge.instantShow("error: invalid linker ("+t+")."),void r();l.unshift(c.props);var g={},v={},y=0;n.props.style&&(Object.assign(v,n.props.style),y+=1);for(var _=l.pop();_;){var m=w(_);m.style&&(Object.assign(v,m.style),y+=1),Object.assign(g,m),_=l.pop()}y&&(g.style=v),g["hookTo."]=e.widget,s?g["data-span.path"]=u:g["data-unit.path"]=u;var b=c.props.styles;if(b&&(g.styles=b),qe.__design__){var k={};g["link.props"]=Object.assign(k,w(c.props)),b&&(k.styles=b)}var O=parseInt(a),x=O+""===a?O:a;g.key=a,g["keyid."]=x,o.comps[h]=ft(n,g),e.setState({id__:p()},function(){var t=e.widget[x];(t=t&&t.component)&&de(t),r()})}function o(e,t,r,o,a){var u;if(e){if(!t){if(o)return i(e.element,r);var p=e.parent,c=e.component;return p=p&&p.component,p&&c&&"number"==typeof(w=p.$gui.compIdx[c.$gui.keyid])?i(c.fullClone(),r):i(null,r)}u=t.split(".")}else{if(!t||o)return i(null,r);if((u=t.split(".")).length<=1)return i(null,r);if(!(e=qe[u.shift()]))return i(null,r)}for(;e&&u.length;){var f=u.shift();if(!f)return i(null,r);var h=null,d=null,g="";if(o){if(qe.__design__)return i(null,r);d=e,a?(g=a,u.unshift(f)):g=f}else{if(!(h=e.component)&&(e===qe&&((e=qe[f])&&(h=e.component),f=u.shift()),!h||!f))return i(null,r);if((!qe.__design__||h.isLibGui)&&h.props["isTemplate."]){if(!(d=h.$gui.template))return i(null,r);g=f,h=null}}if(d){for(var v=d.comps[g];v;){var y=v[0],_=v[1];if(2==y){if(0!=u.length)break;var m=2==(O=_.props)["isReference."],b=O.$;if(O["hookTo."]===d&&"string"==typeof b){if(!(b=b.trim()))return i(null,b);if(s!=m&&Ge.instantShow("warning: reference type ("+r+") mismatch."),"/"==b[0]&&"/"==b[1]){if(b.indexOf("/",2)>=0)return i(null,b);(u=g.split(".")).pop(),g=u.join("."),u=b.slice(2).split("."),g&&(g+="."),g+=u.shift(),v=d.comps[g],l.push(O);continue}return l.push(O),void n(d,b,v[2])}break}if(4==y&&(_=(d=_).element),0==u.length)return i(_,r);4==y?g=u.shift():g+="."+u.shift(),v=d.comps[g]}return i(null,r)}if(0==u.length){var w=h.$gui.compIdx[f];if("number"==typeof w){var k=e[f];return k=k&&k.component,k?i(k.fullClone(),r):i(null,r)}if("number"==typeof(w=h.$gui.compIdx["$"+f])&&(_=h.$gui.comps[w])&&_.props["isReference."]){var O=_.props,m=2==O["isReference."];if("string"==typeof(b=O.$))return(b=b.trim())?(s!=m&&Ge.instantShow("warning: reference type ("+r+") mismatch."),l.push(O),void n(h,b,"")):i(null,b)}return i(null,r)}e=e[f]}i(null,r)}var a,s=!1,l=[],u="",c=e.$gui.compIdx[t];if(e.widget&&"number"==typeof c&&"$"==t[0]&&(a=e.$gui.comps[c])&&a.props["isReference."]){var h=a.props;2==h["isReference."]&&(s=!0),"string"!=typeof(u=h.$)||0==(u=u.trim()).length?(""!==u&&console.log("warning: load reference ("+t+") failed: invalid path"),r()):u?n(e,u,""):i(null,u)}else console.log("warning: load reference ("+t+") failed."),r()}function le(e){function t(e){e.target.style.opacity="0.1"}function r(e){e.target.style.opacity="0"}var n=this.pageIndex=0,i=this.keys=[],o=this.namedPage={};e.forEach(function(e,t){i.push(e[0]+"");var r=e[1],a=t==n?"block":"none";r.state.style.display!==a&&(r.duals.style={display:a});var s=r.props.name;s&&"string"==typeof s&&(o[s]=t)});var a=window.innerWidth,s=Math.max(Math.floor(a/20),20),l=document.createElement("div");l.setAttribute("style","position:absolute; left:0px; top:0px; width:"+s+"px; height:100%; background-color:#000; opacity:0; z-index:3000;"),document.body.appendChild(l);var u=document.createElement("div");u.setAttribute("style","position:absolute; right:0px; top:0px; width:"+s+"px; height:100%; background-color:#000; opacity:0; z-index:3000;"),document.body.appendChild(u),this.leftPanel=l,this.rightPanel=u;var p=this;l.onclick=function(e){p.prevPage()},u.onclick=function(e){p.nextPage()},l.onmouseover=t,l.onmouseout=r,u.onmouseover=t,u.onmouseout=r}function ue(){var e=[],t=nt&&nt.component;return t&&(t.$gui.comps||[]).forEach(function(t){if(t){var r=b(t),n=r&&nt[r];(n=n&&n.component)&&n.props["isScenePage."]&&(!qe.__design__&&n.props.noShow||e.push([r,n]))}}),e}function pe(e){if(!Array.isArray(e))return"number"==typeof e?[e,e,e,e]:[0,0,0,0];var t=e.length;if(0==t)return[0,0,0,0];if(1==t)return[r=parseFloat(e[0])||0,r,r,r];if(2==t)return[r=parseFloat(e[0])||0,n=parseFloat(e[1])||0,r,n];if(3==t)return[r=parseFloat(e[0])||0,n=parseFloat(e[1])||0,i=parseFloat(e[2])||0,n];var r=parseFloat(e[0])||0,n=parseFloat(e[1])||0,i=parseFloat(e[2])||0;return[r,n,i,parseFloat(e[3])||0]}function ce(e){if(!Array.isArray(e))return"number"==typeof e?[e,e,e,e]:null===e?[null,null,null,null]:[0,0,0,0];var t=e.length;if(0==t)return[0,0,0,0];if(1==t)return r=null===(r=e[0])?null:parseFloat(r)||0,[r,r,r,r];if(2==t){var r=e[0],n=e[1];return r=null===r?null:parseFloat(r)||0,n=null===n?null:parseFloat(n)||0,[r,n,r,n]}if(3==t){var r=e[0],n=e[1],i=e[2];return r=null===r?null:parseFloat(r)||0,n=null===n?null:parseFloat(n)||0,i=null===i?null:parseFloat(i)||0,[r,n,i,n]}var r=e[0],n=e[1],i=e[2],o=e[3];return r=null===r?null:parseFloat(r)||0,n=null===n?null:parseFloat(n)||0,i=null===i?null:parseFloat(i)||0,o=null===o?null:parseFloat(o)||0,[r,n,i,o]}function fe(e,t,r,n){if("number"!=typeof n)return null;var i,o,a=n,s=e.$gui;if(e.state?(i=e.state.sizes,o=parseFloat(e.state.cellSpacing)||0):(i=e.props.sizes,o=parseFloat(e.props.cellSpacing)||0),Array.isArray(i)){for(var l=i.length,u=0;u<l;u++){if("number"!=typeof(h=i[u]))return null;h>=0&&(a-=h>=1?h:h>=.9999?n:h*n)}return a-=o*l,a<0?null:a}for(var p=s.comps,l=p.length,u=0;u<l;u++){var c=p[u];if(c&&!c.props["isReference."]){var f,h,d=b(c),g=d&&t[d];if(g=g&&g.component,g&&g.state?(f=g.state.margin||[],h=r?g.state.width:g.state.height):(f=pe(c.props.margin),h=r?c.props.width:c.props.height),"number"!=typeof h)return null;h>=0&&(a-=h>=1?h:h>=.9999?n:h*n),a-=r?(f[1]||0)+(f[3]||0):(f[0]||0)+(f[2]||0)}}return a<=0?null:a}function he(e){e.popDesigner=G,e.saveDesigner=X,e.dumpTree=Y,e.loadTree=ee,e.streamTree=te,e.listScenePage=ue,e.keyOfNode=function(e){return u(e)},e.splitterMouseDn=function(){return lt}}function de(e,t){var r=e.getHtmlNode();if(r){for(var n=[],i=r.querySelectorAll(".rewgt-static"),o=0;l=i[o];o++){for(var a=l.parentNode,s=!1;a&&a!==document;){if(a===r){s=!0;break}if(a.classList.contains("rewgt-static"))break;a=a.parentNode}if(s){p=(c=l.getAttribute("name")||void 0)&&parseInt(c);if(!isNaN(p)){if(l.children.length>0){if(!(t&&p>=1048576))continue;l.innerHTML=""}n.push([p,c,l])}}}for(var l,o=0;l=n[o];o++){var u,p=l[0],c=l[1],f=l[2],h=p>=1048576;if(h){var d=e.$gui.statics;u=d&&d[c]}else u=qe.$staticNodes[p];if(Array.isArray(u))for(var g,v=0;g=u[v];v++)f.appendChild(h?g:g.cloneNode(!0))}}}function ge(e,t,r){function n(){r&&r()}var i=e.widget;if(!i)return n();var o=!1,a=e.$gui,s=a.cssWidth,l=a.cssHeight,u=a.useSparedX;if(u){var c=fe(e,i,!0,s);a.sparedX!==c?(a.sparedX=c,"number"==typeof c&&(o=!0)):t&&(o=!0)}else if(a.useSparedY){var f=fe(e,i,!1,l);a.sparedY!==f?(a.sparedY=f,"number"==typeof f&&(o=!0)):t&&(o=!0)}if(!o)return n();if("number"!=typeof s&&"number"!=typeof l)return n();var h=[];a.comps.forEach(function(e){if(e){var t=b(e);if(t){var r=i[t];if(r=r&&r.component){var n=u?r.state.width:r.state.height;"number"==typeof n&&n<0&&h.push(r)}}}}),h.length&&setTimeout(function(){var e=Ge.dragInfo.inDragging;h.forEach(function(t){t.willResizing&&!t.willResizing(s,l,e)||t.setState({parentWidth:s,parentHeight:l,id__:p()})})},0),n()}function ve(e,t){var r=!1;if(e){var n=void 0===e?"undefined":ze(e);if("string"==n)e=[e],r=!0;else if("object"==n)if(Array.isArray(e)){var i;"string"==typeof e[0]&&"object"==ze(i=e[1])&&"string"!=typeof i.$trigger&&(e=[e]),r=!0}else"string"==typeof e.$trigger&&(e=[e],r=!0)}if(!r)throw new Error("invalid trigger data (key="+this.$gui.keyid+")");this.state.trigger=e}function ye(e){var t=e.$gui;if(t.isPanel)return console.log("warning: panel not support virtual widget"),null;var r=t.comps,n=r.length,i=t.keyid+"",o=e.props["data-rewgt-owner"];o&&(i=o+"."+i);for(var a=0;a<n;a++){var s=r[a];if(s)return ft(s,{"data-rewgt-owner":i})}return null}function _e(e,t,r){var n="$"+t,i=e[n],o=function(){if("function"==typeof i&&i.apply(e,arguments),r&&e.$gui.eventset2[t]){var n=e.widget,o=n&&n.parent,a=o&&o.component;if(a){var s=a.$gui.eventset[t];s&&s.apply(a,arguments)}}};return r&&(e[n]=o),o}function me(e,t){var r,n=null;if(Array.isArray(e))r=e;else{if(n=e,!(r=n.props.children))return ft.apply(void 0,[n,{}].concat(a(t)));r=gt(r)}var i,o=r.length-1;if(o>=0&&dt(i=r[o])){if(o>=1&&"foo"!==b(i))for(var s=o-1;s>=0;){var l=r[s];if(dt(l)&&"foo"===b(l)){var u=r.slice(0,s);(f=me(l,t))&&u.push(f);for(var p=s+1;p<=o;p++)u.push(r[p]);return n?(u.unshift(n,{}),ft.apply(null,u)):u}s-=1}var c=r.slice(0,-1),f=me(i,t);return f&&c.push(f),n?(c.unshift(n,{}),ft.apply(null,c)):c}return n?ft.apply(void 0,[n,{}].concat(a(t))):null}function be(e){return e.hasOwnProperty("prototype")}function we(e,t){Array.isArray(e)&&function(e,t,r){for(var n=[],i=[],o=t.length-1;o>=0;o--){var a=t[o];if(Array.isArray(a)){var s=a[0],l=a[1];if(s&&"string"==typeof s&&l)if("string"==typeof l)l=a[1]=ht(Qt,{key:s,"keyid.":s,"html.":l}),n.unshift(s),i.unshift(l);else if(dt(l))l.props["keyid."]!==s&&(l=a[1]=ft(l,{key:s,"keyid.":s})),n.unshift(s),i.unshift(l);else{if(Array.isArray(l)&&l[0]&&(l=Ge.loadElement(l))){l.props["keyid."]!==s&&(l=ft(l,{key:s,"keyid.":s})),a[1]=l,n.unshift(s),i.unshift(l);continue}t.splice(o,1)}else t.splice(o,1)}}if(!qe.__design__){for(var u=[],o=r.length-1;o>=0;o--)s=(a=r[o])[0],n.indexOf(s)<0&&u.unshift("-"+s);(u=u.concat(i)).length&&setTimeout(function(){e.setChild.apply(e,u)},0)}}(this,e,t)}function ke(e,t,r){return function(e){function a(e,i){o(this,a);var s=n(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e||t,i));return r&&(s._htmlText=!1),s}return i(a,e),Le(a,[{key:"getDefaultProps",value:function(){var e=Fe(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"getDefaultProps",this).call(this);return e["tagName."]=t.toLowerCase(),e}}]),a}(e)}function Oe(e){e.stepPlay=function(e){if(this.isHooked){var t=this.getHtmlNode();if(t&&t.readyState>=2)return t.play(),!0}return!1},e.stepPause=function(e){if(this.isHooked){var t=this.getHtmlNode();if(t)return t.paused||t.pause(),!0}return!1},e.stepIsDone=function(){if(!this.isHooked)return!0;var e=this.getHtmlNode();return!e||e.readyState<2||e.paused}}function xe(e,t,r){function n(t,r){if(t||0===t){var n=e.widget;if(n=n&&n[t],(n=n&&n.component)&&n.navWillLeave){var i=n.navWillLeave();if(!i||"string"==typeof i&&!window.confirm(i))return!0}}return!1}function i(t,r){e.state.checkedId=r,F(e,"checkedId",t)}var o=e.$gui;if(t&&o.compState){var a=o.navSubkey,s=e.state.checkedId,l=!1;if(o.navItems[t])l=!0;else if(a){var u=e.widget,p=u&&u[a];if((p=p&&p.component)&&p.props["isNavigator."]&&!n(s,t))return i(s,t),void p.fireChecked(t,r)}else 0==Object.keys(o.navItems).length&&(l=!0);if(l&&!n(s,t))return i(s,t),void e.reRender(r);e.state.checkedId=t}r&&r()}function Pe(e,t){if(z(e),e["hide."])return null;var r=e.state["tagName."];if(!r)return ye(e);var n=!1,i=void 0,o=e.parentOf(!0);o&&o.props["isNavigator."]&&(i=o.state.checkedId||"",n=!0);var a=e.prepareState(),s=Object.assign({},e.state.style);n&&(i&&i==e.$gui.keyid?s.display="block":s.display="none");var l=a.length,u=e.$gui.insertEle;u&&(a=me(u,a),l=!0),l||2!=t||(a=e.state["html."]||null);var p=k(e,s);return ht(r,p,a)}function $e(e){var t=e.widget;for(t=t&&t.parent;t;){var r=t.component;if(!r)break;if(r.props["isNavigator."])return r;t=t.parent}return null}function Se(e,t,r,n){if("string"==typeof t.path&&(t.state||(t.state={opened:!1}),r?(delete r.state,t=Object.assign({},t,r)):t=Object.assign({},t),!t.state.opened)){var i=t.path;i||(i="./"+this.$gui.keyid);var o=e.componentOf(i);if(o=o&&o.fullClone())return void Ge.popWin.showWindow(o,t,function(){e.duals["data-checked"]="1",n(!0)},e);Ge.instantShow("warning: can not locate popup window ("+i+").")}n(!1)}function je(e,t){if(t||(t=e.findNavOwner()),t){var r=e.$gui.keyid;t.listOptComp().forEach(function(t){t!==e&&t.clearChecked&&t.$gui.keyid!==r&&t.clearChecked()})}}function De(e,t,r,n){function i(r){var n=r.shift();n?setTimeout(function(){e.state["data-checked"]?t():i(r)},n):t()}function o(){u&&(je(e,p),e.fireTrigger()),t&&t()}e.state.disabled&&!n&&t&&t();var a=e.state.recheckable,s=e.state["data-checked"],l=e.state.popOption;if(l){if(!l.state||!l.state.opened)return void(!a&&s||Se(e,l,r,function(e){t&&t()}));if(!n)return}if(!s)return e.duals["data-checked"]="1",void(t&&i([100,100,100]));a&&(e.state.recheckable=!1,setTimeout(function(){e.state.recheckable=!0},300));var u=!1,p=null;if(e.state.isolated)return(n||a)&&(u=!0),void o();if(p=e.findNavOwner()){var c=e.$gui.keyid+"";if((p.state.checkedId!==c||n||a)&&(!p.canNavigateTo||p.canNavigateTo(c)))return(n||a)&&(u=!0),void xe(p,c,o)}o()}function Ne(e,t){var r=s(e.props.$trigger||e.props.popOption);e.defineDual("isolated",function(e,t){this.state.isolated=s(e)}),void 0===e.props.isolated&&(e.duals.isolated=r),e.defineDual("recheckable",function(e,t){this.state.recheckable=s(e)}),void 0===e.props.recheckable&&(e.duals.recheckable=r),t.disabled="",e.defineDual("disabled",function(e,t){this.state.disabled=s(e)}),e.defineDual("popOption"),t["data-checked"]="",e.defineDual("data-checked",function(t,r){var n=s(r),i=s(t);n!=i?i?(e.state["data-checked"]=i,setTimeout(function(){e.setChecked(null,void 0,!0)},0)):e.state["data-checked"]=i:e.state["data-checked"]=n})}function Ee(e,t){return e["data-checked"]=[t+1,"string",["","1"]],e.isolated=[t+2,"string",["","1"]],e.disabled=[t+3,"string",["","1"]],e.recheckable=[t+4,"string",["","1"]],e.trigger=[t+5,"string",null,"[string]: [sPath,{trigger,pop_option},[sPath,modifier], ...]"],e.popOption=[t+6,"object",null,"[object]: {path:bodyElePath}"],e}function Ie(e,t){function r(e,t,n,i){var o=n[0],a=n[1],s=4==o?a.element.props.children:a.props.children;if(s){var l=i;3==o?l=t:4==o&&(e=a,l=t,t=""),Be.Children.forEach(s,function(n,i){var o=n.props["keyid."];if(!o&&0!==o){var a=b(n);if(a){var s=parseInt(a);o=s+""===a?s:a}else o=i}var u=o+"",p=1,c=ft(n,{"keyid.":o,key:u,"hookTo.":e}),f=t?t+"."+u:u;n.props["isTemplate."]?(p=4,(c=new ae(c)).pathSeg=f):n.props["isNavigator."]?p=3:n.props["isReference."]&&(p=2);var h=[p,c,l];e.comps[f]=h,2!=p&&r(e,f,h,l)})}}var n=b(t);if(!n)return!1;var i,o=parseInt(n),a=o+""===n?o:n,s=1;t.props["isReference."]?(s=2,"$"==n[0]&&(n=n.slice(1),(o=parseInt(n))+""==n&&(a=o)),i=ft(t,{"hookTo.":e,"keyid.":a,key:n})):(i=ft(t,{"hookTo.":e,"keyid.":a,key:n}),t.props["isTemplate."]?(s=4,(i=new ae(i)).pathSeg=n):t.props["isNavigator."]&&(s=3));var l=[s,i,""];return e.comps[n]=l,2!=s&&r(e,n,l,""),!0}function Ae(e){var t=e.widget,r=null;if(t=t&&t.parent){var n=t.component;if(n){var i=n.$gui.compIdx[e.$gui.keyid];if("number"==typeof i){var o=n.$gui.comps[i];o&&(r=new ae(o))}}}if(!r)return!1;e.$gui.template=r;for(var a=e.$gui.comps,s=a.length,l=0;l<s;l++){var u=a[l];u&&Ie(r,u)}return!0}function Te(e){var t="";if(e.forExpr?(t="for",e.forExpr=0):e.flowFlag&&(t=e.flowFlag,e.flowFlag=""),t){console.log("error: can not use '$"+t+"' in template widget");var r=e.exprAttrs.indexOf(t);r>=0&&e.exprAttrs.splice(r,1)}}function Ce(e,t){if(!t||"string"!=typeof t)return null;var r=t[0];if("."!=r&&"/"!=r){var n=e.$gui.template;if(!n)return null;for(var i=t.split("."),o=i.shift(),a=n.comps[o];a;){var s=a[0],l=a[1];if(2==s)return 0==i.length?l:null;if(4==s){if(0==i.length)return null;l=(n=l).element,o=i.shift(),a=n.comps[o]}else{if(0==i.length)return l;o+="."+i.shift(),a=n.comps[o]}}}else{var u=t.lastIndexOf("./");if(u>=0)return(c=e.componentOf(t.slice(0,u+2)))?c.elementOf(t.slice(u+2)):null;if("."==r){if((u=t.indexOf(".",1))>1){var p=qe.W(t.slice(0,u)),c=p&&p.component;if(c)return c.elementOf(t.slice(u+1))}}else if("/"==r&&"/"==t[1]){var f=e.parentOf();return f?f.elementOf(t.slice(2)):null}}return null}function Re(e){e.stopPropagation()}function He(){function e(t,r){Object.keys(t).forEach(function(n){if(n&&"_"!=n[n.length-1]){var i=t[n];if("object"==(void 0===i?"undefined":ze(i)))if(i.getDefaultProps){var o=i.getDefaultProps(),a=1;o["childInline."]&&(a=f(o.className||"","rewgt-unit")?2:3),3!=a&&(nn[r+n]=a),o["isPre."]&&(on[r+n]=!0)}else e(i,r+n+".")}})}return nn||(nn={},on={},e(Ye,"")),[nn,on]}function We(e,t,r){for(var n,i=[],o=[],a=0;n=e.children[a];a++){var s=Je.scanNodeAttr(n,t,a);if(s){var l=s[0],u=s[1];if("RefDiv"==l)i.push(ht(Jr,u));else if("RefSpan"==l)i.push(ht(Qr,u));else{var p,c=l.split(".");if(1==c.length&&(p=l[0])>="a"&&p<="z"){var f=u["html."]||null;delete u["html."],delete u["isPre."],i.push(ht(h,u,f))}else{var h=$(l)[c.pop()],d=t+"["+a+"]."+l;if(!h){console.log("error: can not find WTC ("+d+")");continue}var g=n.nodeName,v=[];"DIV"!=g&&"SPAN"!=g||(v=We(n,d,r)),v.unshift(h,u),i.push(ht.apply(null,v))}}}else if(n.classList.contains("rewgt-static"))for(var y,_=0;y=n.childNodes[_];_++)o.push(y);else o.push(n)}if(0==i.length&&o.length){var m={className:"rewgt-static",name:qe.$staticNodes.push(o)-1+""};r||(m["data-marked"]="1"),i.push(ht("div",m))}return i}function Me(e,t,r){function n(t){o.removeNum+=o.comps.length,o.compIdx={},o.comps=[],o.statics={},a&&(e.firstScan=!0,e.cellKeys={},e.cellStyles={});for(var n,s=[],l=[],u=0;n=t.children[u];u++){var c=n.getAttribute("$"),h=n.nodeName;if(!c||"PRE"!=h&&"DIV"!=h){if(!c)if(a)if(p.length&&(i(o,p),p=[]),"HR"==h){N=ht("hr",{"markedRow.":!0});o.comps.push(N),a&&(s.push(l),l=[])}else"P"==n.nodeName&&""===n.innerHTML||p.push(n);else p.push(n)}else{p.length&&(i(o,p),p=[]);var d=Je.scanNodeAttr(n,"",0),g=d&&d[0];if(!d||"RefSpan"===g){console.log("error: invalid node (<"+h+" $="+c+">)");continue}var v,y=d[1],_="RefDiv"!=g,m=!1,b=null,w=null;if(_){var k,O=g.split(".");if(1==O.length&&(k=g[0])>="a"&&k<="z")m=!0,v=g;else{if(!(v=$(g)[O.pop()])){console.log("error: can not find WTC ("+g+")");continue}v.defaultProps&&!f(v.defaultProps.className||"",["rewgt-panel","rewgt-unit"])&&(b=v,w=y,v=Qt,y={})}}else v=Jr;var x,P=o.comps.length,S=y.key,j="",D="";S&&"string"==typeof S&&0!=S.search(an)?(j=D=S,_||"$"==S[0]||(S="$"+S),x=S):(D=x="auto"+(P+o.removeNum),S=_?x:x="$"+x);var N;if(m){y.key=S;var E=y["html."]||null;delete y["html."],delete y["isPre."],N=ht(v,y,E)}else{Object.assign(y,{"hookTo.":e.widget,"keyid.":x,key:S}),_||(y.style?y.style.display="":y.style={display:""});var I=[];"DIV"==h&&(I=We(n,"["+u+"]."+g,!1)),b&&(I.unshift(b,w),I=[ht.apply(null,I)]),I.unshift(v,y),N=ht.apply(null,I)}o.compIdx[S]=P,o.comps.push(N),j&&(a?s[j]=N:l[j]=N),l.push([D,N]),it&&!_&&st.push([e,S])}}p.length&&i(o,p),a?l.length&&s.push(l):s=l,r&&setTimeout(function(){r(!0,s)},0)}function i(e,t){if(!s){var r=e.comps.length,n=1048576+e.removeNum+r+"",i=r+e.removeNum+"",o={className:"rewgt-static",name:n,key:i};e.compIdx[i]=r,e.comps.push(ht("div",o)),e.statics[n]=t}}var o=e.$gui,a=e.props["markedTable."],s=e.props.noShow;try{var l=Ge.marked(t),u=document.createElement("div"),p=[];u.innerHTML=l;var c=[];o.comps.forEach(function(e){if(e&&e.props["hookTo."]){var t=b(e);t&&c.push("-"+t)}}),c.length&&e.isHooked?e.setChild(c,function(){n(u)}):n(u)}catch(e){console.log(e),r&&r(!1)}}var Fe=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},Le=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be=window.React||e("react"),Ve=window.ReactDOM||e("react-dom"),Ue=window.createReactClass||e("create-react-class"),qe=e("./react_widget"),Ye=qe.$templates,Ge=qe.$utils,Xe=qe.$ex,Ke=qe.$idSetter,Je=qe.$creator;Je.createClass_=Ue,function(e){var t=e.pathname.split("/");t[0]||t.shift(),Je.repoName=t.shift()||"";var r=e.hostname;Je.isLocal="localhost"==r||"127.0.0.1"==r,Je.isGithub=r.indexOf(".github.io")>0,Je.appBase=function(){return"/app/files/rewgt/web"}}(window.location),Ge.version=function(){return"1.1.3"};var Ze=function(e){var t=e.match(/trident.*rv[ :]*([\d.]+)/);if(t){if(parseFloat(t[1])>=11)return["ie",t[1]]}else{if(t=e.match(/firefox\/([\d.]+)/))return["firefox",t[1]];if(t=e.match(/chrome\/([\d.]+)/))return["chrome",t[1]];if(t=e.match(/opera.([\d.]+)/))return["opera",t[1]];if(t=e.match(/safari\/([\d.]+)/))return["safari",t[1]];if(t=e.match(/webkit\/([\d.]+)/))return["webkit",t[1]]}return e.match(/msie ([\d.]+)/)?["ie",""]:["",""]}(window.navigator.userAgent.toLowerCase());Ge.vendorId=Ze;var Qe=/[^A-Za-z0-9\+\/\=]/g,et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",tt=Ge.Base64={encode:function(e){var t,r,n,i,o,a,s,l="",u=0;for(e=tt._utf8_encode(e);u<e.length;)i=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(r=e.charCodeAt(u++))>>4,a=(15&r)<<2|(n=e.charCodeAt(u++))>>6,s=63&n,isNaN(r)?a=s=64:isNaN(n)&&(s=64),l=l+et.charAt(i)+et.charAt(o)+et.charAt(a)+et.charAt(s);return l},decode:function(e){var t,r,n,i,o,a,s="",l=0;for(e=e.replace(Qe,"");l<e.length;)t=et.indexOf(e.charAt(l++))<<2|(i=et.indexOf(e.charAt(l++)))>>4,r=(15&i)<<4|(o=et.indexOf(e.charAt(l++)))>>2,n=(3&o)<<6|(a=et.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=o&&(s+=String.fromCharCode(r)),64!=a&&(s+=String.fromCharCode(n));return s=tt._utf8_decode(s)},_utf8_encode:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},_utf8_decode:function(e){for(var t,r,n,i=0,o="";i<e.length;)(t=e.charCodeAt(i))<128?(o+=String.fromCharCode(t),i++):t>191&&t<224?(r=e.charCodeAt(i+1),o+=String.fromCharCode((31&t)<<6|63&r),i+=2):(r=e.charCodeAt(i+1),n=e.charCodeAt(i+2),o+=String.fromCharCode((15&t)<<12|(63&r)<<6|63&n),i+=3);return o}},rt=null,nt=null,it=!0,ot=!1,at=!1,st=[],lt=!1,ut="",pt=null,ct=Ve.findDOMNode,ft=Be.cloneElement,ht=Be.createElement,dt=Be.isValidElement,gt=Be.Children.toArray,vt=tt.hasOwnProperty,yt={$:!0,styles:!0,"tagName.":!0,"isReference.":!0,"hookTo.":!0,width:!0,height:!0,className:!0,"childInline.":!0},_t=["for","if","elif","else"];Ge.isUnderBody=l,Ge.keyOfNode=function(e){return u(e)},Ge.dragInfo={inDragging:!1,justResized:!1};var mt=4;Ge.identicalId=p,Ge.update=function(e,t,r){if(r)return e.duals[t]=Xe.update(e.state[t],r)},Ge.waitAll=function(){for(var e=[],t=[],r=null,n=1,i=0;;){var o=arguments[i],a=arguments[i+1],s=void 0===a?"undefined":ze(a);if("string"!=s){"number"==s&&(n=a),"function"==typeof o&&(r=o);break}var l=function(i,o,a){for(var s,l=0;s=t[l];l++)if(s[0]===this&&s[1]===a){e[l]=i;break}for(var u=t.length-1;u>=0;u--)if(void 0===e[u])return;if(n>0&&(n-=1)<=0)for(var p=t.length-1;p>=0;p--)(s=t[p])[0].unlisten(s[1],s[2]);var c=e;e=[],r&&r.apply(null,c)}.bind(o);t.push([o,a,l]),o.listen(a,l),i+=2}r||console.log("warning: no callback passed in waitAll()")},Ge.classNameOf=c,Ge.hasClass=function(e,t){return f(c(e),t)},Ge.addClass=function(e,t){for(var r=e.state.klass||"",n=" "+(e.$gui.className||"")+" "+r+" ",i="",o=Array.isArray(t)?t:String(t).split(/ +/),a=o.length,s=0;s<a;s++){var l=o[s];l&&n.indexOf(" "+l+" ")<0&&(i+=" "+l)}return!!i&&(r?e.duals.klass+=i:e.duals.klass=i.slice(1),!0)},Ge.removeClass=function(e,t,r){var n=e.state.klass||"",i=g(e.$gui.className||"",n,t,r);return n!==i&&(e.duals.klass=i,!0)},Ge.setClass=function(e,t){for(var r=Array.isArray(t)?t:String(t).split(/ +/),n=[],i=[],o=r.length-1;o>=0;o--){var a=r[o];if(a){var s=a[0];"-"==s?n.unshift(a.slice(1)):"+"==s?i.unshift(a.slice(1)):i.unshift(a)}}return Ge.removeClass(e,n,i)};var bt=["S1","S2","S3","S4","S5","S6"];Je.mergeClass=function(e,t,r){var n=v(r);return g(e,t,n[0],n[1])},Ge.mergeClass=function(e,t){var r=v(t),n=r[0],i=r[1];return Ge.removeClass(e,n,i)},Ge.klassNames=y,Ge.clearKlass=_,Ge.setupKlass=function(e,t){for(var r=[_(e,t)],n=arguments.length,i=2;i<n;i++)r.push(arguments[i]);return y.apply(null,r)},Ge.containKlass=m;var wt=/^(\.\$)+/g;Ge.keyOfElement=b,Ge.getWdgtType=function(e){var t=e;return e&&e.component&&!e.props&&(t=e.component),t?t.$gui.isPanel?"panel":f(t.props.className,"rewgt-unit")?t.props["childInline."]?"paragraph":"unit":t.props["childInline."]?"span":t.widget===nt?"root":"unknown":"unknown"},Ge.eachElement=function(e,t){if(!t){var r=[];return e.$gui.comps.forEach(function(e){e&&r.push(e)}),r}e.$gui.comps.forEach(function(e,r){e&&t(e,r)})},Ge.setElement=function(e,t,r){e.$gui.comps[t]=r},Ge.eachComponent=function(e,t){if(!t){var r=[];return Ge.eachComponent(e,function(e){r.push(e)}),r}var n=e.widget;n&&e.$gui.comps.forEach(function(e,r){if(e){var i=b(e),o=i&&n[i],a=o&&o.component;a&&t(a,r)}})},Ge.fireTrigger=function(e){arguments.length>=2?O(void 0,e,arguments[1]):O(void 0,e)},Ge.setChildren=function(e,t,r,n){"function"==typeof r&&(n=r,r=void 0);var i=e.$gui;if(t||(t=i.comps),r&&(i.isPanel||e.widget===nt?(console.log("error: invalid argument (insertEle) for panel"),r=void 0):Array.isArray(r)?0==r.length&&(r=null):dt(r)&&void 0===r.props["childInline."]||(console.log("error: invalid argument (insertEle)"),r=null)),Array.isArray(t))if((r||null===r)&&(i.insertEle=r),t!==i.comps){for(var o=[],a=t.length,s=0;s<a;s++){var l=t[s];Array.isArray(l)?Z(o,l,qe.$staticNodes,qe.$cachedClass):"string"==typeof l?o.push(ht(e.props["childInline."]?mr:Qt,{"html.":l})):dt(l)&&o.push(l)}var u=0,p=0;o.forEach(function(e,t){var r=b(e);if(r)if("number"!=typeof i.compIdx[r]){if(void 0!==e.props["childInline."]){var n=parseInt(r),a={key:r,"keyid.":n+""===r?n:r};o[t]=ft(e,a)}}else u+=1;else p+=1}),i.removeNum+=Math.max(0,i.comps.length-u)+p,i.comps=o,(r||null===r)&&(i.insertEle=r),i.inSync?n&&setTimeout(function(){n()},0):i.compState>=1.5?e.setState({id__:x(e.state.id__)},n):setTimeout(function(){e.setState({id__:x(e.state.id__)},n)},0)}else n&&(i.inSync?setTimeout(function(){n()},0):n())},Ge.getWTC=$;var kt={ie:"ms",firefox:"Moz",opera:"O",chrome:"Webkit",safari:"Webkit",webkit:"Webkit"};Xe.regist("vendor",function(){return kt[Ze[0]]||""}),Xe.regist("vendorId",function(){return"-"+(kt[Ze[0]]||"").toLowerCase()+"-"}),Xe.regist("__design__",function(){return parseInt(qe.__design__||0)}),Xe.regist("__debug__",function(){return parseInt(qe.__debug__||0)});var Ot={};Xe.regist("time",function(e){if(e){var t=(Ot[e+=""]||0)+1;return Ot[e]=t,t}return(new Date).valueOf()}),Xe.regist("isFalse",function(e){return!e}),Xe.regist("isTrue",function(e){return!!e}),Xe.regist("parseInt",function(e){return parseInt(e)}),Xe.regist("parseFloat",function(e){return parseFloat(e)}),Xe.regist("escape",function(e){return escape(e)}),Xe.regist("unescape",function(e){return unescape(e)}),Xe.regist("evalInfo",function(){var e=void 0,t=this.component;if(!t)return e;var r=t.widget,n=r&&r.$callspace;if(n&&(e=n.exprSpace.$info,n.forSpace)){var i=n.forSpace.exprSpace.$info;e?i&&i[2]>=e[2]&&(e=i):e=i}return e}),Xe.regist("tagValue",function(e){if("object"!=(void 0===e?"undefined":ze(e)))return e;var t,r=Object.assign({},e),n=r.$set;if(n){if("object"!=(void 0===n?"undefined":ze(n)))return e;n=r.$set=Object.assign({},n)}else{if(!(n=r.$merge))return t=Xe.time(),Object.keys(r).forEach(function(e){if("$"!=e[0]){var n=r[e];if("object"==(void 0===n?"undefined":ze(n))){var i=(n=r[e]=Object.assign({},n)).$set;if(i){if("object"!=(void 0===i?"undefined":ze(i)))return;(i=n.$set=Object.assign({},i)).time=t}else if(i=n.$merge){if("object"!=(void 0===i?"undefined":ze(i)))return;(i=n.$merge=Object.assign({},i)).time=t}else vt.call(n,"value")&&(n.time={$set:t})}}}),r;if("object"!=(void 0===n?"undefined":ze(n)))return e;n=r.$merge=Object.assign({},n)}return t=Xe.time(),Object.keys(n).forEach(function(e){if("$"!=e[0]){var r=n[e];"object"==(void 0===r?"undefined":ze(r))&&(r.time=t)}}),r}),Xe.regist("tagFired",function(){var e=arguments.length;if(e<2)return"";var t,r=arguments[0];for(t=1;t<e;t++){var n=r[arguments[t]];if(!n||!n.time)return""}for(t=1;t<e;t++)r[arguments[t]].time=0;return"true"}),Xe.regist("setChecked",function(e,t){var r=this.evalInfo(),n=r&&r[0];if(n){var i=oe(n,e);i&&i.props["isOption."]&&i.setChecked(null,t)}}),Xe.regist("elementOf",function(e){var t=this.evalInfo(),r=t&&t[0];return r&&r.elementOf(e)||null}),Xe.regist("setVar",function(e,t){if(!e||"string"!=typeof e)return t;var r=S(this,this.component);return r?r[e]=t:console.log("warning: invalid callspace for ex.setVar("+e+")"),t}),Xe.regist("log",function(){var e=this.evalInfo(),t="";if(e)try{var r=e[0],n=r&&r.widget;n&&(t=n.getPath()+":"+e[1])}catch(e){}var i,o=arguments.length;if(i=t?"ex("+t+")>":"ex>",o<=0)t&&console.log(i);else{for(var a=0;a<o;a++)i+=" "+arguments[a];console.log(i)}}),Xe.regist("map",function(e,t){if(!Array.isArray(e))return[];var r=e.length;if(!r)return[];if(!t||"string"!=typeof t)return e.slice(0);var n=I(t,null,"map");if(!n)return[];61==n[0]&&(n=n[1][2]);var i=S(this,this.component);i?R(n,[]):i={};var o=[];i.$count=r;for(var a=0;a<r;a++){i.$item=e[a],i.$index=a;try{o.push(E(n,i))}catch(e){console.log("error: run map() failed ($index="+a+")"),console.log(e)}}return delete i.$item,delete i.$index,delete i.$count,o}),Xe.regist("filter",function(e,t){if(!Array.isArray(e))return[];var r=e.length;if(!r)return[];t&&"string"==typeof t||(t="$item !== null");var n=I(t,null,"filter");if(!n)return[];61==n[0]&&(n=n[1][2]);var i=S(this,this.component);i?R(n,[]):i={};var o=[];i.$count=r;for(var a=0;a<r;a++){var s=i.$item=e[a];i.$index=a;try{E(n,i)&&o.push(s)}catch(e){console.log("error: run filter() failed ($index="+a+")"),console.log(e)}}return delete i.$item,delete i.$index,delete i.$count,o}),Xe.regist("order",function(e){function t(e,t){for(var r,n=e,i=0;(r=t[i++])&&n;)n=n[r];return n}if(!Array.isArray(e))return e;var r,n=null,i=arguments.length,o=!0;i>=2&&("number"==typeof(r=arguments[i-1])?(r<0&&(o=!1),i-=1):2==i&&Array.isArray(r)&&(i=(n=r).length)>=1&&"number"==typeof(r=n[i-1])&&(r<0&&(o=!1),i-=1));var a=[];if(n)for(s=0;s<i;s++)(r=n[s])&&"string"==typeof r&&a.push(r.split("."));else for(var s=1;s<i;s++)(r=arguments[s])&&"string"==typeof r&&a.push(r.split("."));var l=a.length,u=e.slice(0);return l?u.sort(function(e,r){for(var n,i=0;n=a[i];i++){var s=t(e,n),l=t(r,n);if(s!==l)return s>l?o?1:-1:o?-1:1}return 0}):u.sort(function(e,t){return o?e===t?0:e>t?1:-1:e===t?0:e>t?-1:1})}),Xe.regist("jsonp",function(e,t){var r=this.evalInfo(),n=null,i="";return r&&(n=r[0],i=r[1],t&&n&&vt.call(n.duals,i)&&void 0===n.state[i]&&(n.duals[i]=t)),e=Object.assign({},e),e.callback=function(e){n&&i&&vt.call(n.duals,i)&&(n.duals[i]=e)},Ge.jsonp(e),n&&i?n.state[i]:void 0}),Xe.regist("ajax",function(e,t){var r=this.evalInfo(),n=null,i="";return r&&(n=r[0],i=r[1],t&&n&&i&&vt.call(n.duals,i)&&void 0===n.state[i]&&(n.duals[i]=t)),e.success=function(e){n&&i&&vt.call(n.duals,i)&&(n.duals[i]={status:"success",data:e})},e.error=function(e,t){n&&i&&vt.call(n.duals,i)&&(n.duals[i]={status:t||"error",data:null})},Ge.ajax(e),n?n.state[i]:void 0}),j.defunct=function(e){throw new Error("Unexpected character ("+e+") at offset ("+(this.index-1)+")")};var xt=new j,Pt=[];xt.addRule(/\s+/,function(e){return D(e,1,-1)}).addRule(/[0-9]+(?:\.[0-9]+)?\b/,function(e){return D(e,2,-1)}).addRule(/[_$A-Za-z](?:[_$A-Za-z0-9]+)?/,function(e){return D(e,3,-1)}).addRule(/(?:"((?:\\.|[^"])*)"|'((?:\\.|[^'])*)')/,function(e){return D(e,4,-1)}).addRule(/[?]/,function(e){return D(e,5,4)}).addRule(/[:]/,function(e){return D(e,6,-1)}).addRule(/[,]/,function(e){return D(e,7,-1)}).addRule(/[{]/,function(e){return D(e,8,-1)}).addRule(/[}]/,function(e){return D(e,9,-1)}).addRule(/[\[]/,function(e){return D(e,10,-1)}).addRule(/[\]]/,function(e){return D(e,11,-1)}).addRule(/[(]/,function(e){return D(e,12,-1)}).addRule(/[)]/,function(e){return D(e,13,-1)}).addRule(/[.]/,function(e){return D(e,14,18)}).addRule(/[*]/,function(e){return D(e,14,14)}).addRule(/[/]/,function(e){return D(e,14,14)}).addRule(/[%]/,function(e){return D(e,14,14)}).addRule(/[+]/,function(e){return D(e,14,13)}).addRule(/[-]/,function(e){return D(e,14,13)}).addRule(/[>]{3}/,function(e){return D(e,14,12)}).addRule(/[>]{2}/,function(e){return D(e,14,12)}).addRule(/[<]{2}/,function(e){return D(e,14,12)}).addRule(/[<][=]/,function(e){return D(e,14,11)}).addRule(/[<]/,function(e){return D(e,14,11)}).addRule(/[>][=]/,function(e){return D(e,14,11)}).addRule(/[>]/,function(e){return D(e,14,11)}).addRule(/[=]{3}/,function(e){return D(e,14,10)}).addRule(/[!][=]{2}/,function(e){return D(e,14,10)}).addRule(/[=]{2}/,function(e){return D(e,14,10)}).addRule(/[!][=]/,function(e){return D(e,14,10)}).addRule(/[&]{2}/,function(e){return D(e,14,6)}).addRule(/[&]/,function(e){return D(e,14,9)}).addRule(/[\^]/,function(e){return D(e,14,8)}).addRule(/[|]{2}/,function(e){return D(e,14,5)}).addRule(/[|]/,function(e){return D(e,14,7)}).addRule(/$/,function(e){return D(e,20,-1)});var $t=[2,3,4,9,11,13,31,32,33,34,35,36,37,38,39,40,41,42,43],St=1,jt=["props","state","duals","item","count","index"],Dt=0;Ge.triggerDual=F,Ge.popWin={showWindow:function(e,t,r,n){if(qe.__design__&&(it||ot))r&&r();else{var i=nt&&nt.$pop,o=i&&i.component;if(o&&e)if(f(e.props.className,["rewgt-panel","rewgt-unit"])){var a=t.frameElement||null;!a&&n&&(a=B(n,t));var s=void 0;n&&n.props["isOption."]&&vt.call(n.state,"data-checked")&&(s=n.state["data-checked"]),o.setChild(ht(rn,{popOption:t,popFrame:a},e),function(){qe.__design__&&(rt&&rt.setDesignModal&&rt.setDesignModal(!0),void 0!==s&&n&&setTimeout(function(){n.state["data-checked"]=s},300)),r&&r()})}else Ge.instantShow("error: only panel, div, paragraph can use as popup window.")}},listWindow:function(){var e=nt&&nt.$pop,t=e&&e.component;if(!t)return[];var r=[];return t.$gui.comps.forEach(function(e){if(e){var t=b(e);if(t){var n=parseInt(t);n+""===t&&(t=n),r.push([t,e.props.popOption])}}}),r},closeAll:function(e){function t(){e&&e()}var r=nt&&nt.$pop,n=r&&r.component;if(!n)return t();var i=[];n.$gui.comps.length;if(n.$gui.comps.forEach(function(e){if(e){var t=b(e);t&&i.unshift("-"+t)}}),!i.length)return t();i.push(t),n.setChild.apply(n,i)},popWindow:function(e){var t=nt&&nt.$pop,r=t&&t.component;if(r){for(var n=null,i=r.$gui.comps,o=i.length-1;o>=0;){var a=i[o],s=a&&b(a);if(s&&(a=t[s])&&(n=a.component))break;o-=1}if(n){n.props.optPath;var l=n.$gui.keyid,u=n.state.popOption;if(0==arguments.length){var p=u&&u.beforeClose;"function"==typeof p&&(e=p())}var c=u&&u.callback;r.setChild("-"+l,function(){"function"==typeof c&&c(e)})}}}},Je.getCompRenewProp=V,Je.deepCloneReactEle=U;var Nt=null,Et=0;Je.staticMouseDown=K,Je.staticDbClick=J,Ge.loadElement=function(){var e=[],t=arguments.length;if(1==t)return Z(e,arguments[0],qe.$staticNodes,qe.$cachedClass),1==e.length?e[0]:null;if(0==t)return null;for(var r=0;r<t;r++)Z(e,arguments[r],qe.$staticNodes,qe.$cachedClass),e.length<=r&&e.push(null);return e},Ge.loadElementEx=function(e){var t=[],r=arguments.length;if(e=e||"",2==r)return Z(t,arguments[1],qe.$staticNodes,qe.$cachedClass,e),1==t.length?t[0]:null;if(r<=1)return null;for(var n=1;n<r;n++)Z(t,arguments[n],qe.$staticNodes,qe.$cachedClass,e),t.length<n&&t.push(null);return t},Ge.setVendorLib=function(e,t){function r(r){if(r){var n=i&&i.widget;"body"!==e&&n&&(qe[e]=n)}t&&t(i)}var n=nt&&nt.component;if(n&&e&&t){var i=null,o="$$"+e;(i=n.componentOf(o))?r(!0):n.setChild(Ge.loadElement(["TempPanel",{key:o}]),function(){i=n.componentOf(o),r(!0)})}},Ge.propagateResizing=Q;var It=/([A-Z])/g;Ge.gotoHash=function(e,t,r){function n(e){var r="";e||(r=o.join("/")),t&&t(r)}function i(e,t){if(!e||!t)return n(!0);if("!"==t[0]&&0==p.length){var r=null,a=t.slice(1);if(a&&a.indexOf('"')<0)try{(r=document.querySelector('a[name="'+a+'"]'))&&(o.push(t),r.scrollIntoView(!0))}catch(e){}return n(!r)}var s,l=re(e,t);if(!l||!(s=l.component))return Ge.instantShow("warning: can not find navigator widget ("+o.join("/")+"/"+t+")."),n(!0);s.fireChecked(t,function(){return s.state.checkedId!==t?n(!0):(o.push(t),0==p.length?n(!1):void i(l[t],p.shift()))})}var o=[""],a=r||nt;if(e&&(e="#"==e[0]?e.slice(1).trim():e.trim()),!e||!a)return n(!0);var s=e[0];if("!"==s){var l=null;try{var u=e.slice(1);u&&u.indexOf('"')<0&&(l=document.querySelector('a[name="'+u+'"]'))&&(o.push(e),l.scrollIntoView(!0))}catch(e){}return n(!l)}if("/"==s){var p=e.slice(1).split("/");i(a,p.shift())}else{var c=Ge.pageCtrl;c&&c.gotoPage?c.gotoPage(e,t):t&&t("")}},Je.pathLevelInfo=ie,le.prototype={gotoPage_:function(e,t){var r="",n=null;return e.forEach(function(e,i){var o=nt&&nt[e],a=o&&o.component;if(a){var s="none";i==t&&(s="block",r=e,n=o),a.state.style.display!=s&&(a.duals.style={display:s})}}),n&&(this.pageIndex=t),[r,n]},gotoPage:function(e,t){function r(){n&&i&&o?Ge.gotoHash(i,function(e){t&&t(e?n+e:"")},o):t&&t(n+i)}if(this.keys.length){var n="",i="",o=null,a=void 0===e?"undefined":ze(e);if("string"==a&&e){"#"==e[0]&&(e=e.slice(1));var s=e.indexOf("/");s>0&&(i=e.slice(s),e=e.slice(0,s));var l=parseInt(e);l+""==e&&(e=l,a="number")}if("string"==a&&e){var u=this.namedPage[e];if("number"!=typeof u)return i="",r();e=u}else if("number"!=a)return i="",r();var p=this.keys.length;if(!p)return r();e>=p&&(e=p-1),e<0&&(e=0);var c=this.gotoPage_(this.keys,e);n=c[0],(o=c[1])||(i=""),r()}else t&&t("")},prevPage:function(){return this.gotoPage(this.pageIndex-1)},nextPage:function(){return this.gotoPage(this.pageIndex+1)},renewPages:function(e){var t=[],r={};e.forEach(function(e){var n=e[0];parseInt(n)+""!==n&&(r[n]=t.length),t.push(n)});var n=this.keys[this.pageIndex],i=!0;if("string"==typeof n){var o=t.indexOf(n);o>=0&&(this.pageIndex=o,i=!0)}this.keys=t,this.namedPage=r,i||(t.length?this.gotoPage(0):this.pageIndex=0)},setDisplay:function(e){function t(e){return(e=Math.max(e||0,0))<.9999?e*=window.innerWidth:e<1&&(e=window.innerWidth),e}vt.call(e,"leftCtrlWidth")&&(this.leftPanel.style.width=t(e.leftCtrlWidth)+"px"),vt.call(e,"rightCtrlWidth")&&(this.rightPanel.style.width=t(e.rightCtrlWidth)+"px")},destory:function(){this.leftPanel&&(this.leftPanel.parentNode.removeChild(this.leftPanel),this.leftPanel=null),this.rightPanel&&(this.rightPanel.parentNode.removeChild(this.rightPanel),this.rightPanel=null)}},Je.pageCtrl_=le,qe.$main.$$onLoad_=function(e){function t(e){var r=st.shift();r?se(r[0],r[1],function(){t(e)}):e()}function r(){var i=n.shift();i?i(r):t(function(){if(at=!1,it=!1,!qe.__design__&&rt&&!Ge.pageCtrl){var t=ue();t.length&&(Ge.pageCtrl=new le(t))}setTimeout(function(){if(qe.__design__)qe.$main.$onLoad=[],qe.$main.inRunning=!0,e&&e();else{var t,r=qe.$main.$onReady;if(Array.isArray(r))for(;t=r.shift();)t();else"function"==typeof r&&r();var n=qe.$main.$onLoad;if(Array.isArray(n))for(;t=n.shift();)t();qe.$main.inRunning=!0;var i=window.location.hash;i&&setTimeout(function(){Ge.gotoHash(i)},300)}},0)})}at=!0;var n=qe.$main.$$onLoading=(qe.$main.$$onLoad||[]).slice(0);r()};var At=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({onCopy:!0,onCut:!0,onPaste:!0,onCompositionEnd:!0,onCompositionStart:!0,onCompositionUpdate:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0,onFocus:!0,onBlur:!0,onChange:!0,onInput:!0,onSubmit:!0,onClick:!0,onContextMenu:!0,onDoubleClick:!0,onDrag:!0,onDragEnd:!0,onDragEnter:!0,onDragExit:!0,onDragLeave:!0,onDragOver:!0,onDragStart:!0,onDrop:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOut:!0,onMouseOver:!0,onMouseUp:!0,onSelect:!0,onTouchCancel:!0,onTouchEnd:!0,onTouchMove:!0,onTouchStart:!0,onScroll:!0,onWheel:!0,onAbort:!0,onCanPlay:!0,onCanPlayThrough:!0,onDurationChange:!0,onEmptied:!0,onEncrypted:!0,onEnded:!0,onError:!0,onLoadedData:!0,onLoadedMetadata:!0,onLoadStart:!0,onPause:!0,onPlay:!0,onPlaying:!0,onProgress:!0,onRateChange:!0,onSeeked:!0,onSeeking:!0,onStalled:!0,onSuspend:!0,onTimeUpdate:!0,onVolumeChange:!0,onWaiting:!0,onLoad:!0},"onError",!0),Tt={accept:1,acceptCharset:1,accessKey:1,action:1,allowFullScreen:1,allowTransparency:1,alt:1,async:1,autoComplete:1,autoFocus:1,autoPlay:1,capture:1,cellPadding:1,cellSpacing:1,challenge:1,charSet:1,checked:1,cite:1,classID:1,colSpan:1,cols:1,content:1,contentEditable:1,contextMenu:1,controls:1,coords:1,crossOrigin:1,data:1,dateTime:1,default:1,defer:1,dir:1,disabled:1,download:1,draggable:1,encType:1,form:1,formAction:1,formEncType:1,formMethod:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:1,hidden:1,high:1,href:1,hrefLang:1,htmlFor:1,httpEquiv:1,icon:1,id:1,inputMode:1,integrity:1,is:1,keyParams:1,keyType:1,kind:1,label:1,lang:1,list:1,loop:1,low:1,manifest:1,marginHeight:1,marginWidth:1,max:1,maxLength:1,media:1,mediaGroup:1,method:1,min:1,minLength:1,multiple:1,muted:1,name:1,noValidate:1,nonce:1,open:1,optimum:1,pattern:1,placeholder:1,poster:1,preload:1,profile:1,radioGroup:1,readOnly:1,rel:1,required:1,reversed:1,role:1,rowSpan:1,rows:1,sandbox:1,scope:1,scoped:1,scrolling:1,seamless:1,selected:1,shape:1,size:1,sizes:1,span:1,spellCheck:1,src:1,srcDoc:1,srcLang:1,srcSet:1,start:1,step:1,summary:1,tabIndex:1,target:1,title:1,type:1,useMap:1,value:1,wmode:1,wrap:1,about:2,datatype:2,inlist:2,prefix:2,property:2,resource:2,typeof:2,vocab:2,autoCapitalize:3,autoCorrect:3,color:3,itemProp:3,itemScope:3,itemType:3,itemRef:3,itemID:3,security:3,unselectable:3,results:3,autoSave:3,dangerouslySetInnerHTML:4,className:5,style:5,width:5,height:5};Je.renewWidgetSpared=ge;var Ct=/-(.)/g,Rt=["Top","Right","Bottom","Left"],Ht=function(){function e(t,r){o(this,e),this._className=t,this._classDesc=r||"",this._statedProp=["width","height","left","top"],this._silentProp=["className","hookTo.","keyid.","childInline.","tagName."],this._defaultProp={width:.9999,height:.9999,left:0,top:0},this._htmlText=!1,this._docUrl="doc"}return Le(e,[{key:"_desc",value:function(){return this._classDesc?"<"+this._className+":"+this._classDesc+">":"<"+this._className+">"}},{key:"_extend",value:function(e){if("string"==typeof e){if(qe.__design__)return null;(e=qe.$main[e])||console.log("warning: _extend('"+e+"') load nothing!")}var t=this._methods;if(!t){var r={},n={};t=this._methods={$eventset:[r,n]};for(var i={},o=Object.getPrototypeOf(this);o;){var a=Object.getPrototypeOf(o);if(!a)break;Object.getOwnPropertyNames(o).forEach(function(e){"_"!=e[0]&&(i[e]=!0)}),o=a}for(f in i)if("constructor"!=f){var s=this[f];if("function"==typeof s){if("$"==f[0]){var l=!1,u="$"==f[1]?(l=!0,f.slice(2)):f.slice(1);At[u]&&(l?n[u]=!0:r[u]=!0)}t[f]=s}}t.getShadowTemplate=function(e){return function(){return e}}(this)}var p=Object.assign({},t),c=p.$eventset,r=Object.assign({},c[0]),n=Object.assign({},c[1]);p.$eventset=[r,n,this._className],e||(e={});for(var f,h=Object.keys(e),d=0;f=h[d];d++){var g=e[f];if("$"==f[0]&&"function"==typeof g){var l=!1,u="$"==f[1]?(l=!0,f.slice(2)):f.slice(1);At[u]&&(l?n[u]=!0:r[u]=!0)}var v=p[f];"function"==typeof v&&"_"!=f[0]&&(p["_"+f]=function(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.apply(t,n)}}(v)),p[f]=g}return p}},{key:"_createClass",value:function(e){if(null===e){var t=P(this._className);return t||console.log("fatal error: invalid WTC ("+this._className+")"),t}return Ue(this._extend(e))}},{key:"_getGroupOpt",value:function(e){return{type:"mono",editable:"all",baseUrl:Je.appBase(),tools:[]}}},{key:"_getSchema",value:function(e,t){var r,n="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels",i="[number]: N pixels",o="[any]: N pixels, [top_bottom,right_left], [top,right,bottom,left]",a={key:[-1,"string"],left:[(t=t||1200)+1,"any",null,n],top:[t+2,"any",null,n],width:[t+3,"any",null,n],height:[t+4,"any",null,n],minWidth:[t+5,"number",null,i],maxWidth:[t+6,"number",null,i],minHeight:[t+7,"number",null,i],maxHeight:[t+8,"number",null,i],borderWidth:[t+9,"any",null,o],padding:[t+10,"any",null,o],margin:[t+11,"any",null,o]};return e&&(r=e.parentOf(!0))&&r.props["isTableRow."]&&(a.tdStyle=[t+12,"object",null,"[object]: style for parent (td)"]),a}},{key:"getDefaultProps",value:function(){return{width:.9999,height:.9999,"childInline.":!1,"tagName.":"div"}}},{key:"defineDual",value:function(e,t,r,n){if(Array.isArray(e)){var i,o=e.length;for(i=0;i<o;i++){var a=e[i];a&&"string"==typeof a&&this.defineDual(a,t,r,n)}return this}var s=this.duals,l=this.$gui;if(l&&l.compState>=2)return console.log("error: can not define duals."+e+" after first render"),this;if(!s||!l)return this;void 0!==r&&l.initDuals0.push([e,r]);var u,p=Object.getOwnPropertyDescriptor(s,e),c=!1;if(p)t?(u=L(this,e,p.set,t.bind(this),n),Object.defineProperty(s,e,{enumerable:!0,configurable:!0,get:p.get,set:u[1]})):n&&(c=!0);else{t?u=L(this,e,null,t.bind(this),n):(n&&(c=!0),u=L(this,e,null)),Object.defineProperty(s,e,{enumerable:!0,configurable:!0,get:u[0],set:u[1]});var f=Tt[e];f&&5!=f&&l.tagAttrs.push(e)}return c&&console.log("warning: base.setter should use with setter."),this}},{key:"undefineDual",value:function(e){if(Array.isArray(e)){var t=e.length;for(s=0;s<t;s++){var r=e[s];r&&"string"==typeof r&&this.undefineDual(r)}return this}var n=this.$gui,i=this.duals;if(n&&n.compState>=2)return console.log("error: undefineDual("+e+") only can be called before first render"),this;if(!i||!n)return this;for(var o,a=[n.initDuals,n.initDuals0],s=0;o=a[s];s++)for(var l=o.length-1;l>=0;)o[l][0]===e&&o.splice(l,1),l-=1;delete i[e];var u=n.tagAttrs.indexOf(e);return u>=0&&n.tagAttrs.splice(u,1),this}},{key:"setEvent",value:function(e){var t,r=this.$gui;if(r&&(t=r.eventset)){if(r.compState>=2)console.log("error: can not call setEvent() after first render.");else for(var n,i=this.props["data-rewgt-owner"],o=Object.keys(e),a=0;n=o[a];a++)if("$"==n[0]){var s=n.slice(1);if("$"!=s[0]){var l=e[n];"function"==typeof l&&(this[n]=be(l)?l.bind(this):l,"function"!=typeof this["$"+n]&&(t[s]=_e(this,s,i)))}}}else console.log("error: invalid state for setEvent().")}},{key:"getInitialState",value:function(){var e=this.getShadowTemplate();Object.defineProperty(this,"_",{enumerable:!1,configurable:!1,writable:!1,value:e}),this.isHooked=!1,this["hide."]=!1,this.duals={};var t=0==Ge.widgetNum(),r={inSync:!1,removeNum:0,className:this.props.className||"",compState:0,duals:{},initDuals:[],initDuals0:[],connectTo:{},connectBy:{},id__:0,id2__:0,sparedX:null,sparedY:null},n=r.eventset={},i=r.tagAttrs=[],o=r.dualAttrs={},a=r.dataset=[],s=r.exprAttrs=[],l="",u="",c="";r.forExpr=!1,r.hasIdSetter=!1;for(var h={},g=this.$eventset||[{},{}],v=g[0],y=g[1],_=null,m=Object.keys(this.props),w=0;C=m[w];w++)if(0==C.indexOf("data-"))"data-unit.path"!=C&&"data-span.path"!=C||(l=C,u=this.props[C]),a.push(C);else if(0==C.indexOf("dual-")){var k=C.slice(5).replace(Ct,function(e,t){return t.toUpperCase()});k&&(o[k]=C)}else if(0==C.indexOf("aria-"))a.push(C);else if("$"==C[0]&&C.length>1){var O=this.props[C],x=void 0===O?"undefined":ze(O);if("string"==x){if("$id__"!=C){var P=!1;"$for"==(C=C.slice(1))&&(C="for",P=!0),_t.indexOf(C)>=0?"for"==C?(r.forExpr?console.log("warning: reduplicate property ($for)"):(r.forExpr=P?2:1,s.push(C)),t&&console.log("error: can not use '$for' in topmost widget")):c?console.log("error: property ($"+C+") conflict with previous ($"+c+")"):(c=C,"else"!=C&&s.push(C)):"children"==C?vt.call(this.props,"for.index")&&(r.isChildExpr=!0,r.children2=this.props.children):"key"!=C&&s.push(C);continue}x=void 0===(O=Ke[O])?"undefined":ze(O)}if("function"==x){if("$"==C[1]){console.log("warning: invalid using props."+C);continue}var $=C.slice(1);"id__"==$?_=O:this[C]=h[$]=be(O)?O.bind(this):O}}else{var S=Tt[C];S&&5!=S&&i.push(C)}r.flowFlag=c,r.dataset2=a.slice(0);var j=this.props["keyid."];if(t&&!j&&(j="body"),j){var D=void 0===j?"undefined":ze(j);"string"!=D&&"number"!=D&&(j=void 0)}var N=this.props["hookTo."];t&&!N&&(N=qe),"string"==typeof N&&(N=qe.W(N)),Array.isArray(N)&&N.W&&(void 0!==j?N.$set(j,N.W(this)):j=N.push(N.W(this))-1,r.keyid=j);var E=this.props["data-rewgt-owner"];if(E){var I,A=r.eventset2={};if(N&&(I=N.component))for(var C,m=Object.keys(I.$gui.eventset),w=0;C=m[w];w++)n[C]=_e(this,C,E),A[C]=!0}var R=Object.assign({},v,h);for(var H in R)n[H]=_e(this,H,E);for(var H in y)n[H]=this["$$"+H];t&&(r.className=d(r.className,["rewgt-panel","row-reverse","reverse-row","col-reverse","reverse-col"])),Object.defineProperty(this,"$gui",{enumerable:!1,configurable:!1,writable:!1,value:r});var W={id__:0,childNumId:0,duals:[],"tagName.":this.props["tagName."],exprAttrs:s.slice(0)};if(qe.__design__){var F=e._getGroupOpt(this);W["data-group.opt"]=F.type+"/"+F.editable}Object.assign(W,{left:0,top:0,width:null,height:null,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,borderWidth:[0,0,0,0],padding:[0,0,0,0],margin:[0,0,0,0],klass:"",style:{}});var L=r.isPanel=f(r.className,"rewgt-panel"),z=!1,B=!1,V=this.props["childInline."];if(V||t||!L||(f(r.className+" "+this.props.klass,["col-reverse","reverse-col"])?B=!0:z=!0),r.useSparedX=!1,r.useSparedY=!1,r.respared=!1,r.sparedTotal=0,r.compIdx={},r.comps=gt(this.props.children),Object.defineProperty(this.duals,"keyid",{enumerable:!0,configurable:!0,get:function(){return this.$gui.keyid}.bind(this),set:function(e,t){throw new Error("property (keyid) is readonly")}}),this.defineDual("klass",function(e,t){this.state.klass=e||""}),this.defineDual("style",function(e,t){if(this.state["tagName."])this.state.style=Object.assign({},t,e);else{var r=Ge.eachComponent(this)[0];r&&(r.duals.style=e)}}),this.defineDual("left",function(e,t){this.state.left=isNaN(e)?null:e}),this.defineDual("top",function(e,t){this.state.top=isNaN(e)?null:e}),this.defineDual("width",function(e,t){var r,n=!1;if(isNaN(e)?r=null:(r=e,null!==e&&(n=!0)),this.state.width=r,n){var i=this.parentOf(!0);i&&i.$gui.useSparedX&&ge(i,!1)}}),this.defineDual("height",function(e,t){var r,n=!1;if(isNaN(e)?r=null:(r=e,null!==e&&(n=!0)),this.state.height=r,n){var i=this.parentOf(!0);i&&i.$gui.useSparedY&&ge(i,!1)}}),this.defineDual("minWidth",function(e,t){var r=e||0;r>0&&this.state.maxWidth>0&&this.state.maxWidth<r?console.log("warning: invalid widget minWidth or maxWidth"):this.state.minWidth=r}),this.defineDual("maxWidth",function(e,t){var r=e||0;r>0&&this.state.minWidth>0&&this.state.minWidth>r?console.log("warning: invalid widget minWidth or maxWidth"):this.state.maxWidth=r}),this.defineDual("minHeight",function(e,t){var r=e||0;r>0&&this.state.maxHeight>0&&this.state.maxHeight<r?console.log("warning: invalid widget minHeight or maxHeight"):this.state.minHeight=r}),this.defineDual("maxHeight",function(e,t){var r=e||0;r>0&&this.state.minHeight>0&&this.state.minHeight>r?console.log("warning: invalid widget minHeight or maxHeight"):this.state.maxHeight=r}),this.defineDual("borderWidth",function(e,t){var n=t||[0,0,0,0],i=this.state.borderWidth=r.isPanel?pe(e):ce(e),o=!1;this.$gui.useSparedX?n[1]===i[1]&&n[3]===i[3]||(o=!0):this.$gui.useSparedY&&(n[0]===i[0]&&n[2]===i[2]||(o=!0)),o&&ge(this,!1)}),this.defineDual("padding",function(e,t){var n,i=this.state.padding=r.isPanel?pe(e):ce(e);if((n=this.$gui.useSparedX)||this.$gui.useSparedX){var o=!1,a=t||[0,0,0,0];n?a[1]===i[1]&&a[3]===i[3]||(o=!0):a[0]===i[0]&&a[2]===i[2]||(o=!0),o&&ge(this,!1)}}),this.defineDual("margin",function(e,t){this.state.margin=r.isPanel?pe(e):ce(e)}),this.defineDual("id__",function(e,t){this.state.id__=e,r.id__=r.id2__=e}),_&&this.defineDual("id__",_),this.defineDual("trigger",ve),this.defineDual("cellSpacing"),this.defineDual("sizes"),N){var U=N&&N.component;U&&(U.props["isTableRow."]&&(this.props.tdStyle&&this.defineDual("tdStyle",function(e,t){this.state.tdStyle=Object.assign({},t,e),setTimeout(function(){U.reRender()},0)},this.props.tdStyle),this.props.colSpan&&this.defineDual("colSpan",function(e,t){this.state.colSpan=e,setTimeout(function(){U.reRender()},0)},this.props.colSpan),this.props.rowSpan&&this.defineDual("rowSpan",function(e,t){this.state.rowSpan=e,setTimeout(function(){U.reRender()},0)},this.props.rowSpan)),U.props["isScenePage."]&&(r.inScene=!0))}r.cssWidth=null,r.cssHeight=null;var q=null,Y=null,G=this.widget;if(N&&G)if(l&&(G.$callspace={flowFlag:"ref",forSpace:null},G.$callspace[l]=u,T(G.$callspace.exprSpace={},this)),t&&(nt=Je.topmostWidget_=G,(rt=Je.containNode_=document.getElementById("react-container"))||console.log("fatal error: can not find 'react-container' node.")),t&&rt){qe.__design__&&(rt.style.zIndex="3000",this.duals.style={zIndex:"-1000",overflow:"hidden"});var X=rt.frameInfo;X||(X=rt.frameInfo={topHi:0,leftWd:0,rightWd:0,bottomHi:0}),X.rootName="."+j;var Z=function(){var e=Math.max(100,window.innerWidth-X.leftWd-X.rightWd),t=Math.max(100,window.innerHeight-X.topHi-X.bottomHi),n=this.state.innerSize,i=[e,t],o={left:X.leftWd,top:X.topHi,parentWidth:e,parentHeight:t,innerSize:i};if(Ge.dragInfo.justResized&&(o.id__=p()),this.setState(o),vt.call(this.duals,"innerSize")){var a=r.connectTo.innerSize;a&&r.compState>=2&&setTimeout(function(){M(a,i,n,"innerSize")},0)}}.bind(this);rt.refreshFrame=Z,he(rt);var Q=function(){Ge.dragInfo.inDragging=!1,Ge.dragInfo.justResized=!0,setTimeout(function(){Ge.dragInfo.justResized=!1},1200),Z()},ee=0;r.onWinResize=function(e){Ge.dragInfo.inDragging=!0,ee&&clearTimeout(ee),ee=setTimeout(Q,500),Z()},this.duals.style=Object.assign({},this.props.style,{position:"absolute"}),this.duals.left=X.leftWd,this.duals.top=X.topHi,q=Math.max(100,window.innerWidth-X.leftWd-X.rightWd),Y=Math.max(100,window.innerHeight-X.topHi-X.bottomHi)}else{var te=N.component;te&&(q=te.$gui.cssWidth,Y=te.$gui.cssHeight)}return W.parentWidth=q,W.parentHeight=Y,this.defineDual("childNumId",function(e,n){var i=this,o=i.widget;if(o){var a=i.state.sizes,s=Array.isArray(a),l=r.compIdx,u=r.comps,p=i.props["isScenePage."],c=!1,h=!1,d=0,g=!1;u.forEach(function(e,n){if("string"==typeof e){if(0==n&&1==u.length&&vt.call(i.duals,"html."))return setTimeout(function(){i.duals["html."]=e},0),void(g=!0);if(!V)return u[n]=void 0,void console.log("warning: can not add text element to panel ("+o.getPath()+")");e=u[n]=ht(mr,{"html.":e})}else if(!e)return;var a,s=b(e),v=!1;if(s){var y=parseInt(s);a=y+""===s?y:s,"number"==typeof l[s]&&(v=!0)}else s=(a=n+r.removeNum)+"";if(f(e.props.className,"rewgt-static")){if(v)return void(l[a]=n);if(L)u[n]=void 0,console.log("warning: can not add rewgt-static to panel ("+o.getPath()+") directly.");else{var _=Object.assign({},e.props);_.key=s,!qe.__design__||i.props.$for||i.props.$$for||(_.onMouseDown=K,_.onDoubleClick=J.bind(i)),l[a]=n,u[n]=V?ht("span",_):ht("div",_)}}else{var m=e.props["childInline."];if(void 0===m)return l[a]=n,void(v||(u[n]=ft(e,{key:s})));if(V){if(!m)return console.log("error: can not add panel or div ("+s+") to paragraph ("+o.getPath()+")."),void(u[n]=void 0)}else if(!f(e.props.className,["rewgt-panel","rewgt-unit"]))return u[n]=void 0,void console.log("error: only panel, div, paragraph ("+a+") can add to panel or div ("+o.getPath()+").");var w=!1;e.props["isReference."]&&(w=!0,v||("$"!=s[0]&&(s=a="$"+s),it&&st.push([i,a])));var k=e.props.width,O=e.props.height,x="number"!=typeof k,P="number"!=typeof O;if(z)x?c=!0:k<0&&!w&&(h=!0,d+=-k);else if(B)P?c=!0:O<0&&!w&&(h=!0,d+=-O);else{var $="";!x&&k<0?$="width":!P&&O<0&&($="height"),$&&console.log("error: can not use negative "+$+" under widget ("+o.getPath()+")")}if(v&&e.props["hookTo."]!==o&&(v=!1),v)l[a]=n;else{var S={"hookTo.":o,key:s,"keyid.":a};if(V||(S.width=x?null:k,S.height=P?null:O,t&&e.props["isScenePage."]&&e.props.noShow&&!qe.__design__&&(S["isTemplate."]=!0)),p){var j=Object.assign({},e.props.style),D=(parseInt(j.zIndex)||0)+"";"0"!==D&&(j.zIndex=D),S.style=j}else qe.__debug__&&!t&&r.isPanel&&"absolute"==(S.style||{}).display&&console.log("warning: can not use 'display:absolute' under a panel");l[a]=n,u[n]=ft(e,S)}}}),g&&u.splice(0),s||(h&&!c?((d>0||r.useSparedX!=z||r.useSparedY!=B)&&(r.respared=!0),r.sparedTotal=d,r.useSparedX=z,r.useSparedY=B):(r.sparedTotal=0,r.useSparedX=!1,r.useSparedY=!1)),t&&0==n&&(l.$pop=u.length+r.removeNum,u.push(ht(Ue(Ye.Panel._extend()),{"hookTo.":o,key:"$pop","keyid.":"$pop",left:0,top:0,width:0,height:0,style:{position:"absolute",zIndex:3016,overflow:"visible"}})))}}),W}},{key:"shouldComponentUpdate",value:function(e,t){var r=Ge.shouldUpdate(this,e,t);if(r&&this.props.children!==e.children&&!this.props["marked."]){var n=this.$gui,i=n.duals.children=e.children;n.comps=gt(i),n.removeNum+=1}return r}},{key:"componentWillReceiveProps",value:function(e){for(var t,r=this.$gui,n=this.duals,i=r.duals,o=Object.keys(n),a=0;t=o[a];a++){var s=e[t];if(void 0===s){var l=r.dualAttrs[t];if(!l)continue;if(void 0===(s=e[l]))continue}s!==i[t]&&(n[t]=i[t]=s)}}},{key:"componentDidMount",value:function(){this.isHooked=!!this.widget,this.props["hasStatic."]&&de(this);var e=this.$gui;if(e.syncExpr){for(var t;t=e.syncExpr.shift();)e.exprAttrs[t[0]]=t[1];delete e.syncExpr}var r=this.props.styles;if(r&&(this.props["data-span.path"]||this.props["data-unit.path"])){var n=this;Object.keys(r).forEach(function(e){var t=r[e];if("object"==(void 0===t?"undefined":ze(t))&&e){var i=n.componentOf(e);i&&(i.duals.style=t)}})}e.hasIdSetter&&(this.duals.id__=2)}},{key:"componentWillUnmount",value:function(){if(qe.__debug__){var e=this.props.teardown__;if("function"==typeof e)try{e.apply(this)}catch(e){console.log(e)}}var t=this.$gui;t.hasIdSetter&&(this.duals.id__=0);for(var r,n=Object.keys(t.connectBy),i=[],o=0;r=n[o];o++)for(var a,s=t.connectBy[r],l=0;a=s[l];l++)(u=a[0])!==this&&i.indexOf(u)<0&&i.push(u);for(var u,o=0;u=i[o];o++)u.unlisten("*",this);if(t.connectTo={},t.connectBy={},t.compState=0,Array.isArray(this.widget)){var p=this.widget.parent;if(Array.isArray(p)){var c=t.keyid,f=p.component;if(f){var h=f.$gui;if(!h.flowFlag&&!h.forExpr){var d=h.compIdx[c];"number"==typeof d&&(delete h.comps[d],delete h.compIdx[c])}}p.$unhook(this.widget,c)}delete this.widget.component,delete this.widget}t.eventset={},this.isHooked=!1}},{key:"reRender",value:function(e,t){if(this.isHooked)if(this.$gui.inSync){var r=this;setTimeout(function(){var n=x(r.state.id__),i=Object.assign({},t,{id__:n});r.setState(i,e)},0)}else{var n=x(this.state.id__),i=Object.assign({},t,{id__:n});this.setState(i,e)}else this.state.id__>1&&(qe.__design__||qe.__debug__)&&console.log("warning: reRender() failed when component unhooked."),e&&e()}},{key:"listen",value:function(e,t,r){function n(e){if(Object.getOwnPropertyDescriptor(o.duals,e))return!0;if(o.props["$"+e])return _t.indexOf(e)>0&&console.log("warning: '"+e+"' is not listenable."),!0;if(i.dataset.indexOf(e)>=0||i.tagAttrs.indexOf(e)>=0||vt.call(i.dualAttrs,e)){var t=L(o,e);return Object.defineProperty(o.duals,e,{enumerable:!0,configurable:!0,get:t[0],set:t[1]}),!0}return!1}var i=this.$gui,o=this;if("function"==typeof t){if(Array.isArray(e))p=e;else{if("string"!=typeof e||!e)return console.log("warning: invalid listen source."),this;p=[e]}for(var a,s=0;a=p[s];s++)if(n(a)){var l=i.connectTo[a];l||(l=i.connectTo[a]=[]),l.push([null,t,!1])}else console.log("warning: listen source ("+a+") inexistent.");return this}if(!t||!t.$gui)return console.log("warning: invalid listen target."),this;var u,p=[];if(Array.isArray(e))e.forEach(function(e){var t=("on-"+e).replace(Ct,function(e,t){return t.toUpperCase()});p.push([e,t])});else if("string"==(u=void 0===e?"undefined":ze(e)))r&&"string"==typeof r?p.push([e,r,r]):(r=("on-"+e).replace(Ct,function(e,t){return t.toUpperCase()}),p.push([e,r]));else{if(!action||"object"!=u)return this;Object.keys(e).forEach(function(t){p.push([t,e[t]])})}return p.forEach(function(e){var r=e[0],a=e[1],s=!1;if(r&&n(r)){if("function"!=typeof t[a]){var l=e[2];if(!l||!vt.call(t.duals,l))return void console.log("warning: invalid listen target ("+a+").");if(l===r&&t===o)return void console.log("warning: can not connect dual ("+r+") to self.");s=!0,a=l}var u=t.$gui.connectBy,p=-1,c=u[a];c?(p=c.findIndex(function(e){return e[0]===o&&e[1]===r}))>=0&&(c[p][2]=s):c=u[a]=[],p<0&&c.push([o,r,s]),p=-1,(c=i.connectTo[r])?(p=c.findIndex(function(e){return e[0]===t&&e[1]===a}))>=0&&(c[p][2]=s):c=i.connectTo[r]=[],p<0&&c.push([t,a,s])}else console.log("warning: listen source ("+r+") inexistent.")}),this}},{key:"unlisten",value:function(e,t,r){if("function"==typeof t){if("string"!=typeof e||!e)return console.log("warning: invalid unlisten source."),this;if(u=(a=this.$gui).connectTo[e]){var n=u.findIndex(function(e){return null===e[0]&&e[1]===t});n>=0&&(u.splice(n,1),0==u.length&&delete a.connectTo[e])}return this}if(!t||!t.$gui)return console.log("warning: invalid unlisten target."),this;var i,o=[],a=this.$gui;if(Array.isArray(e))e.forEach(function(e){var t=("on-"+e).replace(Ct,function(e,t){return t.toUpperCase()});o.push([e,t])});else if("string"==(i=void 0===e?"undefined":ze(e))){if("*"==e){var s=a.connectTo;return Object.keys(s).forEach(function(e){var r,n=s[e];if(n&&(r=n.length)>0){for(;--r>=0;)n[r][0]===t&&n.splice(r,1);0==n.length&&delete s[e]}}),this}if(r&&"string"==typeof r){if("*"==r){var l,u=(s=a.connectTo)[e];if(u&&(l=u.length)>0){for(;--l>=0;)u[l][0]===t&&u.splice(l,1);0==u.length&&delete s[e]}return this}}else r=("on-"+e).replace(Ct,function(e,t){return t.toUpperCase()});o.push([e,r])}else{if(!action||"object"!=i)return this;Object.keys(e).forEach(function(t){o.push([t,e[t]])})}return o.forEach(function(e){var r=e[0],n=e[1],i=a.connectTo[r];if(i){var o=i.findIndex(function(e){return e[0]===t&&e[1]===n});o>=0&&(i.splice(o,1),0==i.length&&delete a.connectTo[r])}}),this}},{key:"getHtmlNode",value:function(e){if(this.state["tagName."]||e)return ct(e||this);var t=this.widget;if(t){for(var r=Object.keys(t),n=r.length,i=null,o=0;o<n;o++){var a=r[o];if("parent"!=a&&"component"!=a){var s=t[a];if("object"==(void 0===s?"undefined":ze(s))&&s.W===qe.W){i=s.component;break}}}if(i)return i.getHtmlNode()}return null}},{key:"parentOf",value:function(e,t,r){var n=this,i=n.widget,o=i&&i.parent,a=o&&o.component;if(e)for(var s=1,l=r||65535;a&&(n.props["data-rewgt-owner"]||t&&a.state.role!==t);){if(s>=l)return null;s+=1,n=a,a=(o=o.parent)&&o.component}else for(;t&&a&&a.state.role!==t;)a=(o=o.parent)&&o.component;return a||null}},{key:"childOf",value:function(e,t){var r,n=this,i=n.widget;if(t)for(;i;){var o=n.$gui.comps,a=o.length;for(r=0;r<a;r++)if(u=o[r]){var s=b(u),l=(u=s&&i[s])&&u.component;if(l){if(l.props["data-rewgt-owner"]){i=u,n=l;break}return e?l.childOf(e):l}return null}if(r>=a)return null}else if(e){var u=i[e];return u&&u.component||null}return null}},{key:"componentOf",value:function(e){var t=void 0===e?"undefined":ze(e);if("number"==t){var r=[],n=A(this,e,r,0);return n&&r[1]?n:(console.log("warning: locate callspace ("+e+") failed."),null)}if("string"!=t)return null;var i=e[0];if("."!=i&&"/"!=i){var o=this.widget,a=o&&o.W(e);return a&&a.component||null}return oe(this,e)}},{key:"elementOf",value:function(e){var t,r=null,n="",i=void 0===e?"undefined":ze(e);if("number"==i)r=(r=this.componentOf(e))&&r.widget;else if(e){if("string"!=i)return null;if("."!=(t=e[0])&&"/"!=t)r=this.widget,n=e;else{var o=e.lastIndexOf("./");if(o>=0){if(!(f=this.componentOf(e.slice(0,o+2))))return null;r=f.widget,n=e.slice(o+2)}else{if("."!=t)return"/"==t&&"/"==e[1]&&(h=this.parentOf())?h.elementOf(e.slice(2)):null;if(r=qe,!(n=e.slice(1)))return null}}}else r=this.widget;if(!r)return null;if(!n){if(f=r.component){var a=r.parent;if((h=a&&a.component)&&"number"==typeof(d=h.$gui.compIdx[f.$gui.keyid]))return h.$gui.comps[d]}return null}if(n.indexOf("/")>=0)return null;for(var s,l=n.split("."),u=l.length-1,p=0;s=l[p];p++){var c=r[s];if(!Array.isArray(c)||!c.W){var f=r.component;return f&&f.props["isTemplate."]?f.elementOf(l.slice(p).join(".")):null}if(!(p<u)){var h=r.component;if(h){var d=h.$gui.compIdx[s];if("number"==typeof d)return h.$gui.comps[d]}return null}r=c}return null}},{key:"prevSibling",value:function(){var e=this.widget,t=this.$gui.keyid,r=(e=e&&e.parent)&&e.component;if(r&&(t||0===t)){var n=r.$gui,i=n.compIdx[t];if("number"==typeof i)for(var o=i-1;o>=0;o--){var a=n.comps[o];if(a){var s=b(a);return a=s&&e[s],a?a.component:void 0}}}}},{key:"nextSibling",value:function(){var e=this.widget,t=this.$gui.keyid,r=(e=e&&e.parent)&&e.component;if(r&&(t||0===t)){var n=r.$gui,i=n.compIdx[t];if("number"==typeof i)for(var o=n.comps.length,a=i+1;a<o;a++){var s=n.comps[a];if(s){var l=b(s);return s=l&&e[l],s?s.component:void 0}}}}},{key:"fullClone",value:function(e){var t=null,r=this.$gui.keyid,n=this.widget,i=n&&n.parent;if(i=i&&i.component){var o=i.$gui.compIdx[r];"number"==typeof o&&(t=i.$gui.comps[o])}var a,s=null;if("object"!=(void 0===e?"undefined":ze(e))&&(e={}),t){if(a=t.props["isReference."])return s=w(t.props),"number"==typeof r&&(delete s.key,delete s["keyid."]),ht(1==a?Jr:Qr,Object.assign(s,e));if(this.props["isTemplate."]&&!qe.__design__){var l=this.$gui.template;if(l instanceof ae)return ft(t,{template:l},null);throw new Error("invalid template ("+r+")")}}if(!t||!(s=V(this)))throw new Error("invalid widget ("+r+")");return"number"==typeof r&&(s["keyid."]="",s.key=""),Object.assign(s,e),U(t,s,n,this)}},{key:"setChild",value:function(){function e(){if(n&&a){var e=o.component;e&&e.renewPages&&e.renewPages()}r&&r(n)}function t(e){var t,r=b(e),n=c+h+g.length,i=!1;if(r){var o=parseInt(r);o+""===r?(i=!0,t=o):t=r}else t=n,i=!0;return i&&(t<0||t>n)&&(Ge.instantShow("warning: invalid keyid ("+t+")"),t=n),[i&&t==n,t]}var r=void 0,n=!1,i=arguments.length;i>0&&("function"!=typeof(r=arguments[i-1])?r=void 0:i-=1);var o=this.widget,a=o===nt,s=this.$gui;if(!o)return Ge.instantShow("warning: invalid target widget in setChild()."),e();if(!this.isHooked)return Ge.instantShow("warning: can not add child to unhooked widget."),e();if(this.props["isTemplate."])if(at){for(var l=s.template,u=0;u<i;u++){if("function"==($=void 0===(P=arguments[u])?"undefined":ze(P))){r=P;break}P&&dt(P)&&Ie(l,P)}if(!qe.__design__)return e()}else if(!qe.__design__)return Ge.instantShow("warning: can not set child of template."),e();var p=4;if(s.isPanel||a)p=1;else if(f(s.className,"rewgt-unit"))p=this.props["childInline."]?3:2;else if(!this.props["childInline."])return Ge.instantShow("warning: invalid call setChild()"),e();for(var c=s.removeNum,h=0,d=[],g=s.comps.slice(0),v=g.length-1;v>=0;v--){var y,_=g[v],m=_&&b(_);m?(d.unshift(m),f(_.props.className,"rewgt-static")?g[v]=ft(_,{key:m}):(y=(S=parseInt(m))+""===m?S:m)!==_.props["keyid."]&&(g[v]=ft(_,{"keyid.":y,key:m}))):(g.splice(v,1),h+=1,n=!0)}for(var w=void 0,k="",O=0;O<i;O++){var P=arguments[O],$=void 0===P?"undefined":ze(P);if("function"==$){r=P;break}if("number"==$&&(P+="",$="string"),"string"==$){if(!P)continue;if("-"==(k=P[0])||"+"==k){if(!(P=P.slice(1))){k="";continue}}else k="";w=P;var S=parseInt(P);S+""==P&&(w=S),"-"==k?((R=d.indexOf(P))>=0&&(d.splice(R,1),g.splice(R,1),h+=1,n=!0),k="",w=void 0):"+"==k&&(R=d.indexOf(P))<0&&(k="")}else if(P&&dt(P)){if(f(P.props.className,"rewgt-static")){console.log("warning: setChild() not support rewgt-static."),k="",w=void 0;continue}var j=!0,D=P.props["childInline."];void 0===D||(1==p||2==p?f(P.props.className,["rewgt-panel","rewgt-unit"])||(j=!1):D||(j=!1));var N=void 0,E=!0;"+"==k&&void 0!==w?N=w:E=!1;var I,A=!1;if("+"!=k&&void 0!==w)I=w;else{var T=t(P);A=T[0],I=T[1]}if(j){P.props["isReference."]&&("string"==typeof I?"$"!=I[0]&&(I="$"+I):I="$"+I,it&&st.push([this,I]));var C=A||E?-1:d.indexOf(I+"");if(C>=0)g[C]=[I,P];else{var R=E?d.indexOf(N+""):-1;if(R>=0?(g.splice(R,0,[I,P]),d.splice(R,0,I+"")):(g.push([I,P]),d.push(I+"")),E&&!A){var H=d.indexOf(I+"");H>=0&&H==R&&R>=0&&(H=d.indexOf(I+"",R+1)),H>=0&&(g.splice(H,1),d.splice(H,1),h+=1)}}n=!0}else Ge.instantShow("error: display type of child widget ("+I+") mismatch to owner ("+o.getPath()+").");k="",w=void 0}else if(Array.isArray(P))for(var W=P.length,M="",F=void 0,L=0;L<W;L++){var z=P[L],B=void 0===z?"undefined":ze(z);if("number"==B&&(z+="",B="string"),"string"==B){if(!z)continue;if("-"==(M=z[0])||"+"==M){if(!(z=z.slice(1))){M="";continue}}else M="";F=z;var V=parseInt(z);V+""==z&&(F=V),"-"==M?((Z=d.indexOf(z))>=0&&(d.splice(Z,1),g.splice(Z,1),h+=1,n=!0),M="",F=void 0):"+"==M&&(Z=d.indexOf(z))<0&&(M="")}else if(z&&dt(z)){if(f(z.props.className,"rewgt-static")){console.log("warning: setChild() not support rewgt-static."),M="",F=void 0;continue}var U=!0,q=z.props["childInline."];void 0===q||(1==p||2==p?f(z.props.className,["rewgt-panel","rewgt-unit"])||(U=!1):q||(U=!1));var Y=!0;"+"==M&&void 0!==F?F:"+"==k&&void 0!==w?insBefor2=w:Y=!1;var G,X=!1;if("+"!=M&&void 0!==F)G=F;else{var K=t(z);X=K[0],G=K[1]}if(U){z.props["isReference."]&&("string"==typeof G?"$"!=G[0]&&(G="$"+G):G="$"+G,it&&st.push([this,G]));var J=X||Y?-1:d.indexOf(G+"");if(J>=0)g[J]=[G,z];else{var Z=Y?d.indexOf(insBefor2+""):-1;if(Z>=0?(g.splice(Z,0,[G,z]),d.splice(Z,0,G+"")):(g.push([G,z]),d.push(G+"")),Y&&!X){var Q=d.indexOf(G+"");Q>=0&&Q==Z&&Z>=0&&(Q=d.indexOf(G+"",Z+1)),Q>=0&&(g.splice(Q,1),d.splice(Q,1),h+=1)}}n=!0}else Ge.instantShow("error: display type of child widget ("+G+") mismatch to owner ("+o.getPath()+").");M="",F=void 0}}}if(n){var ee=!1;!a&&s.isPanel&&(f(this.props.className+" "+this.props.klass,["col-reverse","reverse-col"])?ee=!0:!0);var te=null,re=0,ne=0;s.isPanel&&Array.isArray(this.props.sizes)&&(te=this.state.sizes,Array.isArray(te)&&(ee?ne=te.length:re=te.length));for(var ie=g.length,oe=[],ae={},v=0;v<ie;v++){le=g[v];if(Array.isArray(le)){var se={key:(pe=le[0])+""};void 0!==(le=le[1]).props["childInline."]&&(se["keyid."]=pe,se["hookTo."]=o,a&&le.props["isScenePage."]&&le.props.noShow&&!qe.__design__&&(se["isTemplate."]=!0),4!=p&&(se.width=le.props.width,se.height=le.props.height),re?se.width=te[v%re]:ne&&(se.height=te[v%ne])),g[v]=ft(le,se)}else pe=le.props["keyid."],oe.push([v,pe]);ae[pe]=v}for(var le,ue={},v=0;le=oe[v];v++){var L=le[0],pe=le[1],ce=o[pe];(ce=ce&&ce.component)&&(ue[pe]=ce,re?ce.state.width=te[L%re]:ne&&(ce.state.height=te[L%ne]))}if(s.removeNum+=h,s.comps=g,s.compIdx=ae,s.inSync)(r||a)&&setTimeout(function(){e()},0);else{var fe=x(this.state.id__);this.setState({id__:fe},e)}}else e()}},{key:"prepareState",value:function(){function e(e,t,r){var n=t||0;return n>=1||0==n?n:n<=-1?r?0:n:"number"!=typeof e?null:n>=.9999?e:n>=0?n*e:r?0:n>-.9999?n*e:-e}function t(e,t,r){return null===e?"":e>=1?e+"px":0==e||r&&e<0?"0":e<=-1?e+"px":t?"0":e>=.9999?"100%":e<=-.9999?"-100%":100*e+"%"}function r(e,t,r,n){return null===t||t>=1?t:0==t||n&&t<0?0:t<=-1?t:"number"!=typeof e?null:r?0:t>=.9999?e:t<=-.9999?-e:t*e}var n=this.state.parentWidth,i=this.state.parentHeight,o="number"!=typeof n,a="number"!=typeof i,s=this.state.padding,l=this.state.borderWidth,u=this.state.margin,p=null,c=null;"number"==typeof this.state.left&&(p=e(n,this.state.left,!1)),"number"==typeof this.state.top&&(c=e(i,this.state.top,!1));var f=[0,0,0,0],h=[0,0,0,0],d=[0,0,0,0],g={};o?(s.forEach(function(e,r){g["padding"+Rt[r]]=t(e,!1,!0)}),l.forEach(function(e,r){g["border"+Rt[r]+"Width"]=t(e,!0,!0)}),u.forEach(function(e,r){g["margin"+Rt[r]]=t(e,!1,!1)})):(s.forEach(function(e,t){var i=r(n,e,!1,!0);g["padding"+Rt[t]]=null===i?"":i+"px",f[t]=i||0}),l.forEach(function(e,t){var i=r(n,e,!0,!0);g["border"+Rt[t]+"Width"]=null===i?"":i+"px",h[t]=i||0}),u.forEach(function(e,t){var i=r(n,e,!1,!1);g["margin"+Rt[t]]=null===i?"":i+"px",d[t]=i||0}));var v=this.widget,y=this.$gui,_=null,m=this.state.minWidth,b=this.state.maxWidth,w=this.state.minHeight,k=this.state.maxHeight,O=this.state.width,x=this.state.height,P=null,$="number"!=typeof O||!(O>=1||0==O)&&o,S=null,j="number"!=typeof x||!(x>=1||0==O)&&a,D=!1,N=!1;if(!$){var E=null;O<0?(_=this.parentOf(!0))?"number"==typeof(A=_.$gui.sparedX)&&(E=A*(0-O)):_=void 0:E=e(n,O,!0),"number"!=typeof E?$=!0:(m&&E<m&&(E=m),b&&E>b&&(E=b),(P=E-f[3]-f[1]-h[3]-h[1])<0?P=null:y.cssWidth!==P&&(D=!0))}if(!j){var I=null;if(x<0)if(null===_&&(_=this.parentOf(!0)),_){var A=_.$gui.sparedY;"number"==typeof A&&(I=A*(0-x))}else _=void 0;else I=e(i,x,!0);"number"!=typeof I?j=!0:(w&&I<w&&(I=w),k&&I>k&&(I=k),(S=I-f[0]-f[2]-h[0]-h[2])<0?S=null:y.cssHeight!==S&&(N=!0))}m&&(m=Math.max(0,m-f[3]-f[1]-h[3]-h[1])),b&&(b=Math.max(0,b-f[3]-f[1]-h[3]-h[1])),w&&(w=Math.max(0,w-f[0]-f[2]-h[0]-h[2])),k&&(k=Math.max(0,k-f[0]-f[2]-h[0]-h[2])),y.cssWidth=P,y.cssHeight=S;var T=y.respared;if(y.respared=!1,v&&(y.isPanel||v===nt)&&(D||N||T||Ge.dragInfo.justResized)&&(y.useSparedX?(D||T)&&(y.sparedX=fe(this,v,!0,P),T=!0):y.useSparedY&&(N||T)&&(y.sparedY=fe(this,v,!1,S),T=!0),this.isHooked||T)){var C=this;setTimeout(function(){C.isHooked&&Q(C,Ge.dragInfo.inDragging)},0)}var R=Object.assign({},this.state.style,g);"number"!=typeof p?delete R.left:R.left=p+"px","number"!=typeof c?delete R.top:R.top=c+"px",$?delete R.width:R.width=P+f[3]+f[1]+h[3]+h[1]+"px",j?delete R.height:R.height=S+f[0]+f[2]+h[0]+h[2]+"px",m?R.minWidth=m+"px":delete R.minWidth,b?R.maxWidth=b+"px":delete R.maxWidth,w?R.minHeight=w+"px":delete R.minHeight,k?R.maxHeight=k+"px":delete R.maxHeight,this.state.style=R;var H=[];return y.comps.forEach(function(e){e&&H.push(e)}),H}},{key:"render",value:function(){if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var t=this.prepareState(),r=k(this),n=this.$gui.insertEle;return n&&(t=me(n,t)),ht(e,r,t)}}]),e}();Ye.Widget_=Ht;var Wt=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"BodyPanel",r))}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.className="rewgt-unit",e["keyid."]="body",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.defineDual("innerSize",function(e,t){throw new Error("duals.innerSize is readonly")},[e.parentWidth,e.parentHeight]),this.defineDual("nodes",we,[]),e}},{key:"renewPages",value:function(){if(!qe.__design__&&this.isHooked&&Ge.pageCtrl){var e=this.$gui.comps,t=this.widget,r=[];e.forEach(function(e){if(e&&e.props["isScenePage."]&&!e.props.noShow){var n=b(e),i=n&&t[n];(i=i&&i.component)&&r.push([n,i])}});var n=!1,i=Ge.pageCtrl.keys;if(i.length!=r.length)n=!0;else for(var o,a=0;o=i[a];a++)if(o!==r[a][0]){n=!0;break}n&&setTimeout(function(){Ge.pageCtrl.renewPages(r)},0)}}},{key:"componentDidMount",value:function(){Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var e=this.$gui;e.onWinResize&&window.addEventListener("resize",e.onWinResize,!1);var r=ct(this);r&&u(r)}},{key:"componentWillUnmount",value:function(){var e=this.$gui;e.onWinResize&&(window.removeEventListener("resize",e.onWinResize,!1),e.onWinResize=null),Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}},{key:"render",value:function(){return this.widget!==nt&&console.log("warning: BodyPanel only can be topmost widget."),Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]),t}(Ht);Ye.BodyPanel_=Wt,Ye.BodyPanel=new Wt;var Mt=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Panel",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),i="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels, -0.xx for spared percent",o=n.width,a=n.height;return o&&(o[3]=i),a&&(a[3]=i),n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.className="rewgt-panel",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.defineDual("nodes",we,[]),e}},{key:"isRow",value:function(){return!f(this.props.className+" "+this.state.klass,["col-reverse","reverse-col"])}},{key:"isReverse",value:function(){return f(this.props.className+" "+this.state.klass,["reverse-row","reverse-col"])}},{key:"render",value:function(){return this.state["tagName."]||console.log("warning: Panel can not be virtual widget."),Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]),t}(Ht);Ye.Panel_=Mt,Ye.Panel=new Mt;var Ft=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Unit",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),i="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels, -0.xx for spared percent",o=n.width,a=n.height;return o&&(o[3]=i),a&&(a[3]=i),n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.className="rewgt-unit",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return l(this)&&(this.duals.style=Object.assign({},this.props.style,{position:"absolute"})),e}}]),t}(Ht);Ye.Unit_=Ft,Ye.Unit=new Ft;var Lt=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"SplitDiv",r));return i._defaultProp.width=4,i._defaultProp.height=4,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=4,e.height=4,e}},{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),i="[number]: 0~1 for percent, 0.9999 for 100%, N pixels";return n.width=[r+1,"number",null,i],n.height=[r+2,"number",null,i],n}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);this.$gui.comps=[];var r=this.parentOf(!0),n=this.widget;if(!r)return Ge.instantShow("error: no owner widget for SplitDiv"),e;if(!f(r.props.className,"rewgt-panel"))return Ge.instantShow("error: owner of widget ("+n.getPath()+") is not rewgt-panel"),e;var i=!0;return f(r.props.className+" "+r.props.klass,["col-reverse","reverse-col"])&&(i=!1),Object.assign(this.$gui,{inRow:i,reversed:!1,inDrag:!1,dragStartX:0,dragStartY:0,resizeOwner:void 0,resizeTarg:void 0,sizingFunc:null}),this.defineDual("id__",function(e,t){if(1==t){var r=this.state;i?(("number"!=typeof r.width||r.width<1)&&(r.width=4),r.width>=1&&(r.minWidth=r.width,r.maxWidth=r.width),this.props.height>=1&&this.props.height<=4&&(r.height=.9999),void 0===this.props.minHeight&&(r.minHeight=10)):(("number"!=typeof r.height||r.height<1)&&(r.height=4),r.height>=1&&(r.minHeight=r.height,r.maxHeight=r.height),this.props.width>=1&&this.props.width<=4&&(r.width=.9999),void 0===this.props.minWidth&&(r.minWidth=10));var n={cursor:i?"ew-resize":"ns-resize"},o=!1;for(var a in r.style)if(0==a.indexOf("background")){o=!0;break}o||(n.backgroundColor="#ddd"),r.style=Object.assign({},r.style,n)}}),e}},{key:"$$onMouseDown",value:function(e){function t(e,t){var r=o.resizeOwner,n=o.resizeTarg;if(r&&n){var i=!1,a=-1,s=-1;if(o.inRow){a=n.state.width;var l=e-o.dragStartX;if(0!=l){var u=n.state.minWidth,p=n.state.maxWidth,c=a<1?a*n.state.parentWidth:a;if(a=o.reversed?c-l:c+l,u&&a<u&&(a=u),p&&a>p&&(a=p),a<1&&(a=1),a!=c){v=a-c;o.reversed&&(v=-v),v!=l&&(e+=v-l),o.dragStartX=e,o.dragStartY=t,o.sizingFunc?o.sizingFunc(n,a,s,!o.inDrag):(n.state.width=a,ge(r,!o.inDrag,function(){n.reRender()})),i=!0}}}else{s=n.state.height;var f=t-o.dragStartY;if(0!=f){var h=n.state.minHeight,d=n.state.maxHeight,g=s<1?s*n.state.parentHeight:s;if(s=o.reversed?g-f:g+f,h&&s<h&&(s=h),d&&s>d&&(s=d),s<1&&(s=1),s!=g){var v=s-g;o.reversed&&(v=-v),v!=f&&(t+=v-f),o.dragStartX=e,o.dragStartY=t,o.sizingFunc?o.sizingFunc(n,a,s,!o.inDrag):(n.state.height=s,ge(r,!o.inDrag,function(){n.reRender()})),i=!0}}}i||o.inDrag||!(a>=1||s>=1)||(o.sizingFunc?o.sizingFunc(n,a,s,!0):ge(r,!0,function(){n.reRender()}))}}function r(e){if(!o.inDrag){var r=i.parentOf(!0);if(!r||!r.$gui.isPanel)return;if(Array.isArray(r.props.sizes))return;var n=!1,a=o.inRow;if(a?Math.abs(e.clientX-o.dragStartX)>=4&&(n=!0):Math.abs(e.clientY-o.dragStartY)>=4&&(n=!0),n){for(var s=i.prevSibling();s;){var l=a?s.state.width:s.state.height,u=a?s.state.minWidth:s.state.minHeight,p=a?s.state.maxWidth:s.state.maxHeight;if("number"==typeof l&&l>0&&(0==u||0==p||u!=p)){o.reversed=f(r.props.className+" "+r.state.klass,["reverse-row","reverse-col"]),o.resizeOwner=r,o.resizeTarg=s,o.inDrag=!0,Ge.dragInfo.inDragging=!0;break}s=s.prevSibling()}var c;if(!o.inDrag&&!i.nextSibling()&&(c=r.parentOf(!0))&&r.$gui.sparedTotal>.989&&r.$gui.sparedTotal<=1.01){var l=a?r.state.width:r.state.height,u=a?r.state.minWidth:r.state.minHeight,p=a?r.state.maxWidth:r.state.maxHeight;if("number"==typeof l&&l>0&&.9999!=l&&(0==u||0==p||u!=p)&&(o.reversed=f(c.props.className+" "+c.state.klass,["reverse-row","reverse-col"]),o.resizeOwner=c,o.resizeTarg=r,o.inDrag=!0,Ge.dragInfo.inDragging=!0),!o.inDrag&&"number"==typeof l&&l>0&&c.$gui.sparedTotal>.989&&c.$gui.sparedTotal<=1.01){var h=c.parentOf(!0);if(h){var l=a?c.state.width:c.state.height,u=a?c.state.minWidth:c.state.minHeight,p=a?c.state.maxWidth:c.state.maxHeight;"number"==typeof l&&l>0&&.9999!=l&&(0==u||0==p||u!=p)&&(o.reversed=f(h.props.className+" "+h.state.klass,["reverse-row","reverse-col"]),o.resizeOwner=h,o.resizeTarg=c,o.inDrag=!0,Ge.dragInfo.inDragging=!0)}}if(o.inDrag){var d=o.resizeOwner.$gui.onCellSizing;d&&(o.sizingFunc=d)}}}}o.inDrag&&(e.stopPropagation(),t(e.clientX,e.clientY))}function n(e){Ge.dragInfo.inDragging=!1,o.inDrag=!1,setTimeout(function(){lt=!1},300),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n),e.stopPropagation(),t(e.clientX,e.clientY),o.resizeOwner=null,o.resizeTarg=null,o.sizingFunc=null}var i=this,o=this.$gui;o.dragStartX=e.clientX,o.dragStartY=e.clientY,o.inDrag=!1,lt=!0,document.addEventListener("mouseup",n,!1),document.addEventListener("mousemove",r,!1),e.stopPropagation(),this.$onMouseDown&&this.$onMouseDown(e)}},{key:"$$onClick",value:function(e){qe.__design__&&e.stopPropagation(),this.$onClick&&this.$onClick(e)}}]),t}(Ft);Ye.SplitDiv_=Lt,Ye.SplitDiv=new Lt;var zt=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"GridPanel",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.sizes=[r+1,"any",null,"[any]: [0.2,0.3,-0.4,-0.6], negative value stand for left space"],n.cellSpacing=[r+2,"number",null,"[number]: 0,1,2,..."],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.sizes=[.3,.3,-1],e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);if(!Array.isArray(this.props.sizes))return e;var r=this.$gui;return r.inRow=!f(r.className+" "+this.props.klass,["col-reverse","reverse-col"]),this.defineDual("cellSpacing",function(e,t){r.comps.length&&(r.useSparedX||r.useSparedY)&&(r.respared=!0)}),e.sizes=null,this.defineDual("sizes",function(e,t){if(Array.isArray(e)){e=this.state.sizes=e.slice(0);var n=!1,i=!1,o=0,a=this.widget===nt;!a&&r.isPanel||(e.splice(0),n=!0,a&&console.log("error: only none-topmost panel can use props.sizes"));for(var s=e.length-1;s>=0;s--){var l=e[s];"number"!=typeof l||isNaN(l)?(e[s]=null,n=!0):l<0&&(i=!0,o+=-l)}var u=!1,p=!1;f(this.props.className+" "+this.state.klass,["col-reverse","reverse-col"])?p=!0:u=!0;var c=!q(e,t);if(!n&&i&&(u||p)){r.sparedTotal=o;var h=r.useSparedX,d=r.useSparedY;u?r.useSparedX=!0:r.useSparedY=!0,c||h==r.useSparedX&&d==r.useSparedY||(c=!0)}else r.sparedTotal=0,r.useSparedX=!1,r.useSparedY=!1;c&&(r.comps.length&&(r.removeNum+=1),r.respared=!0,this.reRender())}else this.state.sizes=null,r.sparedTotal=0,r.useSparedX=!1,r.useSparedY=!1,Array.isArray(t)&&(r.comps.length&&(r.removeNum+=1),this.reRender())}),this.defineDual("childNumId",function(e,t){var n=this.state.sizes;if(Array.isArray(n)){var i=0,o=n.length;r.comps.forEach(function(e,t){if(e)if(f(e.props.className,"rewgt-static"))i++;else if(e.props["isReference."])i++;else if(void 0!==e.props["childInline."]){var a=n[i++%o];r.inRow?e.props.width!==a&&(r.comps[t]=ft(e,{width:a})):e.props.height!==a&&(r.comps[t]=ft(e,{height:a}))}else i++})}}),r.onCellSizing=function(e,t,r,n){var i=e.$gui.keyid,o=this.state.sizes;if(Array.isArray(o)){var a=this.$gui,s=a.compIdx[i],l=null,u=this.widget;if("number"==typeof s&&s>=0&&(l=a.comps[s]),l&&u){var p=o.length;if(a.inRow){if("number"==typeof t&&t>=0){t<1&&("number"!=typeof a.cssWidth?t=null:t*=a.cssWidth),o[v=s%p]=t;g=[];for(var c in a.compIdx)"number"==typeof(_=a.compIdx[c])&&_>=0&&_%p==v&&(m=(m=u[c])&&m.component)&&(m.state.width=t,g.push(m));ge(this,n,function(){for(var e,t=0;e=g[t];t++)e.reRender()})}else if("number"==typeof r&&r>=0){y=(v=Math.floor(s/p))+p;for(var c in a.compIdx)if("number"==typeof(_=a.compIdx[c])&&_>=v&&_<y&&(m=(m=u[c])&&m.component)&&"number"==typeof(b=m.state.height)&&b>=0){var f=m.state.minHeight,h=m.state.maxHeight,d=r;"number"==typeof r&&r<1&&(d="number"!=typeof a.cssHeight?null:r*a.cssHeight),f&&("number"!=typeof d||d<f)&&(d=f),h&&("number"!=typeof d||d>h)&&(d=h),b!==d&&m.setState({height:d})}}}else if("number"==typeof r&&r>=0){r<1&&("number"!=typeof a.cssHeight?r=null:r*=a.cssHeight),o[v=s%p]=r;var g=[];for(var c in a.compIdx)"number"==typeof(_=a.compIdx[c])&&_>=0&&_%p==v&&(m=(m=u[c])&&m.component)&&(m.state.height=r,g.push(m));ge(this,n,function(){for(var e,t=0;e=g[t];t++)e.reRender()})}else if("number"==typeof t&&t>=0){var v=Math.floor(s/p),y=v+p;for(var c in a.compIdx){var _=a.compIdx[c];if("number"==typeof _&&_>=v&&_<y){var m=u[c];if(m=m&&m.component){var b=m.state.width;if("number"==typeof b&&b>=0){var f=m.state.minWidth,h=m.state.maxWidth,d=t;"number"==typeof t&&t<1&&(d="number"!=typeof a.cssWidth?null:t*a.cssWidth),f&&("number"!=typeof d||d<f)&&(d=f),h&&("number"!=typeof d||d>h)&&(d=h),b!==d&&m.setState({width:d})}}}}}}}}.bind(this),e}},{key:"render",value:function(){if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var t=this.prepareState();qe.__design__&&t.push(ht("div",{key:"$end",title:"end of GridPanel",style:{width:"100%",height:"10px",backgroundColor:"#eee"}}));var r=k(this),n=this.$gui.insertEle;return n&&(t=me(n,t)),ht(e,r,t)}}]),t}(Mt);Ye.GridPanel_=zt,Ye.GridPanel=new zt;var Bt=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TableRow",r));return i._silentProp.push("isTableRow."),i._defaultProp.height=null,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="tr",e["isTableRow."]=!0,e.height=null,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);if(qe.__design__){var r=this;this.defineDual("childNumId",function(e,t){var n=r.parentOf(!0);n&&setTimeout(function(){n.reRender()},0)})}return e}},{key:"render",value:function(){var e=this.$gui,t=e.cssWidth,r=e.cssHeight;if(z(this),this["hide."])return null;var n=this.state["tagName."];if(!n)return ye(this);var i=e.cssWidth=this.state.parentWidth,o="number"!=typeof i||i<0,a=this.state.parentHeight,s=this.state.height,l="number"!=typeof s||s<0;l?a=e.cssHeight=null:s>=1?a=e.cssHeight=s:"number"==typeof a?s>=.9999?(e.cssHeight=a,("number"!=typeof a||a<0)&&(l=!0)):a=e.cssHeight=a*s:(a=e.cssHeight=null,l=!0);var u=t!==i,p=this.widget,c=[];if(this.$gui.comps.forEach(function(e){if(e){var t=b(e);if(t){var r,n,i,o,a,s=p&&p[t];(s=s&&s.component)?(r=s.state.width,n=s.state.height,i=s.state.colSpan,o=s.state.rowSpan,a=s.state.tdStyle):(r=e.props.width,n=e.props.height,i=e.props.colSpan,o=e.props.rowSpan,a=e.props.tdStyle);var f=t,h=parseInt(t);h+""===t&&(f=h);var d={key:t,"keyid.":f};i=parseInt(i),o=parseInt(o),i&&(d.colSpan=i+""),o&&(d.rowSpan=o+"");var g=null,v=null,y=!1;"number"==typeof r&&r>=0&&(g=r,d.style={width:r>=1?r+"px":r>=.9999?"100%":100*r+"%"}),"object"==(void 0===a?"undefined":ze(a))&&(d.style=Object.assign(d.style||{},a)),"number"==typeof n&&n>=0?n>=1?(v=n,!1):l?y=!0:v=n:!0,(u&&null!==g||y)&&(e=ft(e,{width:g,height:v})),c.push(ht("td",d,e))}}}),this.isHooked&&(!o&&t!==i||!l&&r!==a||Ge.dragInfo.justResized)){var f=this;setTimeout(function(){Q(f,Ge.dragInfo.inDragging)},0)}var h=Object.assign({},this.state.style);!l&&a>=0?h.height=a+"px":delete h.height;var d=k(this,h),g=e.insertEle;return g&&(c=me(g,c)),ht(n,d,c)}}]),t}(Ft);Ye.TableRow_=Bt,Ye.TableRow=new Bt;var Vt=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TablePanel",r));return i._defaultProp.height=null,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="table",e.className="rewgt-unit rewgt-table",e.height=null,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this),r=this;return this.defineDual("childNumId",function(e,t){r.$gui.respared=!0}),e}},{key:"render",value:function(){var e=this.$gui,t=e.cssWidth,r=e.cssHeight;if(z(this),this["hide."])return null;var n=this.state["tagName."];if(!n)return ye(this);var i=this.prepareState();if(this.isHooked&&("number"==typeof e.cssWidth&&t!==e.cssWidth||"number"==typeof e.cssHeight&&r!==e.cssHeight||Ge.dragInfo.justResized)){var o=this;setTimeout(function(){Q(o,Ge.dragInfo.inDragging)},0)}var a=this.widget;if(qe.__design__&&a){var s=2,l=[];i.forEach(function(e){if(e){var t=0,r=0,n=!1;ne(e,a).forEach(function(e){for(var i=l[t]||0;i>=2;)l[t++]=i-1,r+=1,i=l[t]||0;var o=parseInt(e.props.rowSpan||0),a=parseInt(e.props.colSpan||0);if(a>=2)for(;a>=2;){a-=1;var s=Math.max(0,(l[t]||0)-1);l[t++]=Math.max(s,o),r+=1}var u=e.props.width;("number"!=typeof u||u<0)&&(n=!0),l[t++]=o,r+=1}),l.splice(t),n||(r+=1),r>s&&(s=r)}});for(var u={style:{margin:"10px"}},p={style:{margin:"2px"}},c=[],f=0;f<s;f+=1)c.push(ht("td",{key:f+"",style:{backgroundColor:"#eee"}},ht("div",0==f?u:p)));i.push(ht("tr",{key:"$end",title:"end of TablePanel",style:{height:"10px"}},c))}var h=ht("tbody",null,i),d=k(this);return ht(n,d,h)}}]),t}(Mt);Ye.TablePanel_=Vt,Ye.TablePanel=new Vt;var Ut=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Div",r));return i._defaultProp.height=null,i._defaultProp.minHeight=20,i._htmlText=!0,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.height=null,e.minHeight=20,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return e["html."]=null,this.defineDual("html.",function(e,t){this.state["html."]=e||null}),e}},{key:"render",value:function(){if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var t=this.prepareState(),r=t.length,n=k(this),i=this.$gui.insertEle;return i&&(t=me(i,t),r=!0),ht(e,n,r?t:this.state["html."])}}]),t}(Ft);Ye.Div_=Ut,Ye.Div=new Ut;var qt=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Div2",r));return delete i._defaultProp.minHeight,i._defaultProp.width=null,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return delete e.minHeight,e.width=null,e["childInline."]=!0,e}}]),t}(Ut);Ye.Div2_=qt,Ye.Div2=new qt;var Yt=[null,null,null,null],Gt=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Style",r));return delete i._defaultProp.minWidth,delete i._defaultProp.minHeight,Object.assign(i._defaultProp,{left:null,top:null,margin:Yt.slice(0),padding:Yt.slice(0),borderWidth:Yt.slice(0)}),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return delete e.minWidth,delete e.minHeight,Object.assign(e,{"tagName.":"style",left:null,top:null,margin:Yt.slice(0),padding:Yt.slice(0),borderWidth:Yt.slice(0)})}}]),t}(qt);Ye.Style_=Gt,Ye.Style=new Gt;var Xt=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"VirtualDiv",r));return delete i._defaultProp.minWidth,delete i._defaultProp.minHeight,Object.assign(i._defaultProp,{left:null,top:null,margin:Yt.slice(0),padding:Yt.slice(0),borderWidth:Yt.slice(0)}),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return delete e.minWidth,delete e.minHeight,Object.assign(e,{"tagName.":"",left:null,top:null,margin:Yt.slice(0),padding:Yt.slice(0),borderWidth:Yt.slice(0)})}}]),t}(qt);Ye.VirtualDiv_=Xt,Ye.VirtualDiv=new Xt;var Kt=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"HiddenDiv",r));return i._defaultProp.width=null,delete i._defaultProp.minHeight,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=null,delete e.minHeight,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return qe.__design__||(this.duals.style={display:"none"}),e}}]),t}(Ut);Ye.HiddenDiv_=Kt,Ye.HiddenDiv=new Kt,Ye.Article_=ke(Ut,"Article"),Ye.Article=new Ye.Article_,Ye.Section_=ke(Ut,"Section"),Ye.Section=new Ye.Section_,Ye.Header_=ke(Ut,"Header"),Ye.Header=new Ye.Header_,Ye.Footer_=ke(Ut,"Footer"),Ye.Footer=new Ye.Footer_,Ye.Aside_=ke(Ut,"Aside"),Ye.Aside=new Ye.Aside_,Ye.Nav_=ke(Ut,"Nav"),Ye.Nav=new Ye.Nav_,Ye.Main_=ke(Ut,"Main"),Ye.Main=new Ye.Main_;var Jt=[6,0,6,0],Zt=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"P",r));return i._defaultProp.width=null,i._defaultProp.height=null,i._defaultProp.margin=Jt.slice(0),i._htmlText=!0,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return Object.assign(e,{width:null,height:null,margin:Jt.slice(0),"childInline.":!0,"tagName.":"p"})}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return e["html."]=null,this.defineDual("html.",function(e,t){this.state["html."]=e||null}),e}},{key:"render",value:function(){if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var t=this.prepareState(),r=t.length,n=k(this),i=this.$gui.insertEle;return i&&(t=me(i,t),r=!0),ht(e,n,r?t:this.state["html."])}}]),t}(Ft);Ye.P_=Zt,Ye.P=new Zt;var Qt=Ye.P._createClass(null),er=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Noscript",r));return delete i._defaultProp.margin,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="noscript",delete e.margin,e}},{key:"render",value:function(){if(z(this),this["hide."])return null;var e=this.state["tagName."];return e?ht(e):ye(this)}}]),t}(Zt);Ye.Noscript_=er,Ye.Noscript=new er;var tr=[10,10,10,10],rr=[2,2,2,2],nr={borderColor:"#bbb"},ir=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Fieldset",r));return i._defaultProp.padding=tr.slice(0),i._defaultProp.borderWidth=rr.slice(0),i._defaultProp.style=Object.assign({},nr),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.padding=tr.slice(0),e.borderWidth=rr.slice(0),e.style=Object.assign({},nr),e["tagName."]="fieldset",e}}]),t}(Zt);Ye.Fieldset_=ir,Ye.Fieldset=new ir,Ye.Details_=ke(Zt,"Details"),Ye.Details=new Ye.Details_;var or=[0,0,0,20],ar=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Ul",r));return i._defaultProp.padding=or.slice(0),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="ul",e.padding=or.slice(0),e}}]),t}(Zt);Ye.Ul_=ar,Ye.Ul=new ar;var sr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Ol",r));return i._defaultProp.padding=or.slice(0),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="ol",e.padding=or.slice(0),e}}]),t}(Zt);Ye.Ol_=sr,Ye.Ol=new sr,Ye.Li_=ke(Zt,"Li"),Ye.Li=new Ye.Li_,Ye.Dl_=ke(Zt,"Dl"),Ye.Dl=new Ye.Dl_,Ye.Dd_=ke(Zt,"Dd"),Ye.Dd=new Ye.Dd_,Ye.Dt_=ke(Zt,"Dt"),Ye.Dt=new Ye.Dt_,Ye.Figure_=ke(Zt,"Figure"),Ye.Figure=new Ye.Figure_,Ye.Figcaption_=ke(Zt,"Figcaption"),Ye.Figcaption=new Ye.Figcaption_,Ye.Menu_=ke(Zt,"Menu"),Ye.Menu=new Ye.Menu_,Ye.Menuitem_=ke(Zt,"Menuitem"),Ye.Menuitem=new Ye.Menuitem_,Ye.Address_=ke(Zt,"Address"),Ye.Address=new Ye.Address_,Ye.Form_=ke(Zt,"Form"),Ye.Form=new Ye.Form_;var lr=[0,0,0,0],ur=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Iframe",r));return i._defaultProp.margin=lr.slice(0),i._htmlText=!1,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="iframe",e.margin=lr.slice(0),e}}]),t}(Zt);Ye.Iframe_=ur,Ye.Iframe=new ur;var pr=[0,30,0,30],cr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Blockquote",r));return i._defaultProp.padding=pr.slice(0),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.padding=pr.slice(0),e["tagName."]="blockquote",e}}]),t}(Zt);Ye.Blockquote_=cr,Ye.Blockquote=new cr;var fr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Table",r));return i._htmlText=!1,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="table",e}}]),t}(Zt);Ye.Table_=fr,Ye.Table=new fr,Ye.Caption_=ke(Zt,"Caption"),Ye.Caption=new Ye.Caption_,Ye.Col_=ke(Xt,"Col",!0),Ye.Col=new Ye.Col_,Ye.Colgroup_=ke(Xt,"Colgroup",!0),Ye.Colgroup=new Ye.Colgroup_,Ye.Td_=ke(Xt,"Td"),Ye.Td=new Ye.Td_;var hr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Tbody",r));return i._htmlText=!1,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="tbody",e}},{key:"render",value:function(){if(qe.__design__){if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var r=this.prepareState(),n=ht("tr",{key:"$end",title:"end of Tbody",style:{height:"10px"}},ht("td"));r.push(n);var i=k(this);return ht(e,i,r)}return Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]),t}(Xt);Ye.Tbody_=hr,Ye.Tbody=new hr,Ye.Thead_=ke(Xt,"Thead",!0),Ye.Thead=new Ye.Thead_,Ye.Tfoot_=ke(Xt,"Tfoot",!0),Ye.Tfoot=new Ye.Tfoot_,Ye.Th_=ke(Xt,"Th",!0),Ye.Th=new Ye.Th_,Ye.Tr_=ke(Xt,"Tr",!0),Ye.Tr=new Ye.Tr_,Ye.Hgroup_=ke(Zt,"Hgroup"),Ye.Hgroup=new Ye.Hgroup_,Ye.H1_=ke(Zt,"H1"),Ye.H1=new Ye.H1_,Ye.H2_=ke(Zt,"H2"),Ye.H2=new Ye.H2_,Ye.H3_=ke(Zt,"H3"),Ye.H3=new Ye.H3_,Ye.H4_=ke(Zt,"H4"),Ye.H4=new Ye.H4_,Ye.H5_=ke(Zt,"H5"),Ye.H5=new Ye.H5_,Ye.H6_=ke(Zt,"H6"),Ye.H6=new Ye.H6_;var dr=[1,0,0,0],gr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Hr",r));return i._defaultProp.width=.9999,i._defaultProp.borderWidth=dr.slice(0),i._htmlText=!1,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=.9999,e.borderWidth=dr.slice(0),e["tagName."]="hr",e}}]),t}(Zt);Ye.Hr_=gr,Ye.Hr=new gr;var vr=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Pre",r))}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="pre",e["isPre."]=!0,e}}]),t}(Zt);Ye.Pre_=vr,Ye.Pre=new vr;var yr={style:{display:"none"}},_r=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Span",r));return i._statedProp=[],i._silentProp=["className","hookTo.","keyid.","childInline.","tagName."],i._defaultProp={width:void 0,height:void 0},i._htmlText=!0,i}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,t){return{key:[-1,"string"],width:[],height:[]}}},{key:"getDefaultProps",value:function(){return{"childInline.":!0,"tagName.":"span"}}},{key:"getInitialState",value:function(){var e=this.getShadowTemplate();if(Object.defineProperty(this,"_",{enumerable:!1,configurable:!1,writable:!1,value:e}),this.isHooked=!1,this["hide."]=!1,qe.__debug__&&0==Ge.widgetNum())return Ge.instantShow("error: inline widget can not be used as topmost panel."),{};this.duals={};var t={inSync:!1,removeNum:0,className:this.props.className||"",compState:0,duals:{},initDuals:[],initDuals0:[],connectTo:{},connectBy:{},id__:0,id2__:0},r=t.eventset={},n=t.tagAttrs=[],i=t.dualAttrs={},o=t.dataset=[],a=t.exprAttrs=[],s="",l="",u="";t.forExpr=!1,t.hasIdSetter=!1;for(var p={},c=this.$eventset||[{},{}],d=c[0],g=c[1],v=null,y=Object.keys(this.props),_=0;I=y[_];_++)if(0==I.indexOf("data-"))"data-unit.path"!=I&&"data-span.path"!=I||(s=I,l=this.props[I]),o.push(I);else if(0==I.indexOf("dual-")){var m=I.slice(5).replace(Ct,function(e,t){return t.toUpperCase()});m&&(i[m]=I)}else if(0==I.indexOf("aria-"))o.push(I);else if("$"==I[0]&&I.length>1){var w=this.props[I],k=void 0===w?"undefined":ze(w);if("string"==k){if("$id__"!=I){var O=!1;"$for"==(I=I.slice(1))&&(I="for",O=!0),_t.indexOf(I)>=0?"for"==I?t.forExpr?console.log("warning: reduplicate property ($for)"):(t.forExpr=O?2:1,a.push(I)):u?console.log("error: property ($"+I+") conflict with previous ($"+u+")"):(u=I,"else"!=I&&a.push(I)):"children"==I?vt.call(this.props,"for.index")&&(t.isChildExpr=!0,t.children2=this.props.children):"key"!=I&&a.push(I);continue}k=void 0===(w=Ke[w])?"undefined":ze(w)}if("function"==k){if("$"==I[1]){console.log("warning: invalid using props."+I);continue}var x=I.slice(1);"id__"==x?v=w:this[I]=p[x]=be(w)?w.bind(this):w}}else{var P=Tt[I];P&&5!=P&&n.push(I)}t.flowFlag=u,t.dataset2=o.slice(0);var $=this.props["keyid."];if($){var S=void 0===$?"undefined":ze($);"string"!=S&&"number"!=S&&($=void 0)}var j=this.props["hookTo."];"string"==typeof j&&(j=qe.W(j)),Array.isArray(j)&&j.W&&(void 0!==$?j.$set($,j.W(this)):$=j.push(j.W(this))-1,t.keyid=$);var D=this.props["data-rewgt-owner"];if(D){var N,E=t.eventset2={};if(j&&(N=j.component))for(var I,y=Object.keys(N.$gui.eventset),_=0;I=y[_];_++)r[I]=_e(this,I,D),E[I]=!0}var A=Object.assign({},d,p);for(var C in A)r[C]=_e(this,C,D);for(var C in g)r[C]=this["$$"+C];Object.defineProperty(this,"$gui",{enumerable:!1,configurable:!1,writable:!1,value:t}),qe.__design__&&(t.className=h(t.className,"rewgt-inline"));Object.assign({},this.props.style);var R={id__:0,childNumId:0,duals:[],"tagName.":this.props["tagName."],exprAttrs:a.slice(0),klass:"",style:{},"html.":null};if(qe.__design__){var H=e._getGroupOpt(this);R["data-group.opt"]=H.type+"/"+H.editable}t.compIdx={},t.comps=gt(this.props.children),Object.defineProperty(this.duals,"keyid",{enumerable:!0,configurable:!0,get:function(){return this.$gui.keyid}.bind(this),set:function(e,t){throw new Error("property (keyid) is readonly")}}),this.defineDual("klass",function(e,t){this.state.klass=e||""}),this.defineDual("style",function(e,t){if(this.state["tagName."])this.state.style=Object.assign({},t,e);else{var r=Ge.eachComponent(this)[0];r&&(r.duals.style=e)}}),this.defineDual("html.",function(e,t){this.state["html."]=e||null}),this.defineDual("id__",function(e,r){this.state.id__=e,t.id__=t.id2__=e}),v&&this.defineDual("id__",v),this.defineDual("trigger",ve);var W=this.widget;return j&&W&&s&&(W.$callspace={flowFlag:"ref",forSpace:null},W.$callspace[s]=l,T(W.$callspace.exprSpace={},this)),this.defineDual("childNumId",function(e,r){var n=this,i=this.widget;if(i){0==r&&i.parent===nt&&console.log("warning: can not hook inline widget to topmost directly.");var o=t.compIdx,a=t.comps,s=!1;a.forEach(function(e,r){if("string"==typeof e){if(0==r&&1==a.length&&vt.call(n.duals,"html."))return setTimeout(function(){n.duals["html."]=e},0),void(s=!0);e=a[r]=ht(mr,{"html.":e})}else if(!e)return;var l,u=b(e),p=!1;if(u){var c=parseInt(u);l=c+""===u?c:u,"number"==typeof o[u]&&(p=!0)}else u=(l=r+t.removeNum)+"";if(f(e.props.className,"rewgt-static")){if(p)return void(o[l]=r);var h=Object.assign({},e.props);return h.key=u,!qe.__design__||n.props.$for||n.props.$$for||(h.onMouseDown=K,h.onDoubleClick=J.bind(n)),o[l]=r,void(a[r]=ht("span",h))}var d=e.props["childInline."];return void 0===d?(o[l]=r,void(p||(a[r]=ft(e,{key:u})))):d?(!p&&e.props["isReference."]&&("$"!=u[0]&&(u=l="$"+u),it&&st.push([n,l])),p&&i!==e.props["hookTo."]&&(p=!1),o[l]=r,void(p||(a[r]=ft(e,{"hookTo.":i,key:u,"keyid.":l})))):(a[r]=void 0,void console.log("warning: widget ("+i.getPath()+"."+u+") can not be panel"))}),s&&a.splice(0)}}),R}},{key:"willResizing",value:function(e,t,r){return!1}},{key:"prepareState",value:function(){console.log("warning: inline widget not support prepareState()")}},{key:"render",value:function(){if(z(this),this["hide."])return ht("span",yr);var e=this.state["tagName."];if(!e)return ye(this);var t=k(this),r=this.$gui.comps,n=r.length,i=this.$gui.insertEle;return i&&(r=me(i,r),n=!0),ht(e,t,n?r:this.state["html."])}}]),t}(Ht);Ye.Span_=_r,Ye.Span=new _r;var mr=Ye.Span._createClass(null),br=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"VirtualSpan",r))}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="",e}}]),t}(_r);Ye.VirtualSpan_=br,Ye.VirtualSpan=new br;var wr=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"HiddenSpan",r))}return i(t,e),Le(t,[{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return qe.__design__||(this.duals.style={display:"none"}),e}}]),t}(_r);Ye.HiddenSpan_=wr,Ye.HiddenSpan=new wr;var kr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Br",r));return i._htmlText=!1,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="br",e}}]),t}(_r);Ye.Br_=kr,Ye.Br=new kr;var Or=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"A",r))}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="a",e}},{key:"$$onClick",value:function(e){qe.__design__&&e.preventDefault(),this.$onClick&&this.$onClick(e)}}]),t}(_r);Ye.A_=Or,Ye.A=new Or,Ye.Q_=ke(_r,"Q"),Ye.Q=new Ye.Q_,Ye.Abbr_=ke(_r,"Abbr"),Ye.Abbr=new Ye.Abbr_;var xr=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Audio",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.src=[r+1,"string",null],n.autoPlay=[r+2,"string",["","1"]],n.controls=[r+3,"string",["","1"]],n.loop=[r+4,"string",["","1"]],n.muted=[r+5,"string",["","1"]],n.preload=[r+6,"string",["auto","meta","none"]],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="audio",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return Oe(this),e}}]),t}(_r);Ye.Audio_=xr,Ye.Audio=new xr,Ye.Source_=ke(_r,"Source"),Ye.Source=new Ye.Source_,Ye.Track_=ke(_r,"Track"),Ye.Track=new Ye.Track_,Ye.Bdi_=ke(_r,"Bdi"),Ye.Bdi=new Ye.Bdi_,Ye.Bdo_=ke(_r,"Bdo"),Ye.Bdo=new Ye.Bdo_,Ye.Data_=ke(_r,"Data"),Ye.Data=new Ye.Data_,Ye.Mark_=ke(_r,"Mark"),Ye.Mark=new Ye.Mark_,Ye.Wbr_=ke(_r,"Wbr"),Ye.Wbr=new Ye.Wbr_,Ye.Button_=ke(_r,"Button"),Ye.Button=new Ye.Button_;var Pr=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Textarea",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.disabled=[r+1,"string",["","1"]],n.readonly=[r+2,"string",["","1"]],n.placeholder=[r+3,"string"],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="textarea",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this),r=void 0!==this.props.value?this.props.value||"":this.props.defaultValue||"";return this.defineDual("value",null,r),e}},{key:"$$onChange",value:function(e){this.duals.value=e.target.value,this.$onChange&&this.$onChange(e)}}]),t}(_r);Ye.Textarea_=Pr,Ye.Textarea=new Pr;var $r=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Progress",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.value=[r+1,"string"],n.max=[r+2,"string"],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="progress",e}}]),t}(_r);Ye.Progress_=$r,Ye.Progress=new $r;var Sr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Img",r));return i._htmlText=!1,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="img",e}},{key:"$$onDragStart",value:function(e){qe.__design__?e.preventDefault():this.$onDragStart&&this.$onDragStart(e)}}]),t}(_r);Ye.Img_=Sr,Ye.Img=new Sr;var jr=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Video",r))}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="video",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return Oe(this),e}}]),t}(_r);Ye.Video_=jr,Ye.Video=new jr,Ye.Canvas_=ke(_r,"Canvas"),Ye.Canvas=new Ye.Canvas_,Ye.Picture_=ke(_r,"Picture"),Ye.Picture=new Ye.Picture_,Ye.Map_=ke(_r,"Map"),Ye.Map=new Ye.Map_,Ye.Area_=ke(_r,"Area"),Ye.Area=new Ye.Area_,Ye.Time_=ke(_r,"Time"),Ye.Time=new Ye.Time_,Ye.Output_=ke(_r,"Output"),Ye.Output=new Ye.Output_;var Dr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Input",r));return i._htmlText=!1,i}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return Object.assign(n,{type:[r+1,"string",["text","button","checkbox","file","hidden","image","password","radio","reset","submit","color","date","datetime","datetime-local","email","month","number","range","search","tel","time","url","week"]],checked:[r+2,"string",["","1"]],disabled:[r+3,"string",["","1"]],readonly:[r+4,"string",["","1"]],value:[r+5,"string"],placeholder:[r+6,"string"],min:[r+7,"string"],max:[r+8,"string"],step:[r+9,"string"],pattern:[r+10,"string"],src:[r+11,"string"],defaultValue:[r+12,"string"],defaultChecked:[r+13,"string"],required:[r+14,"string",["","required"]]}),n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="input",e.type="text",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this),r=this.props.type;if("checkbox"===r||"radio"===r){var n=s(void 0!==this.props.checked?this.props.checked:this.props.defaultChecked);this.defineDual("checked",null,n)}else if("select"==r&&this.props.multiple){i=this.props.value||this.props.defaultValue;Array.isArray(i)||(i=[]),this.defineDual("value",null,i)}else{var i=void 0!==this.props.value?this.props.value||"":this.props.defaultValue||"";this.defineDual("value",null,i)}return e}},{key:"$$onChange",value:function(e){var t=this.props.type,r=e.target;if("checkbox"===t||"radio"===t)this.duals.checked=r.checked;else if("select"==t&&this.props.multiple){for(var n=[],i=r.options,o=i&&i.length||0,a=0;a<o;a++)i[a].selected&&n.push(i[a].value);this.duals.value=n}else this.duals.value=r.value;this.$onChange&&this.$onChange(e)}}]),t}(_r);Ye.Input_=Dr,Ye.Input=new Dr,Ye.Keygen_=ke(_r,"Keygen"),Ye.Keygen=new Ye.Keygen_;var Nr=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Label",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.htmlFor=[r+1,"string",null,"[string]: indicate which input widget"],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="label",e}}]),t}(_r);Ye.Label_=Nr,Ye.Label=new Nr,Ye.Legend_=ke(_r,"Legend"),Ye.Legend=new Ye.Legend_,Ye.Sub_=ke(_r,"Sub"),Ye.Sub=new Ye.Sub_,Ye.Sup_=ke(_r,"Sup"),Ye.Sup=new Ye.Sup_;var Er=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Select",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.multiple=[r+1,"string",["","1"]],n.disabled=[r+2,"string",["","1"]],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="select",e}},{key:"getInitialState",value:function(){var e,r=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.props.multiple?(e=this.props.value||this.props.defaultValue,Array.isArray(e)||(e=[])):e=void 0!==this.props.value?this.props.value||"":this.props.defaultValue||"",this.defineDual("value",null,e),r}},{key:"componentDidMount",value:function(){if(Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),!this.props.multiple&&!this.state.value){var e,r=this.getHtmlNode();r&&(e=r.value)&&(this.duals.value=e)}}},{key:"$$onChange",value:function(e){var t=e.target;if(this.props.multiple){for(var r=[],n=t.options,i=n.length,o=0;o<i;o++)n[o].selected&&r.push(n[o].value);this.duals.value=r}else this.duals.value=t.value;this.$onChange&&this.$onChange(e)}}]),t}(_r);Ye.Select_=Er,Ye.Select=new Er,Ye.Datalist_=ke(Er,"Datalist"),Ye.Datalist=new Ye.Datalist_;var Ir=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Optgroup",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.label=[r+1,"string"],n.disabled=[r+2,"string",["","1"]],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="optgroup",e}}]),t}(_r);Ye.Optgroup_=Ir,Ye.Optgroup=new Ir;var Ar=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Option",r))}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="option",e}},{key:"$$onClick",value:function(e){qe.__design__&&e.preventDefault(),this.$onClick&&this.$onClick(e)}}]),t}(_r);Ye.Option_=Ar,Ye.Option=new Ar,Ye.B_=ke(_r,"B"),Ye.B=new Ye.B_,Ye.I_=ke(_r,"I"),Ye.I=new Ye.I_,Ye.S_=ke(_r,"S"),Ye.S=new Ye.S_,Ye.U_=ke(_r,"U"),Ye.U=new Ye.U_,Ye.Ins_=ke(_r,"Ins"),Ye.Ins=new Ye.Ins_,Ye.Del_=ke(_r,"Del"),Ye.Del=new Ye.Del_,Ye.Code_=ke(_r,"Code"),Ye.Code=new Ye.Code_,Ye.Var_=ke(_r,"Var"),Ye.Var=new Ye.Var_,Ye.Summary_=ke(_r,"Summary"),Ye.Summary=new Ye.Summary_,Ye.Em_=ke(_r,"Em"),Ye.Em=new Ye.Em_,Ye.Strong_=ke(_r,"Strong"),Ye.Strong=new Ye.Strong_,Ye.Big_=ke(_r,"Big"),Ye.Big=new Ye.Big_,Ye.Small_=ke(_r,"Small"),Ye.Small=new Ye.Small_,Ye.Dfn_=ke(_r,"Dfn"),Ye.Dfn=new Ye.Dfn_,Ye.Samp_=ke(_r,"Samp"),Ye.Samp=new Ye.Samp_,Ye.Kdb_=ke(_r,"Kdb"),Ye.Kdb=new Ye.Kdb_,Ye.Cite_=ke(_r,"Cite"),Ye.Cite=new Ye.Cite_,Ye.Dialog_=ke(_r,"Dialog"),Ye.Dialog=new Ye.Dialog_;var Tr=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Meter",r))}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.value=[r+1,"string"],n.high=[r+2,"string"],n.low=[r+3,"string"],n.max=[r+4,"string"],n.min=[r+5,"string"],n.optimum=[r+6,"string"],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="meter",e}}]),t}(_r);Ye.Meter_=Tr,Ye.Meter=new Tr,Ye.Embed_=ke(_r,"Embed"),Ye.Embed=new Ye.Embed_,Ye.Object_=ke(_r,"Object"),Ye.Object=new Ye.Object_,Ye.Param_=ke(_r,"Param"),Ye.Param=new Ye.Param_,Ye.Ruby_=ke(_r,"Ruby"),Ye.Ruby=new Ye.Ruby_,Ye.Rp_=ke(_r,"Rp"),Ye.Rp=new Ye.Rp_,Ye.Rt_=ke(_r,"Rt"),Ye.Rt=new Ye.Rt_;var Cr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"NavPanel",r));return i._silentProp.push("isNavigator."),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isNavigator."]=1,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);e.checkedId="",Object.defineProperty(this.duals,"checkedId",{enumerable:!0,configurable:!0,get:function(){return this.state.checkedId}.bind(this),set:function(e,t){throw new Error("property (checkedId) is readonly")}});var r=this.$gui;return r.navItems={},r.navOrder=[],r.navSubkey=void 0,this.widget&&this.widget===nt&&Ge.instantShow("error: NavPanel/NavDiv can not be used at topmost."),r.updateNavItems=function(){function e(e){return i.findIndex(function(t){return t[0]===e})}var t=r.comps,n=t.length;r.navSubkey=void 0,qe.__design__&&(r.navItems={});for(var i=[],o=0;o<n;o++){var a=t[o];if(a){var s,l=b(a);if(!l)continue;if(a.props["isNavigator."]&&(r.navSubkey=l),parseInt(l)+""===l)continue;a.props["isPlayground."]?(r.navItems[l]=a,i.push([l,!0])):i.push([l,!1])}}for(var u=i.length,o=r.navOrder.length-1;o>=0;o--){var p=r.navOrder[o];p[1]?e(p[0])<0&&i.splice(u,0,p):(s=e(p[0]))<0?r.navOrder.splice(o,1):u=s}r.navOrder=i},this.defineDual("childNumId",function(e,t){r.updateNavItems()}),e}},{key:"listOptComp",value:function(e){function t(n){var i=n.component;if(i)if(i.props["isOption."])if(e){if(e===i.$gui.keyid)return r.push(i),!0}else r.push(i);else{if(i.props["isNavigator."])return!1;for(var o=i.$gui.comps,a=o.length,s=0;s<a;s++){var l=o[s];if(l){var u=b(l),p=u&&n[u];if(p&&t(p))return!0}}}return!1}var r=[],n=this.widget;if(!n)return r;for(var i=this.$gui.comps,o=i.length,a=0;a<o;a++){var s=i[a];if(s&&!s.props["isPlayground."]){var l=b(s),u=l&&n[l];if(u&&t(u))return r}}return r}},{key:"fireChecked",value:function(e,t){if(this.isHooked&&e&&e!==this.state.checkedId){e+="";var r=this.listOptComp(e)[0];if(r&&r.setChecked)return void r.setChecked(t);if(!r)return void xe(this,e,t)}t&&t()}},{key:"prepareState",value:function(){var e=this.$gui,r=e.cssWidth,n=e.cssHeight,i=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareState",this).call(this);if(!e.isPanel&&this.isHooked&&("number"==typeof e.cssWidth&&r!==e.cssWidth||"number"==typeof e.cssHeight&&n!==e.cssHeight||Ge.dragInfo.justResized)){var o=this;setTimeout(function(){Q(o,Ge.dragInfo.inDragging)},0)}return i}},{key:"render",value:function(){if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var t=this.prepareState();if(qe.__design__){var r=this.widget;r&&setTimeout(function(){t.forEach(function(e){var t=e&&b(e),n=t&&r[t];(n=n&&n.component)&&n.reRender()})},0)}else{for(var n=this.state.checkedId+"",i=t.length-1,o=!1;i>=0;)(s=t[i]).props["isPlayground."]&&(n&&n==b(s)?o=!0:t.splice(i,1)),i-=1;if(!o&&n){var a=this.$gui,s=a.navItems[n];if(s){var l=a.navOrder.findIndex(function(e){return e[0]===n});if(l<0)t.push(s);else{for(var u,p,c=a.navOrder.slice(l+1),f=0,h=!1;(u=c.findIndex(function(e,t){return t>=f&&!e[1]}))>=0;){if((p=function(e,t){for(var r,n=0;r=e[n];n++)if(t==b(r))return n;return-1}(t,c[u][0]))>=0){h=!0;break}f=u}h?t.splice(p,0,s):t.push(s)}}}}var d=k(this),g=this.$gui.insertEle;return g&&(t=me(g,t)),ht(e,d,t)}}]),t}(Mt);Ye.NavPanel_=Cr,Ye.NavPanel=new Cr;var Rr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"NavDiv",r));return i._defaultProp.height=null,i._defaultProp.minHeight=20,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.className="rewgt-unit",e["isNavigator."]=2,e.height=null,e.minHeight=20,e}}]),t}(Cr);Ye.NavDiv_=Rr,Ye.NavDiv=new Rr;var Hr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"GroundPanel",r));return i._silentProp.push("isPlayground."),i._defaultProp.height=null,i._defaultProp.minHeight=20,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isPlayground."]=1,e.width=.9999,e.height=null,e.minHeight=20,e}},{key:"render",value:function(){return qe.__design__?Pe(this,1):Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]),t}(Mt);Ye.GroundPanel_=Hr,Ye.GroundPanel=new Hr;var Wr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"GroundDiv",r));return i._silentProp.push("isPlayground."),i._defaultProp.height=null,i._defaultProp.minHeight=20,i._htmlText=!0,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=.9999,e.height=null,e.minHeight=20,e["isPlayground."]=2,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return e["html."]=null,this.defineDual("html.",function(e,t){this.state["html."]=e||null}),e}},{key:"render",value:function(){if(qe.__design__)return Pe(this,2);if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var t=this.prepareState(),r=t.length,n=k(this),i=this.$gui.insertEle;return i&&(t=me(i,t),r=!0),ht(e,n,r?t:this.state["html."])}}]),t}(Ft);Ye.GroundDiv_=Wr,Ye.GroundDiv=new Wr;var Mr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptSpan",r));return i._statedProp.push("data-checked"),i._silentProp.push("isOption."),i._defaultProp["data-checked"]="",i}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){return r=r||1200,Ee(Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),r)}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["data-checked"]="",e["isOption."]=!0,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return Ne(this,e),e}},{key:"findNavOwner",value:function(){return $e(this)}},{key:"fireTrigger",value:function(){O(void 0,this)}},{key:"clearChecked",value:function(){this.state["data-checked"]&&(this.duals["data-checked"]="")}},{key:"setChecked",value:function(e,t,r){De(this,e,t,r)}},{key:"$$onClick",value:function(e){this.state.disabled||(this.setChecked(null),this.$onClick&&this.$onClick(e))}}]),t}(_r);Ye.OptSpan_=Mr,Ye.OptSpan=new Mr;var Fr=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptA",r))}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="a",e}},{key:"$$onClick",value:function(e){qe.__design__&&e.preventDefault(),Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"$$onClick",this).call(this,e)}}]),t}(Mr);Ye.OptA_=Fr,Ye.OptA=new Fr;var Lr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptImg",r));return i._htmlText=!1,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="img",e}}]),t}(Mr);Ye.OptImg_=Lr,Ye.OptImg=new Lr;var zr=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptButton",r))}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="button",e}}]),t}(Mr);Ye.OptButton_=zr,Ye.OptButton=new zr;var Br=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptOption",r));return i._silentProp.push("selected"),i}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.value=[r+1,"string"],n.label=[r+2,"string"],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="option",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this),r=(this.$gui,this.parentOf(!0));return r&&("optgroup"==r.props["tagName."]&&(r=r.parentOf(!0)),r&&"select"==r.props["tagName."]?r.props.multiple?(console.log('error: can not use OptOption in multiple "select"'),r=null):r.listen("value",function(e,t){this.isHooked&&this.$gui.syncSelect()}.bind(this)):r=null),this.$gui.syncSelect=function(){if(r&&!this.state.disabled){var e=this.state.value;e&&(this.duals["data-checked"]=s(e===r.state.value))}}.bind(this),this.defineDual("data-checked",function(e,t){var n=s(e);vt.call(this.props,"selected")&&(this.state.selected=n);var i=this;setTimeout(function(){var e=i.getHtmlNode();if(e&&(e.selected=!!n,n&&r)){var t=i.state.value;t&&(r.duals.value=t)}},0)}),e}},{key:"componentDidMount",value:function(){Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.$gui.syncSelect()}},{key:"$$onClick",value:function(e){qe.__design__&&e.preventDefault(),this.$onClick&&this.$onClick(e)}}]),t}(Mr);Ye.OptOption_=Br,Ye.OptOption=new Br;var Vr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptDiv",r));return i._statedProp.push("data-checked"),i._silentProp.push("isOption."),i._defaultProp["data-checked"]="",i}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){return r=r||1200,Ee(Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),r)}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["data-checked"]="",e["isOption."]=!0,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return Ne(this,e),e}},{key:"findNavOwner",value:function(){return $e(this)}},{key:"fireTrigger",value:function(){O(void 0,this)}},{key:"clearChecked",value:function(){this.state["data-checked"]&&(this.duals["data-checked"]="")}},{key:"setChecked",value:function(e,t,r){De(this,e,t,r)}},{key:"$$onClick",value:function(e){this.state.disabled||(this.setChecked(null),this.$onClick&&this.$onClick(e))}}]),t}(Ut);Ye.OptDiv_=Vr,Ye.OptDiv=new Vr;var Ur=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptLi",r));return i._statedProp.push("data-checked"),i._silentProp.push("isOption."),i._defaultProp["data-checked"]="",i}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){return r=r||1200,Ee(Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),r)}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="li",e["data-checked"]="",e["isOption."]=!0,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return Ne(this,e),e}},{key:"findNavOwner",value:function(){return $e(this)}},{key:"fireTrigger",value:function(){O(void 0,this)}},{key:"clearChecked",value:function(){this.state["data-checked"]&&(this.duals["data-checked"]="")}},{key:"setChecked",value:function(e,t,r){De(this,e,t,r)}},{key:"$$onClick",value:function(e){this.state.disabled||(this.setChecked(null),this.$onClick&&this.$onClick(e))}}]),t}(Zt);Ye.OptLi_=Ur,Ye.OptLi=new Ur;var qr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptInput",r));return i._htmlText=!1,i}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.type=[r+1,"string",["checkbox","radio","button","image"]],n.value=[r+2,"string"],n.src=[r+3,"string"],n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="input",e.type="checkbox",e.checked="",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this),r=this.props.type;if("checkbox"===r||"radio"===r)void 0===this.props.checked&&this.$gui.tagAttrs.push("checked");else{var n=void 0!==this.props.value?this.props.value||"":this.props.defaultValue||"";this.defineDual("value",null,n)}return this.defineDual("data-checked",function(e,t){this.state.checked=s(e)}),e}},{key:"clearChecked",value:function(e){e||(e=this.getHtmlNode()),e&&(e.checked&&(e.checked=!1),this.state["data-checked"]&&(this.duals["data-checked"]=""))}},{key:"$$onChange",value:function(e){qe.__design__&&e.stopPropagation();var t=this.state.type,r=e.target;"checkbox"===t||"radio"===t?r.checked?this.setChecked(null):this.clearChecked(r):this.duals.value=r.value,this.$onChange&&this.$onChange(e)}},{key:"$$onClick",value:function(e){if(!this.state.disabled){var t=this.state.type;"checkbox"!==t&&"radio"!==t&&this.setChecked(null),this.$onClick&&this.$onClick(e)}}}]),t}(Mr);Ye.OptInput_=qr,Ye.OptInput=new qr;var Yr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TempPanel",r));return i._silentProp.push("isTemplate.","data-temp.type"),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isTemplate."]=1,qe.__design__?e["data-temp.type"]=1:(e.width=0,e.height=0),e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);Te(this.$gui),this.isLibGui=!1;var r=this.props.style;if(l(this)&&(this.duals.style=r=Object.assign({},r,{position:"absolute"}),0==(this.$gui.keyid+"").indexOf("$$")&&(this.isLibGui=!0)),qe.__design__&&!this.isLibGui)this.duals.style=Object.assign({},r,{display:"none"}),Ae(this);else{var n=this.props.template;n instanceof ae?this.$gui.template=n:Ae(this),this.$gui.compIndex={},this.$gui.comps=[]}return e}},{key:"elementOf",value:function(e){return Ce(this,e)}},{key:"render",value:function(){if(qe.__design__&&!this.isLibGui)return Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var r=k(this,Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}));return ht(e,r)}}]),t}(Mt);Ye.TempPanel_=Yr,Ye.TempPanel=new Yr;var Gr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TempDiv",r));return i._silentProp.push("isTemplate.","data-temp.type"),i._htmlText=!0,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isTemplate."]=2,qe.__design__?e["data-temp.type"]=2:(e.width=0,e.height=0),e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);Te(this.$gui),this.isLibGui=!1;var r=this.props.style;if(l(this)&&(this.duals.style=r=Object.assign({},r,{position:"absolute"}),0==(this.$gui.keyid+"").indexOf("$$")&&(this.isLibGui=!0)),qe.__design__&&!this.isLibGui)this.duals.style=Object.assign({},r,{display:"none"}),Ae(this);else{var n=this.props.template;n instanceof ae?this.$gui.template=n:Ae(this),this.$gui.compIndex={},this.$gui.comps=[]}return e}},{key:"elementOf",value:function(e){return Ce(this,e)}},{key:"render",value:function(){if(qe.__design__&&!this.isLibGui)return Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var r=k(this,Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}));return ht(e,r)}}]),t}(Ft);Ye.TempDiv_=Gr,Ye.TempDiv=new Gr;var Xr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TempSpan",r));return i._silentProp.push("isTemplate.","data-temp.type"),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isTemplate."]=3,qe.__design__&&(e["data-temp.type"]=3),e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);if(Te(this.$gui),this.isLibGui=!1,qe.__design__)this.duals.style=Object.assign({},this.props.style,{display:"none"}),Ae(this);else{var r=this.props.template;r instanceof ae?this.$gui.template=r:Ae(this),this.$gui.compIndex={},this.$gui.comps=[]}return e}},{key:"elementOf",value:function(e){return Ce(this,e)}},{key:"render",value:function(){if(qe.__design__)return Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);if(z(this),this["hide."])return ht("span",yr);var e=this.state["tagName."];if(!e)return ye(this);var r=k(this,Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}));return ht(e,r)}}]),t}(_r);Ye.TempSpan_=Xr,Ye.TempSpan=new Xr;var Kr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"RefDiv",r));return i._silentProp.push("isReference."),i._htmlText=!0,i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=0,e.height=0,e["isReference."]=1,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return l(this)&&Ge.instantShow("warning: can not add RefDiv to topmost widget."),e}},{key:"componentDidMount",value:function(){Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var e;if(!it&&(e=this.widget)){var r=(e=e.parent)&&e.component;r&&se(r,this.$gui.keyid+"",function(){})}}},{key:"render",value:function(){var e=c(this),t={style:{width:"0px",height:"0px"}};return e&&(t.className=e),ht("div",t)}}]),t}(Ft);Ye.RefDiv_=Kr,Ye.RefDiv=new Kr;var Jr=Ye.RefDiv._createClass(null),Zr=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"RefSpan",r));return i._silentProp.push("isReference."),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isReference."]=2,e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return l(this)&&Ge.instantShow("error: can not hook RefSpan to topmost widget."),e}},{key:"componentDidMount",value:function(){Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var e;if(!it&&(e=this.widget)){var r=(e=e.parent)&&e.component;r&&se(r,this.$gui.keyid+"",function(){})}}},{key:"render",value:function(){var e=c(this),t={style:{width:"0px",height:"0px"}};return e&&(t.className=e),ht("span",t)}}]),t}(_r);Ye.RefSpan_=Zr,Ye.RefSpan=new Zr;var Qr=Ye.RefSpan._createClass(null),en=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"ScenePage",r));return i._silentProp.push("isScenePage.","isTemplate."),i._defaultProp.noShow="",i}return i(t,e),Le(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);n.noShow=[r+1,"string",["","1"],"[string]: disable show content"];var i="[number]: 0~1 for percent, 0.9999 for 100%, N pixels",o=n.width,a=n.height;return o&&(o[1]="number",o[3]=i),a&&(a[1]="number",a[3]=i),n}},{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.noShow="",e["tagName."]="article",e["isScenePage."]=1,e.className="rewgt-panel rewgt-scene",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);l(this)||Ge.instantShow("error: ScenePage only hook to topmost widget.");var r=Object.assign({},this.props.style,{position:"absolute",display:"none"});r.zIndex||(r.zIndex="0"),this.duals.style=r;var n=this.props.width,i=this.props.height;if("number"==typeof n&&n>0||console.log("warning: invalid width of ScenePage ("+this.$gui.keyid+")"),"number"==typeof i&&i>0||console.log("warning: invalid height of ScenePage ("+this.$gui.keyid+")"),qe.__design__)this.$gui.currSelected="";else if(this.props["isTemplate."]){Te(this.$gui),this.isLibGui=!1;var o=this.props.template;o instanceof ae?this.$gui.template=o:Ae(this),this.$gui.compIndex={},this.$gui.comps=[]}return e}},{key:"elementOf",value:function(e){return this.props["isTemplate."]?Ce(this,e):Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"elementOf",this).call(this,e)}},{key:"setSelected",value:function(e){function t(e,t){var n=r&&r[e];if(n=n&&n.component){var i=parseInt(n.state.style.zIndex)||0;t?i>=-997&&i<=999&&n.setState({style:Object.assign({},n.state.style,{zIndex:i+2e3})}):i>=1e3&&i<=2999&&n.setState({style:Object.assign({},n.state.style,{zIndex:i-2e3})})}}if(qe.__design__){var r=this.widget,n=this.$gui;if(n.currSelected){if(e==n.currSelected)return;t(n.currSelected,!1),n.currSelected=""}e&&(t(e,!0),n.currSelected=e)}}},{key:"render",value:function(){if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);if(this.props["isTemplate."]){o=k(this,r=Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}));return ht("div",o)}var t=this.prepareState(),r=void 0;this.props.noShow&&!qe.__design__&&((r=Object.assign({},this.state.style)).display="none");var n=this.$gui.insertEle;n&&(t=me(n,t));var i=ht("div",{className:"rewgt-center"},t),o=k(this,r);return ht(e,o,i)}}]),t}(Mt);Ye.ScenePage_=en,Ye.ScenePage=new en;Ye.ScenePage._createClass(null);var tn=function(e){function t(e,r){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"MaskPanel",r))}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.klass="noselect-txt",e}},{key:"getInitialState",value:function(){function e(e,t,r){return e<1&&(e>=.9999?e=t:e>0?e*=t:e=r),e}function r(e,t,r){return"number"!=typeof e?e=(t-r)/2:e<1&&(e*=t),e<0&&(e=0),e}var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.defineDual("popOption"),this.defineDual("id__",function(t,n){if(1===n){var i,o=null,a=null,s=this.$gui,l=this.props.popOption;l&&((i=l.frame)?(a=this.props.popFrame)&&!a.props&&(a=null):i={},this.props.children&&(o=gt(this.props.children)[0]),s.compIdx={},s.comps=[]);var u=this.widget;if(o&&u&&rt){var p=rt.frameInfo,c=window.innerWidth,f=window.innerHeight;this.state.left=0,this.state.top=0,this.state.width=c-p.leftWd-p.rightWd,this.state.height=f-p.topHi-p.bottomHi,this.state.style=Object.assign({},this.state.style,{position:"absolute",zIndex:"auto",backgroundColor:l.maskColor||"rgba(238,238,238,0.84)"});var h=this.state.width,d=this.state.height;if(a){var g=e(i.width||.9,h,4),v=e(i.height||.9,d,4),y=r(i.left,h,g),_=r(i.top,d,v),m={"hookTo.":u,"keyid.":"",key:"",style:Object.assign({},a.props.style,{position:"absolute",zIndex:"auto"}),left:y,top:_,width:g,height:v};s.compIdx[0]=0,s.comps.push(ft(a,m))}var w=e(l.width||.8,h,6),k=e(l.height||.8,d,6),O=r(l.left,h,w),x=r(l.top,d,k);!a&&O>0&&x>0&&O+w<h&&x+k<d&&(a=ht("div",{key:"0",style:{position:"absolute",zIndex:"auto",left:O-1+"px",top:x-1+"px",width:w+"px",height:k+"px",border:"1px solid #e0e0e0",boxShadow:"-2px 8px 4px rgba(0,0,0,0.1)"}}),s.compIdx[0]=0,s.comps.push(a));var P="",$=b(o);if($){var S=parseInt($);P=S+""===$?S:$}var j=Object.assign({},o.props.style,{backgroundColor:"#fff",position:"absolute",zIndex:"auto"});l.bodyStyle&&Object.assign(j,l.bodyStyle);var D=ft(o,{"hookTo.":u,"keyid.":P,key:$,style:j,left:O,top:x,width:w,height:k,$onClick:Re});s.compIdx[$]=s.comps.length,s.winComp=s.comps.push(D)-1,l.state&&(l.state.opened=!0),this.setEvent({$onClick:function(e){e.stopPropagation(),qe.__design__||l.manualClose||setTimeout(function(){Ge.popWin.popWindow()},100)},$onDoubleClick:Re,$onMouseDown:Re,$onMouseMove:Re,$onMouseUp:Re,$onKeyPress:Re,$onKeyDown:Re,$onKeyUp:Re,$onDragOver:Re,$onDrop:Re})}}}),n}},{key:"componentDidMount",value:function(){if(Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),qe.__design__){var e=this.getHtmlNode();e&&(e.onclick=Re,e.ondblclick=Re,e.onmousedown=Re,e.onmousemove=Re,e.onmouseup=Re,e.onkeypress=Re,e.onkeydown=Re,e.onkeyup=Re,e.ondragover=Re,e.ondrop=Re)}}},{key:"componentWillUnmount",value:function(){var e=this.state.popOption;e&&e.state&&e.state.opened&&(e.state.opened=!1),Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}}]),t}(Mt),rn=Ue((new tn)._extend()),nn=null,on=null;Je.scanWtcFlag=He,Je.scanPreCode=We;var an=/^auto[0-9]+$/,sn=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"MarkedDiv",r));return i._defaultProp.width=null,i._defaultProp.minWidth=20,i._defaultProp.noShow="",i._silentProp.push("marked.","hasStatic.","noSaveChild."),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.noShow="",e.width=null,e.minWidth=20,e["marked."]=!0,e["hasStatic."]=!0,e["noSaveChild."]=!0,e["isPre."]=!0,e}},{key:"_getSchema",value:function(e,r){r=r||1200;var n=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return n.noShow=[r+1,"string",["","1"],"[string]: disable show content"],n}},{key:"_getGroupOpt",value:function(e){var t={type:"mono",editable:"none",baseUrl:Je.appBase(),tools:[]},r=e.widget;if(!r||!e.isHooked)return t;var n=r.getPath();return t.tools=[{name:"editor",icon:"res/edit_txt.png",title:"edit markdown",url:"edit_markdown.html",halfScreen:!0,noMove:!1,clickable:!0,width:.9,height:.9,get:function(t){return[e.state["html."]||"",n,He()]},set:function(t,r,i){var o=r[0],a=r[1];e===t&&a==n&&"string"==typeof o&&Me(t,o,function(r,n){r&&(e.props.noShow&&(e.$gui.compIdx={},e.$gui.comps=[]),t.setState({"html.":o,id__:p()},function(){de(t,!0);var e=null;0==t.state.nodes.length?n&&n.length&&(e=n):e=n||[],e&&setTimeout(function(){t.duals.nodes=e},10),qe.__design__&&i&&rt&&rt.notifyBackup&&rt.notifyBackup(a,1e3)}))})}}],t}},{key:"getInitialState",value:function(){function e(){var e=n.$gui.keyid+"";setTimeout(function(){var t=n.parentOf(!0);t&&t.cellKeys&&t.cellStyles&&(t.cellKeys[e]=[n.state.rowSpan,n.state.colSpan],t.cellStyles[e]=n.state.tdStyle,t.reRender())},0)}var r=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this),n=this,i=this.$gui,o=this.parentOf(!0);return o&&o.props["markedTable."]&&(this.defineDual("colSpan",function(t,r){var n=parseInt(t);this.state.colSpan=isNaN(n)?void 0:n,e()}),this.defineDual("rowSpan",function(t,r){var n=parseInt(t);this.state.rowSpan=isNaN(n)?void 0:n,e()}),this.props.tdStyle&&this.defineDual("tdStyle",function(t,r){this.state.tdStyle=Object.assign({},r,t),e()},this.props.tdStyle)),i.delayTid=0,this.defineDual("html.",function(e,t){function r(){i.delayTid&&(clearTimeout(i.delayTid),i.delayTid=0),++o>24||(n.isHooked?Me(n,e,function(e,t){e&&(n.props.noShow&&(n.$gui.compIdx={},n.$gui.comps=[]),n.reRender(function(){de(n,!0);var e=null;0==n.state.nodes.length?t&&t.length&&(e=t):e=t||[],e&&setTimeout(function(){n.duals.nodes=e},10)}))}):i.delayTid=setTimeout(function(){r()},100))}if(this.widget&&"string"==typeof e){var o=0;r()}}),r.nodes=[],this.defineDual("nodes"),r}},{key:"willResizing",value:function(e,t,r){if(!r&&this.isHooked){var n=this;setTimeout(function(){Q(n,!1)},0)}return!0}},{key:"render",value:function(){if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var t=this.prepareState(),r=k(this),n=this.$gui.insertEle;return n&&(t=me(n,t)),ht(e,r,t)}}]),t}(Ut);Ye.MarkedDiv_=sn,Ye.MarkedDiv=new sn;var ln=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"MarkedTable",r));return i._silentProp.push("markedTable."),i}return i(t,e),Le(t,[{key:"getDefaultProps",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["markedTable."]=!0,e["tagName."]="table",e}},{key:"getInitialState",value:function(){var e=Fe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.firstScan=!0,this.cellKeys={},this.cellStyles={},e}},{key:"render",value:function(){if(z(this),this["hide."])return null;var e=this.state["tagName."];if(!e)return ye(this);var t=this.prepareState(),r=k(this);if(this.props.noShow)return ht("div",r);0==t.length&&t.push(ht(Qt,{"html.":" "}));var n=["tbody",null],i=null,o=this,a=this.firstScan;this.firstScan=!1,t.forEach(function(e){if(e.props["markedRow."])i&&n.push(ht.apply(null,i)),i=["tr",null];else{i||(i=["tr",null]);var t=e.props["keyid."],r=void 0,s=void 0,l=null;if(void 0!==t&&(t+=""),t&&e.props["marked."])if(a){var u,p;(u=e.props.rowSpan)&&!isNaN(p=parseInt(u))&&(r=p+""),(u=e.props.colSpan)&&!isNaN(p=parseInt(u))&&(s=p+""),o.cellKeys[t]=[r,s],l=o.cellStyles[t]=e.props.tdStyle}else{var c=o.cellKeys[t];Array.isArray(c)&&(r=c[0],s=c[1]),l=o.cellStyles[t]}var f=null;t&&(f={key:t,rowSpan:r,colSpan:s},l&&(f.style=l)),i.push(ht("td",f,e))}}),i&&n.push(ht.apply(null,i));var s=ht.apply(null,n);return ht(e,r,s)}}]),t}(sn);Ye.MarkedTable_=ln,Ye.MarkedTable=new ln,t.exports=Ye},{"./react_widget":9,"create-react-class":2,react:void 0,"react-dom":void 0}],11:[function(e,t,r){function n(e){if(u===setTimeout)return setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function o(){d&&f&&(d=!1,f.length?h=f.concat(h):g=-1,h.length&&a())}function a(){if(!d){var e=n(o);d=!0;for(var t=h.length;t;){for(f=h,h=[];++g<t;)f&&f[g].run();g=-1,t=h.length}f=null,d=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,p,c=t.exports={};!function(){try{u=setTimeout}catch(e){u=function(){throw new Error("setTimeout is not defined")}}try{p=clearTimeout}catch(e){p=function(){throw new Error("clearTimeout is not defined")}}}();var f,h=[],d=!1,g=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new s(e,t)),1!==h.length||d||n(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=l,c.addListener=l,c.once=l,c.off=l,c.removeListener=l,c.removeAllListeners=l,c.emit=l,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}]},{},[8]);