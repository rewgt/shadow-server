// shadow-widget cdn ver 1.0.3
!function e(t,r,i){function n(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var p=r[a]={exports:{}};t[a][0].call(p.exports,function(e){var r=t[a][1][e];return n(r||e)},p,p.exports,e,t,r,i)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,r){"use strict";var i=window.React,n=window.ReactDOM,o=void 0;if(i&&n){if("string"==typeof i.version){var a=i.version.split(".");0==parseInt(a[0])&&parseInt(a[1])<14&&console.log("warning: react@>=0.14 is required, current is "+i.version)}o=e("./react_widget"),e("./template")}else console.log("fatal error! React or ReactDom not found, cdn version of React library should be loaded first.");var s={react:i,"react-dom":n,"shadow-widget":o},l=arguments[3],u=arguments[4],p=arguments[5];if("function"==typeof l&&u)Object.keys(s).forEach(function(e){p[e]={exports:s[e]}}),u[9998]=[o.$utils.loadingEntry,u[1][1]],setTimeout(function(){o.$main.isStart||(o.$main.isStart=!0,l(u,p,[9998]))},300);else if("undefined"!=typeof __webpack_require__&&__webpack_require__.c){var c={exports:{},id:9998,loaded:!0};__webpack_require__.c[9998]=c,setTimeout(function(){o.$main.isStart||(o.$main.isStart=!0,o.$utils.loadingEntry(function(e){if("number"==typeof e)return __webpack_require__(e);var t=s[e];return t||console.log("can not find module: "+e),t},c,c.exports))},300)}else console.log("fatal error: unknown package tool!")},{"./react_widget":2,"./template":3}],2:[function(e,t,r){(function(r){"use strict";function i(e,t){var r=e[t];if(r)return r;for(var n in e)if("parent"!=n&&e.hasOwnProperty(n)){var o=e[n];if(Array.isArray(o)&&o.W&&(o=i(o,t)))return o}}function n(e){var t=void 0===e?"undefined":s(e);if("number"==t)return this.W?this[e]:d[e];if(!e)return""===e?d:o(n=new Array);if("object"==t){var r=e.constructor===Object,n=new Array;return n.$id=f++,n.component=e,r||(e.widget=n),o(n)}if("string"!=t)return d;var a=void 0,l=e.split("."),u=0;if(l[0]){var p=l.shift();u+=1,a=Array.isArray(this)&&this.W?this:d,a="-"==p[0]?0==(c=p.slice(1)).search(/^[0-9]+$/)?a[Math.max(0,a.length-parseInt(c))]:a===d?i(a,p):a[p]:0==p.search(/^[0-9]+$/)?a[parseInt(p)]:a===d?i(a,p):a[p]}for(;l.length;)if(u+=1,p=l.shift())if("-"==p[0]){var c=p.slice(1);if(0==c.search(/^[0-9]+$/)){if(!a)return a;a=a[Math.max(0,a.length-parseInt(c))]}else{if(!a)return a;a=a[p]}}else if(0==p.search(/^[0-9]+$/)){if(!a)return a;a=a[parseInt(p)]}else{if(!a)return a;a=a[p]}else{if(a||1!=u)return a;a=this.W?this:d}return a}function o(e){function t(e,t){return function(){return t.apply(e,arguments)}}function r(e,t){if(e.$id===t)return e;for(var i in e)if("parent"!=i&&e.hasOwnProperty(i)){var n=e[i];if(Array.isArray(n)&&n.W&&(n=r(n,t)))return n}}for(var i in h)e[i]=h[i];return d&&d.__debug__&&(e.queryById=function(e){return r(this,parseInt(e))},e.addShortcut=function(){var e=[],r=this.component;if(!r)return e;for(var i,n=0;i=arguments[n];n++){var o=r[i];"function"==typeof o?(this[i]=t(r,o),e.push(i)):o&&(this[i]=o)}return e}),e}function a(e){this.component=e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=window.React||e("react"),u=window.ReactDOM||e("react-dom"),p=l.createClass;if(p||console.log("fatal error: invalid React.createClass"),Object.assign||(Object.assign=function(){var e=arguments.length;if(e<1)return{};var t=arguments[0];"object"!=(void 0===t?"undefined":s(t))&&(t={});for(var r=1;r<e;r+=1){var i=arguments[r];if("object"==(void 0===i?"undefined":s(i)))for(var n,o=Object.keys(i),a=0;n=o[a];a+=1)t[n]=i[n]}return t}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],n=0;n<r;){var o=t[n];if(e.call(i,o,n,t))return n;n++}return-1}),!Array.prototype.find){var c=Array.prototype.findIndex;Array.prototype.find=function(){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),t=c.apply(e,arguments);return t>=0?e[t]:void 0}}var f=0,h={W:n,$set:function(e,t){if(e||0===e)if(Array.isArray(t)&&t.W){r=this[e];this[e]=t,t.parent=this,Array.isArray(r)&&r.W&&delete r.parent}else if(!t){var r=this[e];delete this[e],Array.isArray(r)&&r.W&&delete r.parent}},$unhook:function(e,t){if(Array.isArray(e)&&e.W){var r=void 0===t?"undefined":s(t);if("string"==r||"number"==r)this[t]===e&&delete this[t];else for(var i,n=Object.keys(this),o=0;i=n[o];o+=1)if(e===this[i]){delete this[i];break}delete e.parent,delete e.$callspace}},getPath:function(e){var t=this.parent;if(t&&t.W&&t!==this){if(this.component){var r=this.component.$gui.keyid;if(r||0===r)return t.getPath("."+r+(e||""))}var i="";for(var n in t)if("parent"!=n&&t.hasOwnProperty(n)&&t[n]===this){i="."+n;break}return e&&(i+=e),t.getPath(i)}return e||""}},d=window.W;Array.isArray(d)?o(d):((d=new n).$modules=[],window.W=d),d.__debug__=0,d.$templates={},d.$css=[],d.$main={$$onLoad:[],$onReady:[],$onLoad:[],isReady:!1,inRunning:!1,inDesign:!1,isStart:!1},d.$idSetter={},d.$creator={},d.$svg={},d.$staticNodes=[],d.$creator.createEx=function(e){var t=new a(e);return"function"==typeof t.init&&t.init(),t};var g=d.$utils={instantShow:function(e){console.log("[MSG]",e)},widgetNum:function(e){return d.__design__&&"number"==typeof e&&(f=e),f},cssNamedColor:function(e){},gotoHash:function(e,t){t&&t("")}};Object.defineProperty(g,"DIV",{enumerable:!0,configurable:!1,writable:!1,value:1}),Object.defineProperty(g,"SPAN",{enumerable:!0,configurable:!1,writable:!1,value:3}),d.$cachedClass={},d.$ex=new a,d.$ex.regist=function(e,t){e&&t&&(a.prototype[e]=t)};var v=function(){function e(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var r=Object(e),i=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o){var a=Object(o);for(var s in a)i.call(a,s)&&(r[s]=a[s])}}return r}function t(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null}function i(e,t,i,n,o,a,s,l){if("production"!==r.env.NODE_ENV&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[i,n,o,a,s,l],c=0;(u=new Error(t.replace(/%s/g,function(){return p[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}function n(t){return Array.isArray(t)?t.concat():t&&"object"===(void 0===t?"undefined":s(t))?e(new t.constructor,t):t}function o(e,t,n){Array.isArray(e)||("production"!==r.env.NODE_ENV?i(!1,"update(): expected target of %s to be an array; got %s.",n,e):i(!1));var o=t[n];Array.isArray(o)||("production"!==r.env.NODE_ENV?i(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,o):i(!1))}var a={}.hasOwnProperty,l=t({$push:null}),u=t({$unshift:null}),p=t({$splice:null}),c=t({$set:null}),f=t({$merge:null}),h=t({$apply:null}),d=[l,u,p,c,f,h],g={};return d.forEach(function(e){g[e]=!0}),function t(v,y){if("object"!==(void 0===y?"undefined":s(y))&&("production"!==r.env.NODE_ENV?i(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",d.join(", "),c):i(!1)),a.call(y,c))return 1!==Object.keys(y).length&&("production"!==r.env.NODE_ENV?i(!1,"Cannot have more than one key in an object with %s",c):i(!1)),y[c];var _=n(v);if(a.call(y,f)){var m=y[f];m&&"object"===(void 0===m?"undefined":s(m))||("production"!==r.env.NODE_ENV?i(!1,"update(): %s expects a spec of type 'object'; got %s",f,m):i(!1)),_&&"object"===(void 0===_?"undefined":s(_))||("production"!==r.env.NODE_ENV?i(!1,"update(): %s expects a target of type 'object'; got %s",f,_):i(!1)),e(_,y[f])}a.call(y,l)&&(o(v,y,l),y[l].forEach(function(e){_.push(e)})),a.call(y,u)&&(o(v,y,u),y[u].forEach(function(e){_.unshift(e)})),a.call(y,p)&&(Array.isArray(v)||("production"!==r.env.NODE_ENV?i(!1,"Expected %s target to be an array; got %s",p,v):i(!1)),Array.isArray(y[p])||("production"!==r.env.NODE_ENV?i(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,y[p]):i(!1)),y[p].forEach(function(e){Array.isArray(e)||("production"!==r.env.NODE_ENV?i(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,y[p]):i(!1)),_.splice.apply(_,e)})),a.call(y,h)&&("function"!=typeof y[h]&&("production"!==r.env.NODE_ENV?i(!1,"update(): expected spec of %s to be a function; got %s.",h,y[h]):i(!1)),_=y[h](_));for(var b in y)g.hasOwnProperty(b)&&g[b]||(_[b]=t(v[b],y[b]));return _}}();d.$ex.regist("update",v),function(){function e(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":s(e))||null===e||"object"!==(void 0===t?"undefined":s(t))||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var o=r.bind(t),a=0;a<i.length;a++)if(!o(i[a])||e[i[a]]!==t[i[a]])return!1;return!0}function t(t,r,i){var n=t.props||{},o=t.state||{};if(Object.keys(n).length!==Object.keys(r).length||Object.keys(o).length!==Object.keys(i).length)return!0;for(var a in r)if(!e(n[a],r[a]))return!0;for(var a in i)if(!e(o[a],i[a]))return!0;return!1}var r=Object.prototype.hasOwnProperty;this.shallowEqual=e,this.shallowCompare=t,this.shouldUpdate=t}.call(g),function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||u.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||u.defaults,this.links=e,this.rules=c.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=c.breaks:this.rules=c.gfm:this.options.pedantic&&(this.rules=c.pedantic)}function r(e){this.options=e||{}}function i(e){this.tokens=[],this.token=null,this.options=e||u.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function n(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function a(e,t){return e=e.source,t=t||"",function r(i,n){return i?(n=n.source||n,n=n.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,n),r):new RegExp(e,t)}}function s(){}function l(e){for(var t,r,i=1;i<arguments.length;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}function u(t,r,o){if(o||"function"==typeof r){o||(o=r,r=null);var a,s,p=(r=l({},u.defaults,r||{})).highlight,c=0;try{a=e.lex(t,r)}catch(e){return o(e)}s=a.length;var f=function(e){if(e)return r.highlight=p,o(e);var t;try{t=i.parse(a,r)}catch(t){e=t}return r.highlight=p,e?o(e):o(null,t)};if(!p||p.length<3)return f();if(delete r.highlight,!s)return f();for(;c<a.length;c++)!function(e){"code"!==e.type?--s||f():p(e.text,e.lang,function(t,r){return t?f(t):null==r||r===e.text?--s||f():(e.text=r,e.escaped=!0,void(--s||f()))})}(a[c])}else try{return r&&(r=l({},u.defaults,r)),i.parse(e.lex(t,r),r)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(r||u.defaults).silent)return"<p>An error occured:</p><pre>"+n(e.message+"",!0)+"</pre>";throw e}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *(>|&gt;|::)[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=a(p.item,"gm")(/bull/g,p.bullet)(),p.list=a(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=a(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=a(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=a(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=l({},p),p.gfm=l({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=a(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=l({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,r){return new e(r).lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,r){for(var i,n,o,a,s,l,u,c,f,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *(>|&gt;|::) ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),i=!1,f=(o=o[0].match(this.rules.item)).length,c=0;c<f;c++)u=(l=o[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==f-1&&(a===(s=p.bullet.exec(o[c+1])[0])||a.length>1&&s.length>1||(e=o.slice(c+1).join("\n")+e,c=f-1)),n=i||/\n\n(?!\s*$)/.test(l),c!==f-1&&(i="\n"===l.charAt(l.length-1),n||(n=i)),this.tokens.push({type:n?"loose_item_start":"list_item_start"}),this.token(l,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!r&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var c={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};c._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,c._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,c.link=a(c.link)("inside",c._inside)("href",c._href)(),c.reflink=a(c.reflink)("inside",c._inside)(),c.normal=l({},c),c.pedantic=l({},c.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),c.gfm=l({},c.normal,{escape:a(c.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(c.text)("]|","~]|")("|","|https?://|")()}),c.breaks=l({},c.gfm,{br:a(c.br)("{2,}","*")(),text:a(c.gfm.text)("{2,}","*")()}),t.rules=c,t.output=function(e,r,i){return new t(r,i).output(e)},t.prototype.output=function(e){for(var t,r,i,o,a="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),a+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(r=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),i=this.mangle("mailto:")+r):i=r=n(o[1]),a+=this.renderer.link(i,null,r);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):n(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,a+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){a+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),a+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),a+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),a+=this.renderer.codespan(n(o[2],!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),a+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),a+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),a+=this.renderer.text(n(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(o[0].length),i=r=n(o[1]),a+=this.renderer.link(i,null,r);return a},t.prototype.outputLink=function(e,t){var r=n(t.href),i=t.title?n(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(r,i,this.output(e[1])):this.renderer.image(r,i,n(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,r="",i=e.length,n=0;n<i;n++)t=e.charCodeAt(n),Math.random()>.5&&(t="x"+t.toString(16)),r+="&#"+t+";";return r},r.prototype.code=function(e,t,r){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(r=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+n(t,!0)+'">'+(r?e:n(e,!0))+"\n</code></pre>\n":"<pre><code>"+(r?e:n(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,r){return"<h"+t+' id="'+this.options.headerPrefix+r.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t){var r=t?"ol":"ul";return"<"+r+">\n"+e+"</"+r+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var r=t.header?"th":"td";return(t.align?"<"+r+' style="text-align:'+t.align+'">':"<"+r+">")+e+"</"+r+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,r){if(this.options.sanitize){try{var i=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var n='<a href="'+e+'"';return t&&(n+=' title="'+t+'"'),n+=">"+r+"</a>"},r.prototype.image=function(e,t,r){var i='<img src="'+e+'" alt="'+r+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},i.parse=function(e,t,r){return new i(t,r).parse(e)},i.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var r="";this.next();)r+=this.tok();return r},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,r,i,n="",o="";for(r="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),r+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(n+=this.renderer.tablerow(r),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],r="",i=0;i<t.length;i++)r+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(r)}return this.renderer.table(n,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,u.options=u.setOptions=function(e){return l(u.defaults,e),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},u.Parser=i,u.parser=i.parse,u.Renderer=r,u.Lexer=e,u.lexer=e.lex,u.InlineLexer=t,u.inlineLexer=t.output,u.parse=u,this.marked=u}.call(g);var y=/^(?:plain|text)$/i,_=/^(?:xml|html|xhtml|rss|atom|xjb|xsd|xsl|plist|markdown|md|mkdown|mkd)$/i,m=/&lt;/g,b=/&gt;/g,w=/&amp;/g;!function(e){e&&e.highlight&&g.marked.setOptions({highlight:function(t,r){var i=!1;return r?0==r.search(y)?r="plain":0==r.search(_)&&(i=!0):r="plain","plain"!=r&&i||(t=t.replace(m,"<").replace(b,">").replace(w,"&")),"plain"==r?t:e.highlight(r,t,!0).value}})}(window.hljs),function(){function e(){return++window.TRIGGER__.count}function t(t){var r=t.url,i=t.data,n=t.callback;if(!r||"string"!=typeof r)throw new Error("invalid URL");if(i&&"object"!=(void 0===i?"undefined":s(i)))throw new Error("invalid input argument (data)");if("function"!=typeof n)throw new Error("input argument (callback) should be a function");var o=e();r.indexOf("?")>0?r+="&":r+="?",r+="callback=TRIGGER__%5B"+o+"%5D",i&&Object.keys(i).forEach(function(e){var t=i[e];r+="&"+e+"="+encodeURIComponent(t+"")});var a=document.head||document.getElementsByTagName("head")[0]||document.documentElement,l=document.createElement("script");l.async="async",t.scriptCharset&&(l.charset=t.scriptCharset),l.src=r,l.onload=l.onreadystatechange=function(){l.readyState&&!/loaded|complete/.test(l.readyState)||(l.onload=l.onreadystatechange=null,a&&l.parentNode&&a.removeChild(l),l=void 0,setTimeout(function(){window.TRIGGER__[o]&&(delete window.TRIGGER__[o],t.notifyError&&n(null))},0))},a.insertBefore(l,a.firstChild),window.TRIGGER__[o]=function(e){window.TRIGGER__[o]&&(delete window.TRIGGER__[o],n(e))}}function r(e){var t=e.url,r=(e.type||"GET").toUpperCase(),a=e.data;if(!t||"string"!=typeof t)throw new Error("invalid URL");if(a&&"object"!=(void 0===a?"undefined":s(a)))throw new Error("invalid input argument (data)");if(!(r in i))throw new Error("invalid request type ("+r+")");var l=e.timeout||6e4,u=t.indexOf("?")>0,p=e.dataType;void 0===p&&".json"==t.slice(-5)&&(p="json");var c=null;a&&("PUT"!=r&&"POST"!=r?Object.keys(a).forEach(function(e){var r=a[e];u?t+="&":(u=!0,t+="?"),t+=e+"="+encodeURIComponent(r+"")}):c=JSON.stringify(a));var f=null,h=!1;if(window.XMLHttpRequest?f=new XMLHttpRequest:window.ActiveXObject&&(f=new ActiveXObject("Microsoft.XMLHTTP")),!f)throw new Error("invalid XMLHttpRequest");f.onreadystatechange=function(){if(4==f.readyState){var t=f.responseText||"",r=f.statusText||"",i=f.status||(t?200:404);if(h);else if(i>=200&&i<300&&t){var a=!1;if("json"===p||"pre-json"===p&&(a=!0)){var s,l=!0;try{a&&(t=(t=t.replace(n,function(e){return'"'+e.slice(3,-3).replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/"/gm,'\\"')+'"'})).replace(o,"")),s=JSON.parse(t.replace(/[\cA-\cZ]/gi,"")),l=!1}catch(t){e.error&&(r="JSON format error",e.error(f,r))}!l&&e.success&&e.success(s,r,f)}else e.success&&e.success(t,r,f)}else e.error&&e.error(f,r);f=null,h=!0}};var d,g;if(e.username?f.open(r,t,!0,e.username,e.password):f.open(r,t,!0),g=e.headers)for(d in g)f.setRequestHeader(d,g[d]);c&&f.setRequestHeader("Content-Type","application/json"),f.send(c),"number"==typeof l&&setTimeout(function(){h||(h=!0,f.abort(),e.error&&e.error(f,"request timeout"),f=null)},l)}window.TRIGGER__||(window.TRIGGER__={count:0});var i={GET:1,POST:1,PUT:1,DELETE:1,HEAD:1};this.jsonp=t;var n=/"{3}[^\\]*(?:\\[\S\s][^\\]*)*"{3}/gm,o=/^\s*\/\/.*$/gm;this.ajax=r}.call(g),g.loadingEntry=function(e,t,r){function i(e,t,r){var i=[];e.forEach(function(e){e[0]==t&&i.push(e[1])});var n=i.length,o=0;n?i.forEach(function(e){var t=document.createElement("link");"onload"in t?(r&&(t.onload=function(e){(o+=1)>=n&&r()}),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.head.appendChild(t)):(t=document.createElement("img"),r&&(t.onerror=function(e){(o+=1)>=n&&r()}),t.setAttribute("src",e),document.body.appendChild(t))}):r&&r()}var n=document.getElementById("react-container");if(n){n.hasAttribute("__debug__")&&(d.__debug__=parseInt(n.getAttribute("__debug__")||0)),n.hasAttribute("__design__")&&(d.__design__=parseInt(n.getAttribute("__design__")||0)),n.hasAttribute("__nobinding__")&&(d.__nobinding__=parseInt(n.getAttribute("__nobinding__")||0));var o=d.__nobinding__||0;window.W!==d&&(window.W&&(d.$modules=window.W.$modules),(d.__debug__||d.__design__)&&(window.W=d));var a=d.$modules;Array.isArray(a)&&(a.forEach(function(i){"function"==typeof i&&i.call(r,e,t,r)}),a.splice(0));for(var s,c=document.querySelectorAll('link[rel="stylesheet"]'),f=c.length-1;f>=0;f-=1){var h=(s=c[f]).getAttribute("shared");h&&"false"!=h&&"0"!=h&&d.$css.unshift(["pseudo",s.href])}i(d.$css,"basic",function(){function e(e,t,r,i){try{return JSON.parse(e)}catch(e){console.log("invalid JSON format: "+(r?r+"["+i+"].":"")+t)}}function t(e){return e.replace(c,"ms-").replace(f,function(e,t){return t.toUpperCase()})}function r(e){var r=[],i="",n={},o=!1;return e.replace(h,function(e,t){return r.push([t,e]),""}).split(";").forEach(function(e){var a=i.length;if(i+=e+" ",e){for(;r.length;){var s=r[0][0];if(!(s>=a&&s<i.length))break;var l=r.shift();i=i.slice(0,s)+l[1]+i.slice(s)}var u=i.slice(a),p=u.indexOf(":");if(p>0){var c=u.slice(0,p).trim();c&&(n[t(c)]=u.slice(p+1).trim(),o=!0)}}}),o?n:null}function n(t,i,n){for(var o="",a=[],s="",l=t.attributes.length,u=!1,p=!1,c=0;c<l;c++){var f,h=t.attributes[c],d=h.name;if("$"==d){var g,v=h.value;if(!v)return null;"SPAN"==(f=t.nodeName)?u=!0:"PRE"==f&&(p=!0),"."==(g=v[0])||"/"==g?(a.push([d,v]),o=u?"RefSpan":"RefDiv"):o=v}else"sty__"==d||"style"==d?s=h.value:a.push([d,h.value])}if(o){var y={};if(s){var _="{"==s[0]&&"}"==s.slice(-1)?e(s.slice(1,-1),"style",i,0):r(s);_&&(y.style=_)}if(a.forEach(function(t){var r=t[1],o=t[0],a=o.split("-");if(a.length>1&&w.indexOf(a[0])<0)for(o=a.shift();a.length;){var s=a.shift();s&&(o+=s[0].toUpperCase()+s.slice(1))}"className"!=o&&(r&&"{"==r[0]&&"}"==r[r.length-1]&&"$"!=o[0]?y[o]=e(r.slice(1,-1),o,i,n):y[o]=r)}),p){var m=t.innerHTML;t.children.length&&(t.innerHTML=""),m&&(y["html."]=m),y["isPre."]=!0}else 0==t.children.length&&(m=t.textContent)&&(y["html."]=m);return[o,y,[]]}return null}function a(e,t,r){var i=r&&!d.__design__,n=null;i&&((n=y[t])||(i=!1));var o=i?b[e]:m[e];if(!i){if(o)return o;if(o=b[e])return o=m[e]=p(o._extend())}if(!o){var a=e.split("."),s=a.shift();for(o=v[s];o&&(s=a.shift());)o=o[s];if(!o||!o._extend)return console.log("error: can not find template ("+e+")"),null;b[e]=o}return i?p(o._extend(n)):o=m[e]=p(o._extend())}function s(e,t){var r=e[0],i=e[3],n=!o&&!t&&i&&i.search(g)<0,u=a(r,i,n);if(!u)return null;var p=e[1],c=e[2],f=c.length;if(n&&_&&!d.__design__){var h=_[i];h&&Object.assign(p,h)}for(var v=[u,p],y=!1,m=!n,b=0;b<f;b++){var w=c[b];if(Array.isArray(w)){var k=s(w,m);k&&v.push(k)}else{var O,x=[w];if(!w.classList.contains("rewgt-static"))for(;b+1<f&&!Array.isArray(O=c[b+1]);)b+=1,x.push(O);for(var $=x.length-1;$>=0;$--)if((O=x[$]).classList.contains("rewgt-static")){x.splice($,1);for(var P=O.childNodes.length-1;P>=0;P--)x.splice($,0,O.childNodes[P])}var S=d.$staticNodes.push(x)-1;v.push(l.createElement("div",{className:"rewgt-static",name:S+""})),y=!0}}return y&&(p["hasStatic."]=!0),l.createElement.apply(null,v)}i(d.$css,"lazy");var c=/^-ms-/,f=/-(.)/g,h=/(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*")/g,g=/\.[0-9]/,v=d.$templates,y=d.$main,_=(d.$utils,d.$dataSrc),m={},b={},w=["data","$data","dual","$dual","aria","$aria"];d.$creator.scanNodeAttr=n;var k=document.getElementById("react-container"),O=function(e){function t(e,r,o,a){for(var s,l=e[2],u=0;s=r.children[u];u++){var p=n(s,a,u);if(o){if(0==u&&(!p||"BodyPanel"!=p[0]))return console.log("error: root node of JSX should be BodyPanel"),!1;var c=p[1];if(c.hasOwnProperty("width")&&isNaN(c.width)&&(c.width=null),c.hasOwnProperty("height")&&isNaN(c.height)&&(c.height=null),u>0)return!0}if(p){l.push(p);var f=(p[1].key||u)+"";i.push(f),p[3]=i.join(".");var h=!1;if(t(p,s,!1,a?a+"["+u+"]."+p[0]:p[0])||(h=!0),i.pop(),h)return!1}else l.push(s)}return!0}if(!e)return null;var r=[null,null,[]],i=[""];return t(r,e,!0,"")?r[2][0]:null}(k);if(O){var x=s(O,!1);x&&(d.$cachedClass=m,u.render(x,k,function(){d.$dataSrc=null,k.style.visibility="visible",y.isReady=!0;var e=y.$$onLoad_;"function"==typeof e&&e()}))}})}},t.exports=d}).call(this,e("_process"))},{_process:4,react:void 0,"react-dom":void 0}],3:[function(e,t,r){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){function t(e){return"$"==(e=e.split(".").pop())[0]&&(e=e.slice(1)),e}function r(e){var t=e&&e._currentElement,r=t&&t._owner,i=r&&r._instance,n=i&&i.$gui;return n?n.keyid+"":""}if(!et)if(e.hasAttribute("data-reactid"))et=function(e){return t(e.getAttribute("data-reactid")||"")};else{for(var i in e)if(0==i.indexOf("__reactInternalInstance$")){Qe=i;break}if(!Qe)return console.log("warning: invalid react version!"),"";et=function(e){return r(e[Qe])}}return et(e)}function s(){return++st}function l(e){var t=e.$gui.className,r=e.state.klass;return t?r?t+" "+r:t:r||""}function u(e,t){if(!e)return!1;for(var r=" "+e+" ",i=Array.isArray(t)?t:String(t).split(/ +/),n=i.length,o=0;o<n;o++){var a=i[o];if(a&&r.indexOf(" "+a+" ")>=0)return!0}return!1}function p(e,t){for(var r=" "+(e||"")+" ",i=Array.isArray(t)?t:String(t).split(/ +/),n=i.length,o=0;o<n;o++){var a=i[o];a&&r.indexOf(" "+a+" ")<0&&(r+=a+" ")}return r.trim()}function c(e,t){if(!e)return"";for(var r=" "+e+" ",i=Array.isArray(t)?t:String(t).split(/ +/),n=i.length-1;n>=0;n--){var o=i[n];o&&(r=r.replace(" "+o+" "," "))}return r.trim()}function f(e,t,r,i){for(var n=" "+e,o=n.length,a=n+" "+t+" ",s=Array.isArray(r)?r:String(r).split(/ +/),l=s.length-1;l>=0;l--){var u;if((f=s[l])&&(u=a.indexOf(" "+f+" "))>=0){if(u<o)throw new Error("can not remove readonly class name: "+f);a=a.slice(0,u)+a.slice(u+f.length+1)}}if(Array.isArray(i))for(var p=i.length,c=0;c<p;c++){var f=i[c];f&&a.indexOf(" "+f+" ")<0&&(a+=f+" ")}return a.slice(o).trim()}function h(e,t){for(var r=Array.isArray(t)?t:String(t).split(/ +/),i=[],n=[],o=r.length-1;o>=0;o--){var a=r[o];if(a){var s=a[0];"-"==s?i.unshift(a.slice(1)):"+"==s?n.unshift(a.slice(1)):n.unshift(a)}}return We.removeClass(e,i,n)}function d(e){for(var t=Array.isArray(e)?e:String(e).split(/ +/),r=[],i=[],n=t.length-1;n>=0;n--){var o=t[n];if(o){var a=o.split("-"),s=a.length;if(s>1)for(var l=1;l<s;l++){var u=a.shift();a.push(u),r.push(a.join("-"))}else{var p;"S"==o[0]&&(p=lt.indexOf(o))>=0&&lt.forEach(function(e,t){t!=p&&r.push(e)})}i.push(o)}}return[r,i]}function g(e){var t=(e.key||"").replace(ut,"");return"."==t[0]?t.slice(1):t}function v(e){var t={};return Object.keys(e).forEach(function(r){ot[r]||(t[r]=e[r])}),e.width&&(t.width=e.width),e.height&&(t.height=e.height),t}function y(e){var t=e;return e&&e.component&&!e.props&&(t=e.component),t?t.$gui.isPanel?"panel":u(t.props.className,"rewgt-unit")?t.props["childInline."]?"paragraph":"unit":t.props["childInline."]?"span":t.widget===Ue?"root":"unknown":"unknown"}function _(e,t){for(var r,i=l(e),n=e.state,o=e.$gui,a=o.tagAttrs,s=o.dataset2,u=Object.assign({style:t||n.style},o.eventset),p=0;c=a[p];p++)u[c]=n[c];for(var c,p=0;c=s[p];p++)u[c]=n[c];return i&&(u.className=i),Re.__design__&&(r=n["data-group.opt"])&&(u["data-group.opt"]=r),u}function m(e,t){function r(e){function t(t,r){var i=void 0;r&&"object"==(void 0===r?"undefined":Ae(r))&&(i=r),setTimeout(function(){var r=t?ee(e,t):e;r?r!==e?r.props["isOption."]&&r.setChecked&&r.setChecked(null,i):console.log("warning: trigger can not fire widget itself."):console.log("warning: can not find target ("+t+")")},0)}var r=e.state.trigger;if(Array.isArray(r))for(var i=(r=r.slice(0)).shift();i;){var n,o=void 0===i?"undefined":Ae(i);if("string"==o)t(i,null);else{if("object"!=o)break;if(Array.isArray(i))!function(t,r,i){if("string"==typeof t&&r){var n=t?ee(e,t):e;n?n.duals.hasOwnProperty(i)&&setTimeout(function(){n.duals[i]=Me.update(n.duals[i],r)},0):console.log("warning: can not find target ("+t+")")}}(i[0]||"",i[1],i[2]||"data");else{if("string"!=typeof(n=i.$trigger))break;var a=Object.assign({},i);delete a.$trigger,t(n,a)}}i=r.shift()}}if(arguments.length>=3){var i=arguments[2],n=!1;if(i){var o=void 0===i?"undefined":Ae(i);if("string"==o)i=[i],n=!0;else if("object"==o)if(Array.isArray(i)){var a;"string"==typeof i[0]&&"object"==Ae(a=i[1])&&"string"!=typeof a.$trigger&&(i=[i]),n=!0}else"string"==typeof i.$trigger&&(n=!0,i=[i])}if(!n)return void console.log("warning: invalid trigger data (key="+t.$gui.keyid+")");t.duals.trigger=i}else{var s=t.$gui,l=s.syncTrigger;if(l&&l>1)if(l<st){var u=s.exprAttrs.trigger;if(u)try{s.syncTrigger=2,u(t)}catch(e){console.log(e)}}else s.syncTrigger=3}setTimeout(function(){t.isHooked&&e!==t.state.trigger&&r(t)},0)}function b(e){return e===st?s():st}function w(e){if(!e||"string"!=typeof e)return null;var t=Re.$cachedClass[e];if(t||null===t)return t;var r=e.split("."),i=r.shift();for(t=He[i];t&&(i=r.shift());)t=t[i];return t&&t._extend?Re.$cachedClass[e]=t=Ce(t._extend()):Re.$cachedClass[e]=t=null,t}function k(e){var t={};if("string"==(void 0===e?"undefined":Ae(e))){e||(e="*");var r=e.split("."),i=!1;"*"==r[r.length-1]&&(i=!0,r.pop());var n=r.join("."),o=He,a=r.shift(),s="";if(a)for(o=o[s=a];o&&(a=r.shift());)o=o[s=a];if(o)if(i)o._extend?s&&(t[s]=Ce(o._extend())):function(e,t,r){Object.keys(r).forEach(function(i){var n=r[i];if(n&&n._extend){var o=t?t+"."+i:i,a=Re.$cachedClass[o];null!==a&&(a||(a=Re.$cachedClass[o]=Ce(n._extend())),e[i]=a)}})}(t,n,o);else if(o._extend){var l=Re.$cachedClass[e];null!==l&&s&&(l||(l=Re.$cachedClass[e]=Ce(o._extend())),t[s]=l)}}else if(Array.isArray(e))for(var u=e.length,p=0;p<u;p+=1){var c=e[p];c&&"string"==typeof c&&Object.assign(t,k(c))}return t}function O(e,t){var r=t&&t.widget,i=r&&r.$callspace;if(i){if(i.forSpace){var n=e.evalInfo();n&&"for"==n[1]&&(i=i.forSpace)}return i.exprSpace}return null}function x(e){function t(){for(var e=[],t=0,r=this.state,n=this.index,o=this.input,a=0,s=i.length;a<s;a++){var l=i[a],u=l.start,p=u.length;if(!p||u.indexOf(r)>=0||r%2&&1===p&&!u[0]){var c=l.pattern;c.lastIndex=n;var f=c.exec(o);if(f&&f.index===n){var h=e.push({result:f,action:l.action,length:f[0].length});for(l.global&&(t=h);--h>t;){var d=h-1;if(e[h].length>e[d].length){var g=e[h];e[h]=e[d],e[d]=g}}}}}return e}"function"!=typeof e&&(e=x.defunct);var r=[],i=[],n=0;this.state=0,this.index=0,this.input="",this.addRule=function(e,t,r){var n=e.global;if(!n){var o="g";e.multiline&&(o+="m"),e.ignoreCase&&(o+="i"),e=new RegExp(e.source,o)}return Array.isArray(r)||(r=[0]),i.push({pattern:e,global:n,action:t,start:r}),this},this.setInput=function(e){return n=0,this.state=0,this.index=0,r.length=0,this.input=e,this},this.lex=function(){if(r.length)return r.shift();for(this.reject=!0;this.index<=this.input.length;){for(var i=t.call(this).splice(n),o=this.index;i.length&&this.reject;){var a=i.shift(),s=a.result,l=a.length;this.index+=l,this.reject=!1,n++;var u=a.action.apply(this,s);if(this.reject)this.index=s.index;else if(void 0!==u)return Array.isArray(u)&&(r=u.slice(1),u=u[0]),l&&(n=0),u}var p=this.input;if(o<p.length)if(this.reject){if(n=0,void 0!==(u=e.call(this,p.charAt(this.index++))))return Array.isArray(u)?(r=u.slice(1),u[0]):u}else this.index!==o&&(n=0),this.reject=!0;else{if(!i.length)break;this.reject=!0}}}}function $(e,t,r){return ft.push([t,e,ct.index-e.length,r]),t}function P(e,t){function r(e,t,r,i){if(34==e[0]){var n=e[1],a=n[1],s=n[2],l=s?s[0]:0;if(a[3]<i&&l>=31&&l<=43)return n[2]=[34,[s,t,r],s[2]],void o.push(e)}o.push([34,[e,t,r],e[2]])}function i(e,t,i){if(e>=3){var n,a,s,l,u=o[e-1],p=o[e-2],c=o[e-3],f=u[0],h=p[0],d=c[0];if(e>=5&&(n=o[e-4],s=n[0],a=o[e-5],l=a[0],!i&&l>=31&&l<=43&&5==s&&d>=31&&d<=43&&6==h&&f>=31&&f<=43))return o.splice(e-5,5,[35,[a,n,c,p,u],a[2]]),!0;if(d>=31&&d<=43&&14==h&&f>=31&&f<=43)return o.splice(e-3,3),r(c,p,u,p[3]),!0;if(!i&&d>=51&&d<=52&&7==h&&f>=31&&f<=43)return o.splice(e-3,3,[52,[c,p,u],c[2]]),!0;if(!i&&d>=31&&d<=43&&6==h&&f>=31&&f<=43)return e>=5&&l>=61&&l<=62&&7==s?o.splice(e-5,5,[62,[a,n,c,p,u],a[2]]):o.splice(e-3,3,[61,[c,p,u],c[2]]),!0}return e>=1&&!t&&(f=(u=o[e-1])[0])>=31&&f<=43&&(o.splice(e-1,1,[51,[u],u[2]]),!0)}for(var n,o=[];n=e.shift();)1!=n[0]&&function(e){var t=e[0];3==t&&"in"==e[1]&&(t=e[0]=14,e[3]=11);var n=o.length;if(20==t)for(n>=2&&7==o[n-1][0]&&(n-=1,o.pop());i(n);)n=o.length;else if(2==t){if(n){var a=o[n-1];if(14==a[0]&&"-"==a[1]){var s=!1;if(1==n)s=!0;else{var l=o[n-2][0];ht.indexOf(l)<0&&(s=!0)}s&&(o.pop(),n-=1,e[1]="-"+e[1])}}o.push([31,[e],e[2]])}else if(3==t||4==t)o.push([29+t,[e],e[2]]);else if(7==t){for(;i(n);)n=o.length;o.push(e)}else if(6==t||8==t){for(;i(n,!0);)n=o.length;o.push(e)}else if(5==t||10==t||12==t||14==t){for(;i(n,!0,!0);)n=o.length;o.push(e)}else if(11==t){for(n>=2&&7==o[n-1][0]&&(n-=1,o.pop());i(n);)n=o.length;if(n>=3){var u=o[n-1],p=o[n-2],c=o[n-3],f=u[0],h=p[0];if((d=c[0])>=31&&d<=43&&10==h&&51==f)return p[0]=14,p[3]=18,u=u[1][0],o.splice(n-3,3),void r(c,p,u,18)}if(n>=2){var u=o[n-1],p=o[n-2],f=u[0];if(10==(h=p[0])){if(f>=31&&f<=43)return void o.splice(n-2,2,[39,[p,[51,[u],u[2]],e],p[2]]);if(f>=51&&f<=52)return void o.splice(n-2,2,[39,[p,u,e],p[2]])}}if(n>=1&&10==(f=(u=o[n-1])[0]))return void(o[n-1]=[38,[u,e],u[2]]);o.push(e)}else if(13==t){for(;i(n);)n=o.length;if(n>=3){var u=o[n-1],p=o[n-2],c=o[n-3],f=u[0],h=p[0],d=c[0];if(d>=31&&d<=43&&12==h&&f>=51&&f<=52)return p[0]=14,p[3]=17,o.splice(n-3,3),void r(c,p,u,17)}if(n>=2){var u=o[n-1],p=o[n-2],f=u[0];if((h=p[0])>=31&&h<=43&&12==f)return u[0]=14,u[3]=17,o.splice(n-2,2),void r(p,u,null,17);if(12==h&&f>=51&&f<=52)return void o.splice(n-2,2,[37,[p,u,e],p[2]])}o.push(e)}else if(9==t){for(n>=2&&7==o[n-1][0]&&(n-=1,o.pop());i(n,!0);)n=o.length;if(n>=2){var u=o[n-1],p=o[n-2],f=u[0];if(8==(h=p[0])&&f>=61&&f<=62)return void o.splice(n-2,2,[41,[p,u,e],p[2]])}if(n>=1&&8==(f=(u=o[n-1])[0]))return void(o[n-1]=[40,[u,e],u[2]]);o.push(e)}}(n);if(0==o.length)throw new Error("expression is empty");if(n=o[0],1==o.length){var a=n[0];if(a>=51&&a<=52)return n;if(61==a&&t)return n}if(n[0]<20)throw new Error("invalid operand ("+n[1]+") at offset ("+n[2]+")");for(var s=0,l=n[2];s<o.length;){var u=o[s++],p=u[0];if(p<51||p>52){l=u[2];break}}throw new Error("syntax error at offset ("+l+")")}function S(e,t){function r(e,i){var n=i[0],o=i[1];if(61==n){l=32==(s=(a=o[0])[0])?a[1][0][1]:S(a,t);e.push([l,S(o[2],t)])}else{if(62!=n)throw new Error("syntax error at offset ("+i[2]+")");r(e,o[0]);var a=o[2],s=a[0],l=32==s?a[1][0][1]:S(a,t);e.push([l,S(o[4],t)])}}function i(e,r){var n=r[0],o=r[1];51==n?e.push(S(o[0],t)):52==n?(i(e,o[0]),e.push(S(o[2],t))):e.push(S(r,t))}function n(e){var r=e[0],i=e[1];return 51==r?S(i[0],t):52==r?n(i[0],t):S(e,t)}function o(e){if(52==e[0]){var r=e[1];o(r[0],t),S(r[2],t)}}var a=e[0],s=e[1];if(31==a)return parseFloat(s[0][1]);if(32==a){var l=s[0][1];if("null"==l)return null;if("undefined"==l)return;if("true"==l)return!0;if("false"==l)return!1;if("NaN"==l)return NaN;if(void 0!==(p=t[l])||t.hasOwnProperty(l))return p;throw new Error("symbol ("+l+") not defined")}if(33==a){var u=s[0][1];return u?u.slice(1,-1):""}if(34!=a){if(35==a)return S((_=S(s[0],t))?s[2]:s[4],t);if(37==a)return i(m=[],s[1]),m[m.length-1];if(38==a)return[];if(39==a)return i(m=[],s[1]),m;if(40==a)return{};if(41==a){var p={};return r(m=[],s[1]),m.forEach(function(e){p[e[0]]=e[1]}),p}if(51==a)return S(s[0],t);if(52==a)return i(m=[],e),m[m.length-1];throw new Error("syntax error at offset ("+e[2]+")")}var c=s[0],f=s[1],h=s[2],d=f[1];if("."==d){if(32!=h[0])throw new Error("syntax error at offset ("+e[2]+"): invalid attribute name");var g=S(c,t),v=h[1][0][1];try{return g[v]}catch(e){return void console.log("error: get attribute ("+v+") failed")}}else{if("["!=d){if("("==d){if(32==c[0]&&"while"==c[1][0][1]){var y=0;if(!h)return y;for(var _=n(h);_;)y+=1,o(h),_=n(h);return y}var m=[];if(h&&i(m,h),34==c[0]){var b=c[1];if("."==b[1][1]){var w=b[2];if(32!=w[0])throw new Error("syntax error at offset ("+w[2]+"): invalid attribute name");var k=S(b[0],t);return k[w[1][0][1]].apply(k,m)}}return S(c,t).apply(null,m)}if("&&"==d)return(O=S(c,t))?S(h,t):O;if("||"==d)return(O=S(c,t))||S(h,t);var O=S(c,t),x=S(h,t);if("*"==d)return O*x;if("/"==d)return O/x;if("%"==d)return O%x;if("+"==d)return O+x;if("-"==d)return O-x;if("<<"==d)return O<<x;if(">>"==d)return O>>x;if(">>>"==d)return O>>>x;if("<"==d)return O<x;if("<="==d)return O<=x;if(">"==d)return O>x;if(">="==d)return O>=x;if("in"==d)return O in x;if("=="==d)return O==x;if("!="==d)return O!=x;if("==="==d)return O===x;if("!=="==d)return O!==x;if("&"==d)return O&x;if("^"==d)return O^x;if("|"==d)return O|x;throw new Error("unknown operator: "+d)}var g=S(c,t),v=S(h,t);try{return g[v]}catch(e){return void console.log("error: get attribute (["+v+"]) failed")}}}function j(e,t,r){var i=null,n=!1;ft=[];try{for(ct.setInput(e);ct.lex(););n=!0}catch(e){We.instantShow("error: lexical analysis failed at "+(t?t.widget.getPath():"")+":"+r),console.log(e)}if(!n)return null;try{i=P(ft,!0)}catch(e){We.instantShow("error: yacc analysis failed at "+(t?t.widget.getPath():"")+":"+r),console.log(e)}return i}function D(e,t,r,i){var n=e.widget,o=i||0;if("number"==typeof t){for(var a=void 0;n;){var s=n.component,l=s&&s.props["for.index"];if(n.$callspace&&n.$callspace.hasOwnProperty("flowFlag")){if(n.$callspace.forSpace){if(t>=-1)return-1==t?a="number"==typeof l?l:void 0:0==o&&(a="number"==typeof l?l:void 0),r&&(r.unshift(t>=0&&0!=o),r.unshift(n.$callspace),r.unshift(a)),n.component;t+=2}else{if(t>=0){var u=n.$callspace.flowFlag;if(("for"==u||"for0"==u)&&0==o){a="number"==typeof l?l:void 0,n=n.parent,o+=1;continue}return r&&(r.unshift(!1),r.unshift(n.$callspace),r.unshift(a)),n.component}t+=1}a="number"==typeof l?l:void 0}else void 0===a&&"number"==typeof l&&(a=l);n=n.parent,o+=1}return null}for(;n;){if(n.$callspace&&n.$callspace.hasOwnProperty("flowFlag")&&(o>0||n.$callspace.forSpace))return ee(n.component,t);n=n.parent,o+=1}return null}function I(e,t,r){function i(r){return function(i){var o=i||0,a=void 0===o?"undefined":Ae(o);if("number"==a?o>0&&(o=0):"string"!=a&&(o=0),0===o)return t[r];var s=0;n!==e.index&&(s=1);var l=D(t,o,[],s);return l?l[r]:null}}e.ex=ze.createEx(t),e.Math=Math;var n=function(e,r){void 0===e?e=0:("number"!=typeof e||isNaN(e)||e>0)&&(console.log("warning: invalid expression: index("+e+")"),e=0);var i=[];return D(t,e,i,r)?i[0]:void 0};e.index=n,e.props=i("props"),e.state=i("state"),e.duals=i("duals"),e.typeof=function(e){return void 0===e?"undefined":Ae(e)},e.count=function(i){if(void 0===i?i=0:("number"!=typeof i||isNaN(i)||i>0)&&(console.log("warning: invalid expression: count("+i+")"),i=0),0===i&&r)throw new Error("invalid expression: count(0)");var o=0;n!==e.index&&(o=1);var a=[],s=D(t,i,a,o),l=a[1];return s&&l?((a[2]?l.forSpace:l)["data-for.path"]||[]).length:0},e.item=function(i){if(void 0===i?i=0:("number"!=typeof i||isNaN(i)||i>0)&&(console.log("warning: invalid expression: item("+i+")"),i=0),0===i&&r)throw new Error("invalid expression: item(0)");var o=0;n!==e.index&&(o=1);var a=[],s=D(t,i,a,o),l=a[1];if(s&&l){var u=o?e.index(i):a[0];if("number"==typeof u)return((a[2]?l.forSpace:l)["data-for.path"]||{})[u]}}}function T(e){var t=e.widget;if(!(t=t&&t.parent))return!1;var r=t.component;if(!r)return!1;var i=r.$gui.compIdx[e.$gui.keyid];if("number"!=typeof i)return!1;var n=!1,o=r.$gui.comps;for(i-=1;i>=0;){var a=o[i--],s=g(a);if(a=a&&s&&t[s],(a=a&&a.component)&&a.$gui.compState){var l=a.$gui.flowFlag;if("if"==l){a.state[l]&&(n=!0);break}if("elif"!=l)break;if(a.state[l]){n=!0;break}}}return n}function A(e,t,r){function i(e){if(32==e[0]){var t=e[1][0][1],r=gt.indexOf(t);if(r>=0)return r+1}return 0}var n,o=e[0],a=e[1];if(o>=51)51==o?A(a[0],t):52==o?(A(a[0],t),A(a[2],t)):61==o?(A(a[0],t),A(a[2],t)):62==o&&(A(a[0],t),A(a[2],t),A(a[4],t));else if(o>=31)if(32==o){if(!r&&(n=i(e))){var s=e[2],l=e.slice(0);return e[0]=34,e[1]=[l,[14,"(",s,17],null],t.push([n,0])}}else if(34==o){var u=a[0],p=a[1],c=a[2],f=p[1];if("."==f)if(!r&&(n=i(u)))if(32==c[0]){h=c[1][0][1];t.push([n,0,h]);var s=u[2],l=u.slice(0);u[0]=34,u[1]=[l,[14,"(",s,17],null]}else A(c,t,!0);else{if(A(u,t,r)&&32==c[0]){var h=c[1][0][1];return(g=t[t.length-1]).push(h),0}A(c,t,!0)}else if("["==f)if(!r&&(n=i(u)))if(33==c[0]){d=c[1][0][1];t.push([n,0,d.slice(1,-1)]);var s=u[2],l=u.slice(0);u[0]=34,u[1]=[l,[14,"(",s,17],null]}else if(4==n&&31==c[0]){t.push([n,0]);var s=u[2],l=u.slice(0);u[0]=34,u[1]=[l,[14,"(",s,17],null]}else A(c,t);else{if(A(u,t,r)&&33==c[0]){var d=c[1][0][1],g=t[t.length-1];return g.push(d.slice(1,-1)),0}A(c,t)}else if("("==f)if(n=i(u)){if(null===c)return t.push([n,0]);if(51==c[0]){var v=c[1][0],y=v[0];if(31==y){var _=v[1][0][1];return t.push([n,parseFloat(_)])}if(33==y){d=v[1][0][1];return t.push([n,d.slice(1,-1)])}}A(c,t)}else A(u,t),null!==c&&A(c,t);else"in"==f?(32!=u[0]&&A(u,t),A(c,t)):(A(u,t),A(c,t))}else 35==o?(A(a[0],t),A(a[2],t),A(a[4],t)):37==o?A(a[1],t):39==o?A(a[1],t):41==o&&A(a[1],t);return 0}function N(e,t,r){var i=j(t,e,r);if(i){61==i[0]&&(i=i[1][2]),A(i,[]);var n=[],o=D(e,0,n,1),a=n[1];return o&&a?(n[2]&&(a=a.forSpace),function(e,t){var n=a.exprSpace,o=n.index;n.index=function(e){return void 0===e||0===e?t:o(e,1)},n.$info=[e,r,Me.time()];try{return S(i,n)}finally{n.index=o}}):null}return null}function E(e,t,r,i){function n(e,t){var r=e.widget;if(!(r=r&&r.parent))return!1;var i=r.component;if(!i)return!1;var n=i.$gui.compIdx[e.$gui.keyid];if("number"!=typeof n)return!1;var o=!1,a=i.$gui.comps,s=[],l=!1;for(n-=1;n>=0;){var u=a[n--],p=g(u);if(u=u&&p&&r[p],(u=u&&u.component)&&u.$gui.compState){var c=u.$gui.flowFlag;if("if"!=c&&"elif"!=c)break;var f=u.$gui.flowExprId0;if(!l&&(u.$gui.flowExprId!==f||t>f)?s.unshift([c,u]):(l=!0,u.state[c]&&(o=!0)),"if"==c)break}}return s.length&&s.forEach(function(e){var t=e[0],r=e[1],i=r.$gui.exprAttrs[t];if(o||!i)r.state[t]&&setTimeout(function(){r.state[t]=!0;var e={};e[t]=!1,r.setState(e)},0),r.state[t]=!1,r.$gui.flowExprId0=r.$gui.flowExprId=dt;else try{var n=r.state[t];i(r,1);var a=r.state[t];a&&(o=!0),!n!=!a&&setTimeout(function(){r.state[t]=n;var e={};e[t]=a,r.setState(e,function(){a&&r.props["hasStatic."]&&se(r,!0)})},0)}catch(e){console.log(e)}}),o}function o(e,t,r){var i=e.widget;if(i=i&&i.parent){var n=i.component;if(n){var o=n.$gui.compIdx[e.$gui.keyid],a=n.$gui.comps;if("number"==typeof o){for(var s=[],l=a.length,u=o+1;u<l;u+=1){var p=a[u],c=p&&g(p),f=c&&i[c];if((f=f&&f.component)&&f.$gui.compState){var h=f.$gui.flowFlag;if("elif"!=h&&"else"!=h)break;var d=f.$gui.flowExprId0;if(!(f.$gui.flowExprId!==d||r>d))break;if(s.push([h,f]),"else"==h)break}}s.forEach(function(e){var r=e[0],i=e[1],n="elif"==r?i.$gui.exprAttrs[r]:null;if(t||"elif"==r&&!n)i.$gui.flowExprId0=i.$gui.flowExprId=dt,i.state[r]&&(i.state[r]=!1,setTimeout(function(){i.state[r]=!0;var e={};e[r]=!1,i.setState(e)},0));else if("elif"==r)try{var o=i.state[r];n(i,2);var a=i.state[r];a&&(t=!0),!o!=!a&&setTimeout(function(){i.state.elif=!a,i.setState({elif:a},function(){a&&i.props["hasStatic."]&&se(i,!0)})},0)}catch(e){console.log(e)}else i.$gui.flowExprId0=i.$gui.flowExprId=dt,i.state.else||(i.state.else=!0,setTimeout(function(){i.state.else=!1,i.setState({else:!0},function(){i.props["hasStatic."]&&se(i,!0)})},0))})}}}}var a="any",s=j(r,e,t);if(s){61==s[0]&&(a=s[1][0],s=s[1][2],32==a[0]&&(a=a[1][0][1]),"all"!==a&&"strict"!==a&&(a="any"));var l=at.indexOf(t);l>=0&&"any"!=a&&(console.log("error: invalid using '"+a+":' at "+e.widget.getPath()+":"+t),a="any");var u=[];if(A(s,u),"trigger"==t){var p=e.props.fireType||"auto";"onsite"===p?(u=[],e.$gui.syncTrigger=3):e.$gui.syncTrigger="none"===p?0:1}var c={},f=[];u.forEach(function(r){var i,n=r[0],o=r[1];if(n>=4&&"number"==typeof o)o<=0&&f.indexOf(o)<0&&f.push(o);else if(3==n&&void 0!==(i=r[2]))if("number"!=typeof o||o<=0){var a=c[o];if(a||(a=c[o]=[]),0==a.length){var s=D(e,o,[],0);s?a.push(s,i):console.log("error: can not find duals("+o+") at "+e.widget.getPath()+":"+t)}else a.indexOf(i,1)<0&&a.push(i)}else console.log("error: invalid using duals("+o+") at "+e.widget.getPath()+":"+t)}),f.sort(function(e,t){return e-t});var h={};Object.keys(c).forEach(function(r){var i=c[r],n=i&&i[0];if(n){var o=i.slice(1);"any"!=a&&o.forEach(function(e){h[r+":"+e]=!1}),n.listen(o,function(i,o,s){if(e.isHooked)if("any"==a)(f=e.state.exprAttrs.slice(0)).indexOf(t)<0&&f.push(t),at.indexOf(t)>0&&(0==vt&&(vt=++dt,setTimeout(function(){vt=0},0)),e.$gui.flowExprId=vt),e.setState({exprAttrs:f});else{var l=r+":"+s;if(h.hasOwnProperty(l)){"strict"==a&&h[l]&&console.log("error: conflict in strict mode, duals("+r+")."+s+" is fired more than one time."),h[l]=!0;for(var u=!0,p=Object.keys(h),c=p.length-1;c>=0;c--)if(!h[p[c]]){u=!1;break}if(u){for(c=p.length-1;c>=0;c--)h[p[c]]=!1;var f=e.state.exprAttrs.slice(0);f.indexOf(t)<0&&f.push(t),e.setState({exprAttrs:f})}}}else n.unlisten("*",e)})}}),f.length&&"any"==a&&function(e,t,r,i){var n=i[i.length-1],o=[],a=D(e,n,o,0);if(a){for(var s,l=a.widget,u=o[1],p=o[2],c=0;l&&u;){if(i.indexOf(n)>=0&&(s=l.component)&&(s.props.$for||s.props.$$for)&&(s.listen("for",function(r,i){if(e.isHooked){var n=e.state.exprAttrs.slice(0);n.indexOf(t)<0&&n.push(t),at.indexOf(t)>0&&(0==vt&&(vt=++dt,setTimeout(function(){vt=0},0)),e.$gui.flowExprId=vt),e.setState({exprAttrs:n})}else s.unlisten("*",e)}),c+=1),p)p=!1,n-=1;else for(l=l.parent;l;){if(u=l.$callspace){p=!!u.forSpace,n-=1;break}l=l.parent}if(n<r)break}c<i.length&&console.log("error: not all source ($for) is watched for "+e.widget.getPath()+":"+t)}else console.log("error: can not listen ("+n+":for) for "+e.widget.getPath()+":"+t)}(e,t,f[0],f);var d=[],v=D(e,0,d,0),y=d[0],_=d[1];if(!v||!_)return console.log("warning: locate current callspace failed."),[null,a];d[2]&&(_=_.forSpace);var b=!1,w=null,k=null,O=null;if("html"==t)b=!0;else if(0==l){var x=[],$=s,P=$[0],I=$[1];if(51==P&&37==I[0][0]&&(P=($=I[0][1][1])[0],I=$[1]),51==P)w=I[0];else if(52==P){for(;52==P;)x.unshift(I[2]),P=($=I[0])[0],I=$[1];51==P&&(w=I[0])}else w=$;if(w=w&&34==w[0]&&"in"==(I=w[1])[1][1]?I[2]:null)for(;x.length;){var T=x.pop(),N=T[0];if(31==N)O||(O=[]),O.unshift(parseFloat(T[1][0][1]));else if(33==N)O||(O=[]),O.unshift(T[1][0][1].slice(1,-1));else{if(x.length){console.log("warning: invalid filter expression ($for) at "+e.widget.getPath()),k=null;break}k=T}}else console.log("error: invalid expression ($for) at "+e.widget.getPath())}return[function(e,r){var a=_.exprSpace,u=a.index;a.index=function(e){return void 0===e||0===e?y:u(e,1)},a.$info=[e,t,Me.time()];try{if(0==l)if(e.$gui.flowExprId0=e.$gui.flowExprId=dt,w){var p=S(w,a);if(Array.isArray(p)){if(k){var c=[],f=p.length;if(f){a.$count=f;for(var h=0;h<f;h++){var d=a.$item=p[h];a.$index=h;try{S(k,a)&&c.push(d)}catch(t){console.log("error: run filter failed ($index="+h+" in "+e.widget.getPath()+")"),console.log(t)}}delete a.$index,delete a.$item,delete a.$count}p=c}O&&(p=Me.order(p,O)),e.state[t]=p}else console.log("error: result of '$for' ("+e.widget.getPath()+") should be array"),e.state[t]=[]}else e.state[t]=[];else if(l>=1){var g=e.$gui.flowExprId;if(r=r||0,2==l){var v=!1,x=!1;if(g!==e.$gui.flowExprId0?x=!0:r&&dt>e.$gui.flowExprId0&&(x=!0),e.$gui.flowExprId0=e.$gui.flowExprId=dt,x){var $,P=e.state.elif;1!=r&&n(e,g)?(v=!0,$=e.state.elif=!1):v=!!($=e.state.elif=S(s,a)),$&&P!==$&&e.props["hasStatic."]&&setTimeout(function(){se(e,!0)},0)}else(e.state.elif||1!=r&&n(e,g))&&(v=!0);2!=r&&o(e,v,g)}else if(1==l){x=!1;if(g!==e.$gui.flowExprId0?x=!0:r&&dt>e.$gui.flowExprId0&&(x=!0),e.$gui.flowExprId0=e.$gui.flowExprId=dt,x){P=e.state.if;($=e.state.if=S(s,a))&&P!==$&&e.props["hasStatic."]&&setTimeout(function(){se(e,!0)},0)}2!=r&&o(e,!!e.state.if,g)}}else{if(i){var j=e.$gui.syncTrigger;if(j){var D=e.state.trigger;j<=2&&(e.duals[t]=S(s,a));var I=!1;1!==j&&(2===j?(I=!0,e.$gui.syncTrigger=3):e.$gui.syncTrigger=st),I||m(D,e)}else e.duals[t]=S(s,a)}else e.state[t]=S(s,a);b&&(e.duals["html."]=e.state[t])}}finally{a.index=u}},a]}return[null,a]}function C(e,t,r,i){for(var n,o=0;n=e[o];o++)try{var a=n[0],s=n[1];n[2]?a&&(a.duals[s]=t):a?a[s]&&a[s](t,r,i):"function"==typeof s&&s(t,r,i)}catch(e){console.log(e)}}function R(e,t,r,i,n){function o(){return this.state[t]}function a(o){if(s.inSync){var a,u;if(arguments.length>=2)a=arguments[1],u=!1;else{if((a=this.state[t])===o)return;u=!0}var p=!1;if(l&&o<=2?(u&&(this.state.id__=s.id__=o),r&&r(o,a),i&&i(o,a),2==o&&(s.id2__=0),p=!r&&0!=o):(r?n||(u&&(this.state[t]=o),r(o,a)):(u&&!n&&(this.state[t]=o),p=!0),i&&i(o,a)),p){var c=s.connectTo[t];c&&s.compState>=2&&setTimeout(function(){C(c,e.state[t],a,t)},0)}}else if(this.state)if(l&&0==o){if(0==(a=this.state.id__))return;this.state.id__=s.id__=o,i&&i(o,a)}else{var f=this.state.duals.slice(0);f.push([t,o]),setTimeout(function(){e.setState({duals:f})},0)}else s.initDuals.push([t,o])}var s=e.$gui,l="id__"==t;return n&&(l?(n=void 0,console.log("error: can not apply base.setter to duals.id__")):n.setter=r||function(r,i){e.state[t]=r}),[o.bind(e),a.bind(e)]}function H(e){function t(t,r){var n=i[r];if(n)try{var o=a.connectTo[r];if(o){var s=e.state[r];n(e);var l=e.state[r];l!==s&&t.push([o,l,s,r])}else n(e)}catch(e){console.log(e)}}function r(e){var t=e&&e.component;return!!t&&(!!t.props["isTemplate."]||r(e.parent))}var i,n=!1,o=!1,a=e.$gui,l=e.duals;a.inSync=!0;try{0==a.compState?(o=!0,a.compState=1):a.compState=2;var p=a.flowFlag,c=a.duals,f=e.state.duals;if(o){n=!0,a.hasIdSetter?l.id__=1:(e.state.id__=1,a.id__=1);var h={},d=[];Object.keys(l).forEach(function(t){var r=e.props[t];void 0!==r&&(c[t]=r,d.push([t,r])),h[t]=!0});var g=a.exprAttrs,v=Array.isArray(g);(v||p)&&Re.__design__&&r(e.widget)&&(a.forExpr=0,p=a.flowFlag="",g.splice(0),e.state.exprAttrs=[]);var y=[],_=[],m=e.state.exprAttrs;i=a.exprAttrs={},v&&g.forEach(function(t,r){var i=e.props["$"+t],n=!1;if(i||"for"!=t||2!==a.forExpr||(i=e.props.$$for),i){if(0==t.indexOf("dual-")){var o=m.indexOf(t);o>=0&&m.splice(o,1);var s=t.slice(5).replace(kt,function(e,t){return t.toUpperCase()});if(!s)return;n=!0,t=s}var l=void 0!==e.props[t];if(!l||h[t]){if(n&&m.push(t),"data"!=t){var u=wt[t];u&&5!=u&&!l&&a.tagAttrs.push(t)}y.push(t),_.push([t,i])}else console.log("warning: dual attribute ($"+t+") is confliction.")}else"for"!=t&&console.log("warning: invalid dual attribute ($"+t+").")});var b=a.initDuals0;for(a.initDuals0=[],P=0;X=b[P];P++)e.state[X[0]]=X[1];var w={},k=Object.keys(a.dualAttrs);if(c.children=e.props.children,y.length||k.length||a.tagAttrs.length||a.dataset.length){for(var O,x=-1,$=[y,k,a.tagAttrs,a.dataset],P=0;O=$[P];P++)O.forEach(function(t){if(0==P)h[t]=!0;else if(1==P){var r=!1;if(void 0!==e.props[t]?r=!0:h[t]&&void 0!==c[t]&&(r=!0),r)return void console.log("warning: dual attribute ("+t+") is confliction.");if(h[t]=!0,"data"!=t){var i=wt[t];i&&5!=i&&a.tagAttrs.push(t)}n=c[t]=e.props[a.dualAttrs[t]];if(l.hasOwnProperty(t))return void d.push([t,n]);e.state[t]=n}else{if(h[t])return void(2==P&&"data"==t&&(x=a.tagAttrs.indexOf(t)));h[t]=!0;var n=c[t]=e.props[t];if(l.hasOwnProperty(t))return void d.push([t,n]);e.state[t]=n}if(Object.getOwnPropertyDescriptor(l,t))0==P&&(w[t]=!0);else{var o=R(e,t);Object.defineProperty(l,t,{enumerable:!0,configurable:!0,get:o[0],set:o[1]})}});x>=0&&a.tagAttrs.splice(x,1)}if(a.forExpr&&(K=e.widget)){var S;2==a.forExpr&&(K.$callspace={flowFlag:"ref",forSpace:null},K.$callspace["data-rfor.path"]="",I(S=K.$callspace.exprSpace={},e));var j={flowFlag:"for",exprSpace:S={}},D=e.props[2==a.forExpr?"$$for":"$for"],A=!0;if(K.$callspace?D?K.$callspace.forSpace=a.forExpr=j:(delete a.forExpr,A=!1):(K.$callspace=j,D?a.forExpr=j:(delete a.forExpr,j.flowFlag="for0")),A&&I(S,e,!D),a.forExpr){for(var H=a.comps2=a.comps,W=a.exprKeys=[],M=a.exprChild=[],P=H.length-1;P>=0;P-=1){var L=H[P];if(L){if(u(L.props.className,"rewgt-static")){W.unshift(null),M.unshift(null);continue}var z=L.props.$key,F=null;if(z&&"string"==typeof z?(F=N(e,z,"key"))||console.log("error: invalid '$key' expression: "+z):console.log("error: no '$key' defined for child element in '$for' loop."),F){W.unshift(F);var B=L.props.$children,V=null;B&&"string"==typeof B&&((V=N(e,B,"children"))||console.log("error: invalid '$children' expression: "+B)),M.unshift(V);continue}}H.splice(P,1)}a.comps=[],a.compIdx={}}}_.length&&(a.flowExprId0=0,a.flowExprId=1,_.forEach(function(t){var r=t[0],n=E(e,r,t[1],w[r]),o=n[0],s=n[1];if(o){if("any"!=s){var l=a.syncExpr;l||(l=a.syncExpr=[]),a.syncExpr.push([r,o])}else i[r]=o;0!=r.indexOf("data-")&&0!=r.indexOf("aria-")||a.dataset2.push(r)}else console.log("warning: compile expression ($"+r+") failed.")}));var q=d.length;for(a.initDuals.forEach(function(e){var t=e[0],r=d.findIndex(function(e){return e[0]===t});r>=0&&r<q&&(d.splice(r,1),q-=1),d.push(e)}),a.initDuals=[];X=d.shift();)l[X[0]]=X[1]}else{i=a.exprAttrs;for(var G;G=f.shift();)l[G[0]]=G[1]}var U=[];if((m=e.state.exprAttrs).length){var X,Y=m.indexOf("data");for(Y>=0&&(X=m[Y],m.splice(Y,1),t(U,X),m=e.state.exprAttrs);X=m.shift();)t(U,X)}if(p||a.forExpr){var K,J=!0;if(p&&(J=e.state[p],"if"==p||"elif"==p?(!0,e.hideThis=!J):"else"==p&&(o&&(a.flowExprId0=a.flowExprId=dt,J=e.state.else=!T(e)),!0,e.hideThis=!J)),a.forExpr&&(K=e.widget)){J=e.state.for,Array.isArray(J)&&0!=J.length||(J=[]),a.forExpr["data-for.path"]=J;var Z={},Q=[],H=a.comps2,W=a.exprKeys,M=a.exprChild,ee=!1,te=e.props["childInline."];J.forEach(function(t,r){for(var i,n=0;i=H[n];n+=1){var o=W[n];if(o){var a=i.props["childInline."];if(void 0!==a)if(te){if(!a)continue}else if(!u(i.props.className,["rewgt-panel","rewgt-unit"]))continue;if(i.props["isReference."])continue;var s=M[n],l=null;if(s)try{(l=s(e,r))?Ne.isValidElement(l)||Array.isArray(l)||"string"==typeof l||(l=null):l=null}catch(e){console.log("error: caculate '$children' ("+(n+1)+" of "+H.length+") failed."),console.log(e)}var p=!1;try{"number"!=typeof(h=o(e,r))&&(h+=""),p=!0}catch(e){console.log("error: caculate '$key' ("+(n+1)+" of "+H.length+") failed."),console.log(e)}if(p){var c,f={"hookTo.":K,"keyid.":h,key:h+"","for.index":r};c=l?Ne.isValidElement(l)||"string"==typeof l?rt(i,f,l):rt.apply(null,[i,f].concat(l)):rt(i,f),Z[h]=Q.push(c)-1}}else{ee=!0;var h="static-"+r,d=Object.assign({},i.props);d["keyid."]=h,d.key=h,Z[h]=Q.push(it(te?"span":"div",d))-1}}}),ee&&setTimeout(function(){se(e,!0)},0),0==a.comps.length&&0==Q.length||(a.removeNum+=1),a.compIdx=Z,a.comps=Q}}if(U.length&&a.compState>=2&&setTimeout(function(){U.forEach(function(e){C(e[0],e[1],e[2],e[3])})},0),o&&Re.__debug__&&"function"==typeof(F=e.props.setup__))try{F.apply(e)}catch(e){console.log(e)}if(a.id__===e.state.id__)0==a.id2__&&(l.id__=st!==e.state.id__?st:s());else{var re=e.state.id__;e.state.id__=re-1,l.id__=re}a.id2__=0,a.isChildExpr&&a.children2!==e.props.children&&(a.removeNum+=a.comps.length,a.children2=e.props.children,a.comps=nt(e.props.children)),l.childNumId=a.comps.length+(a.removeNum<<16)}catch(e){console.log(e)}return a.inSync=!1,n}function W(e,t){var r=null,i=(t.frame||{}).path;return i&&((r=(r=e.componentOf(i))&&r.fullClone())||(Re.__design__||delete t.frame,console.log("warning: can not locate popup frame ("+i+")."))),r||null}function M(e){var t=e._;if(!t)return null;var r=t._statedProp||[],i=t._silentProp||[],n=t._htmlText,o=Object.assign({},e.props);if(r.forEach(function(t){o.hasOwnProperty(t)&&(o[t]=e.state[t])}),i.forEach(function(e){delete o[e]}),n){var a=e.state["html."];a&&"string"==typeof a?o["html."]=a:delete o["html."]}else delete o["html."];return delete o["data-unit.path"],delete o["data-span.path"],delete o.children,o}function L(e,t,r,i){var n=i.$gui,o=!!n.forExpr,a=o?n.comps2:n.comps,s=[],l=i.props["childInline."];return a.forEach(function(e){if(e)if(o||e.props["isReference."])s.push(e);else{if(u(e.props.className,"rewgt-static")){delete(v=Object.assign({},e.props))["keyid."],delete v.key,delete v.onMouseDown,delete v.onDoubleClick;var t,n=v.name;if("number"==typeof(t=parseInt(n))&&t>=1048576){var a=i.$gui.statics;if(a=a&&a[n],Array.isArray(a)){var p=a.map(function(e){return e.cloneNode(!0)});t=Re.$staticNodes.push(p)-1,v.name=t+""}}return void s.push(it(l?"span":"div",v))}var c=g(e),f=c&&r[c],h=f&&f.component;if(h){if(h.props["isTemplate."]&&!Re.__design__){var d=h.$gui.template;return d instanceof te?rt(e,{template:d},null):void 0}var v=M(h);v&&s.push(L(e,v,f,h))}}}),0==s.length?rt(e,t,null):(s.unshift(t),s.unshift(e),rt.apply(null,s))}function z(e,t){var r;if(Array.isArray(e)){if(Array.isArray(t)&&(r=e.length)==t.length){for(o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}return!1}if(e&&"object"==(void 0===e?"undefined":Ae(e))){if(t&&"object"==(void 0===t?"undefined":Ae(t))){var i=Object.keys(e),n=Object.keys(t);if((r=i.length)!=n.length)return!1;for(var o=0;o<r;o++){var a=i[o];if(e[a]!==t[a])return!1}return!0}return!1}return e===t}function F(e,t,r){function i(e){return[e._className,e._statedProp||[],e._silentProp||[],e._defaultProp||{},e._htmlText]}function n(e){if(!e)return!1;var t=e.component;return!(!t||!t.props["data-unit.path"]&&!t.props["data-span.path"])||n(e.parent)}function o(e,t,r){if(u(t.props.className,"rewgt-static")){var i=t.props.name,n=parseInt(i);if("number"==typeof n&&n<1048576){var a=Re.$staticNodes[n];if(Array.isArray(a)){for(var s,l=[],p=0;s=a[p];p++)l.push(s.outerHTML);l.length&&e.push(["",{html:l},r])}}}else{var c=t.type,f=c&&c.prototype.$eventset;if(f){var h=f[2],d=Object.assign({},t.props),g=d.children;delete d.children;var v=0;d["childInline."]?v=u(d.className,"rewgt-unit")?2:3:u(d.className,"rewgt-unit")&&(v=1),Object.keys(d).forEach(function(e){"."==e.slice(-1)&&delete d[e]});var y=[];g&&(Array.isArray(g)||(g=[g]),g.forEach(function(e){e&&o(y,e,v)}));var _=[h,d,v];y.length?(y.unshift(_),e.push(y)):e.push(_)}}}if(!t){if(!(t=Ue))return;r=""}var a=t.component,s=t===Ue;if(r+="."+(a?a.$gui.keyid:"undefined"),a){var l,p={},c=0,f=a.state,h=a.$gui,d=f["data-unit.path"];if(void 0!==d?(l="RefDiv",c=2):void 0!==(d=f["data-span.path"])&&(l="RefSpan",c=3),void 0!==d){var v=d?a.props["link.props"]:null;if(v){Object.assign(p,v),a._._htmlText||delete p["html."];b=p["keyid."];delete p["keyid."],delete p.key,"string"==typeof b&&("$"==b[0]?(b=b.slice(1))!==parseInt(b)+""&&(p.key=b):p.key=b);var y=(w=i(a._))[1],_=w[2];y.forEach(function(e){p.hasOwnProperty(e)&&(p[e]=f[e])}),_.forEach(function(e){delete p[e]}),Object.keys(p).forEach(function(e){void 0===p[e]&&delete p[e]}),p.style&&0==Object.keys(p.style).length&&delete p.style,p.$=d,e.push([l,p,c])}}else if(a.props["isReference."]);else{var m=h.keyid,b="string"==typeof m?m:"",w=i(a._),y=w[1],_=w[2],k=w[3],O=w[4],x=Object.keys(k);l=w[0],a.props["childInline."]?c=u(a.props.className,"rewgt-unit")?2:3:u(a.props.className,"rewgt-unit")&&(c=1),Object.assign(p,a.props),y.forEach(function(e){p[e]=f[e]}),_.forEach(function(e){delete p[e]}),x.forEach(function(e){var t=k[e];void 0===t?"number"!=typeof p[e]&&delete p[e]:z(t,p[e])&&delete p[e]}),delete p.children,delete p["hasStatic."],Object.keys(p).forEach(function(e){var t=p[e];void 0===t?delete p[e]:"function"==typeof t&&(delete p[e],n(a.widget)||console.log("warning: can not dump function property ("+e+")"))}),delete p.key,b&&(p.key=b),s&&(delete p.left,delete p.top),p.style&&0==Object.keys(p.style).length&&delete p.style;var $=[];if(!a.props["noSaveChild."]&&void 0===d){var P=!!h.forExpr,S=null;(P?h.comps2:h.comps).forEach(function(e){if(e)if(P)o($,e,c);else{var i=g(e);if(i){if(s&&"$"==i[0]){if("$pop"==i)return;if("$"==i[1]&&e.props["isTemplate."])return}var n=t[i];if(n)F($,n,r);else if(u(e.props.className,"rewgt-static")){S||(S=tt(a));var l=e.props.name,p=[];if(S&&l){var f=S.querySelector('.rewgt-static[name="'+l+'"]');if(f)for(var h,d=0;h=f.children[d];d+=1)p.push(h.outerHTML)}p.length&&$.push(["",{html:p},c])}}}})}if(O)if($.length)delete p["html."];else{var j=a.state["html."];j&&"string"==typeof j?p["html."]=j:delete p["html."]}else delete p["html."];var D=[l,p,c];$.length?($.unshift(D),e.push($)):e.push(D)}}else console.log("warning: widget ("+r+") is null.")}function B(e,t,r,i){if(!Ge||!t)return!1;if(!Ge.showDesignDlg)return!1;var n=e;if("string"==typeof e&&(n=Re.W(e),!(n=n&&n.component)||!n.props))return!1;if(!n)return!1;if(!r){var o=n._._getGroupOpt(n);if(!(r=(o.tools||[]).find(function(e){return e.name===t}))||!r.get||!r.set)return!1;r=Object.assign({},r),i||(i=o.baseUrl||"")}var a=r.get(n);return null!==a&&(_t+=1,yt=[_t,n,r],Ge.showDesignDlg(_t,r,a,i),!0)}function V(e,t,r){if(yt&&yt[0]==t){var i=yt[1],n=yt[2];e&&(yt=null),n.set(i,r,e)}}function q(e){e.preventDefault()}function G(e){if(Ge){var t=this.widget,r=t&&t.getPath();if(r){var i=tt(this);if(i){for(var n="",o=e.target;o&&o!==i;){if(o.classList.contains("rewgt-static")){o.getAttribute("data-marked")||(n=o.getAttribute("name"));break}o=o.parentNode}n&&(e.stopPropagation(),e.preventDefault(),B(o,"default",{name:"default",title:"edit content",url:ze.appBase()+"/edit_static.html",halfScreen:!0,width:.96,height:.9,clickable:!1,get:function(e){return[e.innerHTML,r,n]},set:function(e,t,r){var i=t[0]||"",n=t[1],o=t[2];if(n&&o){var a=Re.W(n);if(a=a&&a.component){var s=tt(a),l=null;if(s&&(l=s.querySelector('.rewgt-static[name="'+o+'"]')),l===e){l.innerHTML=i;var p=parseInt(o);if("number"==typeof p){var c=a.$gui,f=c.statics,h=[];f||(f=c.statics={});for(var d,g=0;d=l.children[g];g+=1)h.push(d);if(p>=1048576)f[o]=h;else{for(var v=c.comps.length,y=1048576+c.removeNum+v+"",g=0;g<v;g++){var _=c.comps[g];if(_&&u(_.props.className,"rewgt-static")&&_.props.name===o){c.comps[g]=rt(_,{name:y});break}}f[y]=h,l.setAttribute("name",y)}}Re.__design__&&Ge.notifyBackup&&Ge.notifyBackup("")}}}}},""))}}}}function U(e,t,r,i,n){function o(e,t){var r=void 0===e?"undefined":Ae(e);if("string"!=r)return Ne.isValidElement(e)?(u=3,e):"function"==r?(u=2,e):null;var n,o=t?Re.$main[t]:null;if(!o&&((n=i[e])||null===n))return u=0,n;var a,s=e.split("."),l=s.shift();if(0==s.length&&((a=l[0])<"A"||a>"Z"))return u=1,l;for(u=0,n=He[l];n&&(l=s.shift());)n=n[l];return n&&n._extend?o?n=Ce(n._extend(o)):i[e]=n=Ce(n._extend()):i[e]=n=null,n}function a(e,t,r){for(var i=t.length,n=r;n<i;n++){var o=t[n];if(o){var s=void 0===o?"undefined":Ae(o);if("string"!=s)if(Ne.isValidElement(o))e.push(o);else if("function"!=s){if(Array.isArray(o)&&o.length>=1){var l,u,p=o[0],c=0,f=!1;Array.isArray(p)?(c=o.length-1,l=p[0],u=p[1]):(l=p,u=o[1]),u||(f=!0,u={});var h=!1,d=void 0===l?"undefined":Ae(l);if("string"==d){var g=l[0];if(g>="A"&&g<="Z"||l.indexOf(".")>=0){console.log("warning: unknown react class ("+l+")");continue}}else if(Ne.isValidElement(l))h=!0;else if("function"!=d){console.log("warning: unknown react class");continue}if(c){var v=[];a(v,o,1),h?e.push(rt(l,u,v)):e.push(it(l,u,v))}else h?e.push(f?l:rt(l,u)):e.push(it(l,u))}}else e.push(it(o));else e.push(o)}}}var s,l,u=0,p=t[0],c=0,f=!1;if(Array.isArray(p)?(c=t.length-1,s=p[0],l=p[1]):(s=p,l=t[1]),l||(f=!0,l={}),!s){var h=l.html||[];if(h.length>0){var d=document.createElement("div");d.innerHTML=h.join("");for(var g=[],v=r.push(g)-1,y=0;$=d.children[y];y+=1)g.push($);return e.push(it("div",{className:"rewgt-static",name:v+""})),!0}return!1}var _="";n&&l.key&&(_=n+"."+l.key);var m="RefDiv"===s||"RefSpan"===s?s:"";if(m)return e.push(it(o(m,_),l)),!1;var b=o(s,_);if(!b){var w="string"==typeof s?" ("+s+")":"";return console.log("warning: can not find template"+w),!1}if(u>0)if(c>0){var k=[];a(k,t,1),3==u?e.push(rt(b,l,e)):e.push(it(b,l,k))}else 3==u?e.push(f?b:rt(b,l)):e.push(it(b,l));else{var O=[b,l];if(c>0){for(var x,$,P=!1,y=1;$=t[y];y+=1)Array.isArray($)?U(O,$,r,i,_)&&(P=!0):Ne.isValidElement($)?O.push($):"string"==(x=void 0===$?"undefined":Ae($))?O.push(it(nr,{"html.":$})):"function"==x&&O.push(it($));P&&(O[1]=Object.assign({},l,{"hasStatic.":!0}))}e.push(it.apply(null,O))}return!1}function X(e,t){var r=e.widget;if(r){var i=e.$gui,n=i.cssWidth,o=i.cssHeight,a=!!t;if("number"==typeof n||"number"==typeof o){var l=0;i.comps.forEach(function(e){if(e){var t=g(e),i=t&&r[t];if(i=i&&i.component){if(i.willResizing&&!i.willResizing(n,o,a))return;l||(l=s()),i.setState({parentWidth:n,parentHeight:o,id__:l})}}})}}}function Y(e,t,r){function i(){setTimeout(function(){Ye=!1},300),r&&r()}if(Re.__design__){var n=[],o=[],a={};if(U(n,t,o,a),1==n.length){Ye=!0;var s=n[0];Ee.unmountComponentAtNode(e),e.style.visibility="hidden",e.innerHTML="",setTimeout(function(){We.widgetNum(0),Ue=null,Ke=!1,Xe=!0,Je=[],Re.$cachedClass=a,Re.$staticNodes=o,Ee.render(s,e,function(){e.style.visibility="visible";var t=Re.$main.$$onLoad_;"function"==typeof t&&t(i)})},0)}else r&&r()}else r&&r()}function K(e,t,r){function i(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}t=t||0;var n,o,a,s=e[0],l=0;Array.isArray(s)?(l=e.length-1,n=s[0],o=s[1],a=s[2]):(n=s,o=e[1],a=e[2]),"number"!=typeof a&&(a=1);var u=function(){return new Array(t+1).join("  ")}(),p=u;if(!n){var c=o.html||[],f=r<=1?"<div class='rewgt-static'>":"<span class='rewgt-static'>",h=r<=1?"</div>":"</span>";return 0==c.length?p="":1==c.length?p+=f+c[0]+h+"\n":(p+=f+"\n",c.forEach(function(e){p+=u+"  "+e+"\n"}),p+=u+h+"\n"),p}var d=!1;"RefDiv"==n?(!0,d=o["isPre."],l=0,p+=(d?"<pre $=":"<div $=")+JSON.stringify(o.$||"")):"RefSpan"==n?(!0,l=0,p+="<span $="+JSON.stringify(o.$||"")):3==a?p+="<span $="+n:((d=o["isPre."])&&(l=0),p+=(d?"<pre $=":"<div $=")+n);var g=o.key,v=o["html."];g&&(p+=" key='"+g+"'"),Object.keys(o).forEach(function(e){if("key"!=e&&"html."!=e&&"$"!=e&&"isPre."!=e){var t=o[e];void 0!==t&&("style"==e&&(e="sty__"),p+=" "+e.replace(mt,"-$1").toLowerCase()+"=","string"!=typeof t||"$"!=e[0]&&t&&"{"==t[0]&&"}"==t.slice(-1)?p+="'{"+i(JSON.stringify(t))+"}'":p+="'"+i(t)+"'")}});var y="";if(l){for(var _,m=1;_=e[m];m+=1)y+=K(_,t+1,a);3==a?0==y.indexOf(u+"  ")?p+=">"+y.slice(u.length+2):p+=">"+y:p+=">\n"+y}else p+=">",v&&(p+=d?v:v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"));return d?p+="</pre>\n":3==a?y&&"\n"==y.slice(-1)?p+=u+"</span>\n":p+="</span>\n":v||"\n"!=p.slice(-1)?p+="</div>\n":p+=u+"</div>\n",p}function J(e,t){var r=e.component;if(!r)return null;for(var i in r.$gui.compIdx){var n=e[i],o=n&&n.component;if(o)if(o.props["isNavigator."]){var a=o.$gui.navItems,s=a&&a[t];if(s&&s.props["isPlayground."])return n}else if(!o.props["childInline."]&&(n=J(n,t)))return n}return null}function Z(e,t){if(!t)return[];var r=g(e),i=r&&t[r];if(i){var n=[];return(i=i.component)?(i.$gui.comps.forEach(function(e){e&&n.push(e)}),n):n}return nt(e.props.children)}function Q(e){var t=e,r=t.indexOf("./"),i=t[0],n=0,o=!1;if(0==r)n=1,t=t.slice(2);else if(1==r&&"."==i)for(n=2,t=t.slice(3);0==(r=t.indexOf("../"));)n+=1,t=t.slice(3);else"."==i?(n=-1,t=t.slice(1)):"/"==i?"/"==t[1]&&t.length>=2?(t=t.slice(2),n=-1,o=!0):(n=-1,t=t.slice(1)):o=!0;return t.indexOf("/")>=0?(We.instantShow("error: invalid reference path ("+e+")."),null):[t,n,o]}function ee(e,t){function r(e){return(e=e&&e.component)||(console.log("warning: can not find widget ("+t+")."),null)}var i=Q(t);if(!i)return null;var n=i[0],o=i[1];if(i[2]){var a=s=e.widget;if(o<0&&(a=s&&s.parent),a)return r(n?a.W(n):a)}else if(-1==o){if(n)return r(Re.W(n))}else{for(var s=e.widget;s&&o>0;){var l=s&&s.component;if(l&&l.props["isNavigator."]&&0==(o-=1))break;var u=s.parent;if(!u){o-=1,s=Re;break}s=u}if(s&&0==o)return r(n?s.W(n):s)}return r(null)}function te(e){this.comps={},this.element=e,this.pathSeg=""}function re(e,t,r){function i(e,t,r){var i=Q(t);if(!i)return n(null,t);var a=i[0],s=i[1],l=e instanceof te;if(i[2]){if(l)return n(null,t);if(s<0&&(u=e.widget))return void o(u,a,t,!1)}else{if(-1==s)return void o(null,a,t,!1);var u=e;if(l){var p=(u=e.element).props["hookTo."],c=!1;for(p||(p=(p=u.widget)&&p.parent);u&&s>0&&p;){if(!(p instanceof te)){if(Array.isArray(p)){if(r)return n(null,t);u=p.component,c=!0;break}return n(null,t)}if(r){if(!(i=p.comps[r]))return n(null,t);var f=i[0];if(4==f)(r=i[2])||(u=p.element,r=p.pathSeg,(p=u.props["hookTo."])||(p=(p=u.widget)&&p.parent));else{if(3!=f)return n(null,t);if(0==(s-=1))return void o(p,a,t,!0,r);r=i[2]}}else u=p.element,r=p.pathSeg,(p=u.props["hookTo."])||(p=(p=u.widget)&&p.parent)}if(!u||!p||!c)return n(null,t)}for(u=u.widget;u&&s>0;){var h=u&&u.component;if(h&&h.props["isNavigator."]&&0==(s-=1))break;var d=u.parent;if(!d){s-=1,u=Re;break}u=d}if(u&&0==s)return void o(u,a,t,!1)}n(null,t)}function n(i,n){if(!i)return We.instantShow("error: can not find reference ("+n+")."),void r();l?i.props["childInline."]||We.instantShow("warning: reference target ("+n+") should be inline widget."):u(i.props.className,["rewgt-panel","rewgt-unit"])||We.instantShow("warning: reference target ("+n+") should be: panel, div, paragraph.");var o=e.$gui,a=t.slice(1),f=null,h=o.compIdx[t];if("number"==typeof h){f=o.comps[h];var d=o.compIdx[a];"number"!=typeof d?f&&(o.compIdx[a]=h,delete o.compIdx[t],o.removeNum+=1):(h=d,o.removeNum+=1)}if(!f)return We.instantShow("error: invalid linker ("+t+")."),void r();p.unshift(f.props);var g={},y={},_=0;i.props.style&&(Object.assign(y,i.props.style),_+=1);for(var m=p.pop();m;){var b=v(m);b.style&&(Object.assign(y,b.style),_+=1),Object.assign(g,b),m=p.pop()}_&&(g.style=y),g["hookTo."]=e.widget,l?g["data-span.path"]=c:g["data-unit.path"]=c;var w=f.props.styles;if(w&&(g.styles=w),Re.__design__){var k={};g["link.props"]=Object.assign(k,v(f.props)),w&&(k.styles=w)}var O=parseInt(a),x=O+""===a?O:a;g.key=a,g["keyid."]=x,o.comps[h]=rt(i,g),e.setState({id__:s()},function(){var t=e.widget[x];(t=t&&t.component)&&se(t),r()})}function o(e,t,r,o,a){var s;if(e){if(!t){if(o)return n(e.element,r);var u=e.parent,c=e.component;return u=u&&u.component,u&&c&&"number"==typeof(w=u.$gui.compIdx[c.$gui.keyid])?n(c.fullClone(),r):n(null,r)}s=t.split(".")}else{if(!t||o)return n(null,r);if((s=t.split(".")).length<=1)return n(null,r);if(!(e=Re[s.shift()]))return n(null,r)}for(;e&&s.length;){var f=s.shift();if(!f)return n(null,r);var h=null,d=null,g="";if(o){if(Re.__design__)return n(null,r);d=e,a?(g=a,s.unshift(f)):g=f}else{if(!(h=e.component)&&(e===Re&&((e=Re[f])&&(h=e.component),f=s.shift()),!h||!f))return n(null,r);if((!Re.__design__||h.isLibGui)&&h.props["isTemplate."]){if(!(d=h.$gui.template))return n(null,r);g=f,h=null}}if(d){for(var v=d.comps[g];v;){var y=v[0],_=v[1];if(2==y){if(0!=s.length)break;var m=2==(O=_.props)["isReference."],b=O.$;if(O["hookTo."]===d&&"string"==typeof b){if(!(b=b.trim()))return n(null,b);if(l!=m&&We.instantShow("warning: reference type ("+r+") mismatch."),"/"==b[0]&&"/"==b[1]){if(b.indexOf("/",2)>=0)return n(null,b);(s=g.split(".")).pop(),g=s.join("."),s=b.slice(2).split("."),g&&(g+="."),g+=s.shift(),v=d.comps[g],p.push(O);continue}return p.push(O),void i(d,b,v[2])}break}if(4==y&&(_=(d=_).element),0==s.length)return n(_,r);4==y?g=s.shift():g+="."+s.shift(),v=d.comps[g]}return n(null,r)}if(0==s.length){var w=h.$gui.compIdx[f];if("number"==typeof w){var k=e[f];return k=k&&k.component,k?n(k.fullClone(),r):n(null,r)}if("number"==typeof(w=h.$gui.compIdx["$"+f])&&(_=h.$gui.comps[w])&&_.props["isReference."]){var O=_.props,m=2==O["isReference."];if("string"==typeof(b=O.$))return(b=b.trim())?(l!=m&&We.instantShow("warning: reference type ("+r+") mismatch."),p.push(O),void i(h,b,"")):n(null,b)}return n(null,r)}e=e[f]}n(null,r)}var a,l=!1,p=[],c="",f=e.$gui.compIdx[t];if(e.widget&&"number"==typeof f&&"$"==t[0]&&(a=e.$gui.comps[f])&&a.props["isReference."]){var h=a.props;2==h["isReference."]&&(l=!0),"string"!=typeof(c=h.$)||0==(c=c.trim()).length?(""!==c&&console.log("warning: load reference ("+t+") failed: invalid path"),r()):c?i(e,c,""):n(null,c)}else console.log("warning: load reference ("+t+") failed."),r()}function ie(e){function t(e){e.target.style.opacity="0.1"}function r(e){e.target.style.opacity="0"}var i=this.pageIndex=0,n=this.keys=[],o=this.namedPage={};e.forEach(function(e,t){n.push(e[0]+"");var r=e[1],a=t==i?"block":"none";r.state.style.display!==a&&(r.duals.style={display:a});var s=r.props.name;s&&"string"==typeof s&&(o[s]=t)});var a=window.innerWidth,s=Math.max(Math.floor(a/20),20),l=document.createElement("div");l.setAttribute("style","position:absolute; left:0px; top:0px; width:"+s+"px; height:100%; background-color:#000; opacity:0; z-index:3000;"),document.body.appendChild(l);var u=document.createElement("div");u.setAttribute("style","position:absolute; right:0px; top:0px; width:"+s+"px; height:100%; background-color:#000; opacity:0; z-index:3000;"),document.body.appendChild(u),this.leftPanel=l,this.rightPanel=u;var p=this;l.onclick=function(e){p.prevPage()},u.onclick=function(e){p.nextPage()},l.onmouseover=t,l.onmouseout=r,u.onmouseover=t,u.onmouseout=r}function ne(){var e=[],t=Ue&&Ue.component;return t&&(t.$gui.comps||[]).forEach(function(t){if(t){var r=g(t),i=r&&Ue[r];(i=i&&i.component)&&i.props["isScenePage."]&&(!Re.__design__&&i.props.noShow||e.push([r,i]))}}),e}function oe(e,t,r,i){if("number"!=typeof i)return null;var n,o,a=i,s=e.$gui;if(e.state?(n=e.state.sizes,o=parseFloat(e.state.cellSpacing)||0):(n=e.props.sizes,o=parseFloat(e.props.cellSpacing)||0),Array.isArray(n)){for(var l=n.length,u=0;u<l;u++){if("number"!=typeof(f=n[u]))return null;f>=0&&(a-=f>=1?f:f>=.9999?i:f*i)}return a-=o*(l+1),a<0?null:a}for(var p=s.comps,l=p.length,u=0;u<l;u++){var c=p[u];if(c&&!c.props["isReference."]){var f,h=g(c),d=h&&t[h];if(d=d&&d.component,"number"!=typeof(f=d&&d.state?r?d.state.width:d.state.height:r?c.props.width:c.props.height))return null;f>=0&&(a-=f>=1?f:f>=.9999?i:f*i)}}return a-=o*(1+l),a<=0?null:a}function ae(e){e.popDesigner=B,e.saveDesigner=V,e.dumpTree=F,e.loadTree=Y,e.streamTree=K,e.listScenePage=ne,e.keyOfNode=function(e){return a(e)},e.splitterMouseDn=function(){return Ze}}function se(e,t){var r=tt(e);if(r){for(var i=[],n=r.querySelectorAll(".rewgt-static"),o=0;l=n[o];o++){for(var a=l.parentNode,s=!1;a&&a!==document;){if(a===r){s=!0;break}if(a.classList.contains("rewgt-static"))break;a=a.parentNode}if(s){p=(c=l.getAttribute("name")||void 0)&&parseInt(c);if(!isNaN(p)){if(l.children.length>0){if(!(t&&p>=1048576))continue;l.innerHTML=""}i.push([p,c,l])}}}for(var l,o=0;l=i[o];o++){var u,p=l[0],c=l[1],f=l[2],h=p>=1048576;if(h){var d=e.$gui.statics;u=d&&d[c]}else u=Re.$staticNodes[p];if(Array.isArray(u))for(var g,v=0;g=u[v];v++)f.appendChild(h?g:g.cloneNode(!0))}}}function le(e,t,r){function i(){r&&r()}var n=e.widget;if(!n)return i();var o=!1,a=e.$gui,l=a.cssWidth,u=a.cssHeight,p=a.useSparedX;if(p){var c=oe(e,n,!0,l);a.sparedX!==c?(a.sparedX=c,"number"==typeof c&&(o=!0)):t&&(o=!0)}else if(a.useSparedY){var f=oe(e,n,!1,u);a.sparedY!==f?(a.sparedY=f,"number"==typeof f&&(o=!0)):t&&(o=!0)}if(!o)return i();if("number"!=typeof l&&"number"!=typeof u)return i();var h=[];a.comps.forEach(function(e){if(e){var t=g(e);if(t){var r=n[t];if(r=r&&r.component){var i=p?r.state.width:r.state.height;"number"==typeof i&&i<0&&h.push(r)}}}}),h.length&&setTimeout(function(){var e=We.dragInfo.inDragging;h.forEach(function(t){t.willResizing&&!t.willResizing(l,u,e)||t.setState({parentWidth:l,parentHeight:u,id__:s()})})},0),i()}function ue(e,t){var r=!1;if(e){var i=void 0===e?"undefined":Ae(e);if("string"==i)e=[e],r=!0;else if("object"==i)if(Array.isArray(e)){var n;"string"==typeof e[0]&&"object"==Ae(n=e[1])&&"string"!=typeof n.$trigger&&(e=[e]),r=!0}else"string"==typeof e.$trigger&&(e=[e],r=!0)}if(!r)throw new Error("invalid trigger data (key="+this.$gui.keyid+")");this.state.trigger=e}function pe(e,t){Array.isArray(e)&&function(e,t,r){for(var i=[],n=[],o=t.length-1;o>=0;o--){var a=t[o];if(Array.isArray(a)){var s=a[0],l=a[1];if(s&&"string"==typeof s&&l)if("string"==typeof l)l=a[1]=it(Ct,{key:s,"keyid.":s,"html.":l}),i.unshift(s),n.unshift(l);else if(Ne.isValidElement(l))l.props["keyid."]!==s&&(l=a[1]=rt(l,{key:s,"keyid.":s})),i.unshift(s),n.unshift(l);else{if(Array.isArray(l)&&l[0]&&(l=We.loadElement(l))){l.props["keyid."]!==s&&(l=rt(l,{key:s,"keyid.":s})),a[1]=l,i.unshift(s),n.unshift(l);continue}t.splice(o,1)}else t.splice(o,1)}}if(!Re.__design__){for(var u=[],o=r.length-1;o>=0;o--)s=(a=r[o])[0],i.indexOf(s)<0&&u.unshift("-"+s);(u=u.concat(n)).length&&setTimeout(function(){e.setChild.apply(e,u)},0)}}(this,e,t)}function ce(e,t){return function(e){function r(e,n){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e||t,n))}return n(r,e),Te(r,[{key:"getDefaultProps",value:function(){var e=Ie(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"getDefaultProps",this).call(this);return e["tagName."]=t.toLowerCase(),e}}]),r}(e)}function fe(e){e.stepPlay=function(e){if(this.isHooked){var t=tt(this);if(t&&t.readyState>=2)return t.play(),!0}return!1},e.stepPause=function(e){if(this.isHooked){var t=tt(this);if(t)return t.paused||t.pause(),!0}return!1},e.stepIsDone=function(){if(!this.isHooked)return!0;var e=tt(this);return!e||e.readyState<2||e.paused}}function he(e){if(H(e),e.hideThis)return it("span",rr);var t=_(e);if(e.$gui.syncValue){var r=tt(e);r&&r.value!==e.state.value&&(r.value=e.state.value)}var i=e.$gui.comps,n=i.length?i:e.state["html."];return it(e.state["tagName."],t,n)}function de(e,t,r){function i(t,r){if(t||0===t){var i=e.widget;if(i=i&&i[t],(i=i&&i.component)&&i.navWillLeave){var n=i.navWillLeave();if(!n||"string"==typeof n&&!window.confirm(n))return!0}}return!1}if(t){var n=e.$gui,o=n.navSubkey,a=e.state.checkedId;if(n.navItems[t]){if(!i(a,t))return e.state.checkedId=t,void e.reRender(r)}else if(o){var s=e.widget,l=s&&s[o];if((l=l&&l.component)&&l.props["isNavigator."]&&!i(a,t))return e.state.checkedId=t,void l.fireChecked(t,r)}e.state.checkedId=t}r&&r()}function ge(e,t){if(H(e),e.hideThis)return null;var r=e.widget,i=!1,n=void 0,o=(r=r&&r.parent)&&r.component;o&&o.props["isNavigator."]&&(n=o.state.checkedId||"",i=!0);var a=e.prepareState(),s=Object.assign({},e.state.style);i&&(n&&n==e.$gui.keyid?s.display="block":s.display="none"),a.length||2!=t||(a=e.state["html."]||null);var l=_(e,s);return it("div",l,a)}function ve(e){var t=e.widget;for(t=t&&t.parent;t;){var r=t.component;if(!r)break;if(r.props["isNavigator."])return r;t=t.parent}return null}function ye(e,t,r,i){if("string"==typeof t.path&&(t.state||(t.state={opened:!1}),r?(delete r.state,t=Object.assign({},t,r)):t=Object.assign({},t),!t.state.opened)){var n=t.path;n||(n="./"+this.$gui.keyid);var o=e.componentOf(n);if(o=o&&o.fullClone())return void We.popWin.showWindow(o,t,function(){e.duals["data-checked"]="1",i(!0)},e);We.instantShow("warning: can not locate popup window ("+n+").")}i(!1)}function _e(e,t){if(t||(t=e.findNavOwner()),t){var r=e.$gui.keyid;t.listOptComp().forEach(function(t){t!==e&&t.clearChecked&&t.$gui.keyid!==r&&t.clearChecked()})}}function me(e,t,r,i){function n(){s&&(_e(e,l),e.fireTrigger()),t&&t()}var o=e.state.popOption;if(o){if(!o.state||!o.state.opened)return void ye(e,o,r,function(e){t&&t()});if(!i)return}if(!e.state["data-checked"])return e.duals["data-checked"]="1",void(t&&function(r){var i=r.shift();i?setTimeout(function(){e.state["data-checked"]?t():delayCall(r)},i):t()}([100,100,100]));var a=e.state.recheckable;a&&(e.state.recheckable=!1,setTimeout(function(){e.state.recheckable=!0},300));var s=!1,l=null;if(e.state.isolated)return(i||a)&&(s=!0),void n();if(l=e.findNavOwner()){var u=e.$gui.keyid+"";if((l.state.checkedId!==u||i||a)&&(!l.canNavigateTo||l.canNavigateTo(u)))return(i||a)&&(s=!0),void de(l,u,n)}n()}function be(e,t){t.isolated=!1,e.defineDual("isolated",function(e,t){this.state.isolated="false"!==e&&"0"!==e&&!!e}),t.recheckable=!1,e.defineDual("recheckable",function(e,t){this.state.recheckable="false"!==e&&"0"!==e&&!!e}),e.defineDual("popOption"),t["data-checked"]="",e.defineDual("data-checked",function(t,r){var i="false"!==r&&"0"!==r&&r?"1":"",n="false"!==t&&"0"!==t&&t?"1":"";i!=n?n?(e.state["data-checked"]=n,setTimeout(function(){e.setChecked(null,void 0,!0)},0)):e.state["data-checked"]=n:e.state["data-checked"]=i})}function we(e,t){var r='[string]: "" or "1"';return e["data-checked"]=[t+1,"string",null,r],e.isolated=[t+2,"string",null,r],e.recheckable=[t+3,"string",null,r],e.trigger=[t+4,"string",null,"[string]: [sPath,{trigger,pop_option},[sPath,modifier], ...]"],e.popOption=[t+5,"object",null,"[object]: {path:bodyElePath}"],e}function ke(e,t){function r(e,t,i,n){var o=i[0],a=i[1],s=4==o?a.element.props.children:a.props.children;if(s){var l=n;3==o?l=t:4==o&&(e=a,l=t,t=""),Ne.Children.forEach(s,function(i,n){var o=i.props["keyid."];if(!o&&0!==o){var a=g(i);if(a){var s=parseInt(a);o=s+""===a?s:a}else o=n}var u=o+"",p=1,c=rt(i,{"keyid.":o,key:u,"hookTo.":e}),f=t?t+"."+u:u;i.props["isTemplate."]?(p=4,(c=new te(c)).pathSeg=f):i.props["isNavigator."]?p=3:i.props["isReference."]&&(p=2);var h=[p,c,l];e.comps[f]=h,2!=p&&r(e,f,h,l)})}}var i=g(t);if(!i)return!1;var n,o=parseInt(i),a=o+""===i?o:i,s=1;t.props["isReference."]?(s=2,"$"==i[0]&&(i=i.slice(1),(o=parseInt(i))+""==i&&(a=o)),n=rt(t,{"hookTo.":e,"keyid.":a,key:i})):(n=rt(t,{"hookTo.":e,"keyid.":a,key:i}),t.props["isTemplate."]?(s=4,(n=new te(n)).pathSeg=i):t.props["isNavigator."]&&(s=3));var l=[s,n,""];return e.comps[i]=l,2!=s&&r(e,i,l,""),!0}function Oe(e){var t=e.widget,r=null;if(t=t&&t.parent){var i=t.component;if(i){var n=i.$gui.compIdx[e.$gui.keyid];if("number"==typeof n){var o=i.$gui.comps[n];o&&(r=new te(o))}}}if(!r)return!1;e.$gui.template=r;for(var a=e.$gui.comps,s=a.length,l=0;l<s;l++){var u=a[l];u&&ke(r,u)}return!0}function xe(e){var t="";if(e.forExpr?(t="for",e.forExpr=0):e.flowFlag&&(t=e.flowFlag,e.flowFlag=""),t){console.log("error: can not use '$"+t+"' in template widget");var r=e.exprAttrs.indexOf(t);r>=0&&e.exprAttrs.splice(r,1)}}function $e(e,t){if(!t||"string"!=typeof t)return null;var r=t[0];if("."!=r&&"/"!=r){var i=e.$gui.template;if(!i)return null;for(var n=t.split("."),o=n.shift(),a=i.comps[o];a;){var s=a[0],l=a[1];if(2==s)return 0==n.length?l:null;if(4==s){if(0==n.length)return null;l=(i=l).element,o=n.shift(),a=i.comps[o]}else{if(0==n.length)return l;o+="."+n.shift(),a=i.comps[o]}}}else{var u=t.lastIndexOf("./");if(u>=0)return(c=e.componentOf(t.slice(0,u+2)))?c.elementOf(t.slice(u+2)):null;if("."==r){if((u=t.indexOf(".",1))>1){var p=Re.W(t.slice(0,u)),c=p&&p.component;if(c)return c.elementOf(t.slice(u+1))}}else if("/"==r&&"/"==t[1]){var f=e.parentOf();return f?f.elementOf(t.slice(2)):null}}return null}function Pe(e){e.stopPropagation()}function Se(){function e(t,r){Object.keys(t).forEach(function(i){if(i&&"_"!=i[i.length-1]){var n=t[i];if("object"==(void 0===n?"undefined":Ae(n)))if(n.getDefaultProps){var o=n.getDefaultProps(),a=1;o["childInline."]&&(a=u(o.className||"","rewgt-unit")?2:3),3!=a&&(Lr[r+i]=a),o["isPre."]&&(zr[r+i]=!0)}else e(n,r+i+".")}})}return Lr||(Lr={},zr={},e(He,"")),[Lr,zr]}function je(e,t,r){for(var i,n=[],o=[],a=0;i=e.children[a];a++){var s=ze.scanNodeAttr(i,t,a);if(s){var l=s[0],u=s[1];if("RefDiv"==l)n.push(it(Er,u));else if("RefSpan"==l)n.push(it(Rr,u));else{var p,c=l.split(".");if(1==c.length&&(p=l[0])>="a"&&p<="z"){var f=u["html."]||null;delete u["html."],delete u["isPre."],n.push(it(h,u,f))}else{var h=k(l)[c.pop()],d=t+"["+a+"]."+l;if(!h){console.log("error: can not find WTC ("+d+")");continue}var g=i.nodeName,v=[];"DIV"!=g&&"SPAN"!=g||(v=je(i,d,r)),v.unshift(h,u),n.push(it.apply(null,v))}}}else if(i.classList.contains("rewgt-static"))for(var y,_=0;y=i.childNodes[_];_++)o.push(y);else o.push(i)}if(0==n.length&&o.length){var m={className:"rewgt-static",name:Re.$staticNodes.push(o)-1+""};r||(m["data-marked"]="1"),n.push(it("div",m))}return n}function De(e,t,r){function i(t){o.removeNum+=o.comps.length,o.compIdx={},o.comps=[],o.statics={},a&&(e.firstScan=!0,e.cellKeys={},e.cellStyles={});for(var i,s=[],l=[],p=0;i=t.children[p];p++){var f=i.getAttribute("$"),h=i.nodeName;if(!f||"PRE"!=h&&"DIV"!=h){if(!f)if(a)if(c.length&&(n(o,c),c=[]),"HR"==h){I=it("hr",{"markedRow.":!0});o.comps.push(I),a&&(s.push(l),l=[])}else c.push(i);else c.push(i)}else{c.length&&(n(o,c),c=[]);var d=ze.scanNodeAttr(i,"",0),g=d&&d[0];if(!d||"RefSpan"===g){console.log("error: invalid node (<"+h+" $="+f+">)");continue}var v,y=d[1],_="RefDiv"!=g,m=!1,b=null,w=null;if(_){var O,x=g.split(".");if(1==x.length&&(O=g[0])>="a"&&O<="z")m=!0,v=g;else{if(!(v=k(g)[x.pop()])){console.log("error: can not find WTC ("+g+")");continue}v.defaultProps&&!u(v.defaultProps.className||"",["rewgt-panel","rewgt-unit"])&&(b=v,w=y,v=Ct,y={})}}else v=Er;var $,P=o.comps.length,S=y.key,j="",D="";S&&"string"==typeof S&&0!=S.search(Fr)?(j=D=S,_||"$"==S[0]||(S="$"+S),$=S):(D=$="auto"+(P+o.removeNum),S=_?$:$="$"+$);var I;if(m){y.key=S;var T=y["html."]||null;delete y["html."],delete y["isPre."],I=it(v,y,T)}else{Object.assign(y,{"hookTo.":e.widget,"keyid.":$,key:S}),_||(y.style?y.style.display="":y.style={display:""});var A=[];"DIV"==h&&(A=je(i,"["+p+"]."+g,!1)),b&&(A.unshift(b,w),A=[it.apply(null,A)]),A.unshift(v,y),I=it.apply(null,A)}o.compIdx[S]=P,o.comps.push(I),j&&(a?s[j]=I:l[j]=I),l.push([D,I]),Xe&&!_&&Je.push([e,S])}}c.length&&n(o,c),a?l.length&&s.push(l):s=l,r&&setTimeout(function(){r(!0,s)},0)}function n(e,t){if(!s){var r=e.comps.length,i=1048576+e.removeNum+r+"",n=r+e.removeNum+"",o={className:"rewgt-static",name:i,key:n};e.compIdx[n]=r,e.comps.push(it("div",o)),e.statics[i]=t}}var o=e.$gui,a=e.props["markedTable."],s=e.props.noShow;try{var l=We.marked(t),p=document.createElement("div"),c=[];p.innerHTML=l;var f=[];o.comps.forEach(function(e){if(e&&e.props["hookTo."]){var t=g(e);t&&f.push("-"+t)}}),f.length&&e.isHooked?e.setChild(f,function(){i(p)}):i(p)}catch(e){console.log(e),r&&r(!1)}}var Ie=function e(t,r,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},Te=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne=window.React||e("react"),Ee=window.ReactDOM||e("react-dom"),Ce=Ne.createClass;Ce||console.log("fatal error: invalid React.createClass");var Re=e("./react_widget"),He=Re.$templates,We=Re.$utils,Me=Re.$ex,Le=Re.$idSetter,ze=Re.$creator;!function(e){var t=e.pathname.split("/");t[0]||t.shift(),ze.repoName=t.shift()||"";var r=e.hostname;ze.isLocal="localhost"==r||"127.0.0.1"==r,ze.isGithub=r.indexOf(".github.io")>0,ze.appBase=function(){return"/app/files/rewgt/web"}}(window.location),We.version=function(){return"1.0.3"};var Fe=function(e){var t=e.match(/trident.*rv[ :]*([\d.]+)/);if(t){if(parseFloat(t[1])>=11)return["ie",t[1]]}else{if(t=e.match(/firefox\/([\d.]+)/))return["firefox",t[1]];if(t=e.match(/chrome\/([\d.]+)/))return["chrome",t[1]];if(t=e.match(/opera.([\d.]+)/))return["opera",t[1]];if(t=e.match(/safari\/([\d.]+)/))return["safari",t[1]];if(t=e.match(/webkit\/([\d.]+)/))return["webkit",t[1]]}return e.match(/msie ([\d.]+)/)?["ie",""]:["",""]}(window.navigator.userAgent.toLowerCase());We.vendorId=Fe;var Be=/[^A-Za-z0-9\+\/\=]/g,Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",qe=We.Base64={encode:function(e){var t,r,i,n,o,a,s,l="",u=0;for(e=qe._utf8_encode(e);u<e.length;)n=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(r=e.charCodeAt(u++))>>4,a=(15&r)<<2|(i=e.charCodeAt(u++))>>6,s=63&i,isNaN(r)?a=s=64:isNaN(i)&&(s=64),l=l+Ve.charAt(n)+Ve.charAt(o)+Ve.charAt(a)+Ve.charAt(s);return l},decode:function(e){var t,r,i,n,o,a,s="",l=0;for(e=e.replace(Be,"");l<e.length;)t=Ve.indexOf(e.charAt(l++))<<2|(n=Ve.indexOf(e.charAt(l++)))>>4,r=(15&n)<<4|(o=Ve.indexOf(e.charAt(l++)))>>2,i=(3&o)<<6|(a=Ve.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=o&&(s+=String.fromCharCode(r)),64!=a&&(s+=String.fromCharCode(i));return s=qe._utf8_decode(s)},_utf8_encode:function(e){for(var t="",r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t,r,i,n=0,o="";n<e.length;)(t=e.charCodeAt(n))<128?(o+=String.fromCharCode(t),n++):t>191&&t<224?(r=e.charCodeAt(n+1),o+=String.fromCharCode((31&t)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),i=e.charCodeAt(n+2),o+=String.fromCharCode((15&t)<<12|(63&r)<<6|63&i),n+=3);return o}},Ge=null,Ue=null,Xe=!0,Ye=!1,Ke=!1,Je=[],Ze=!1,Qe="",et=null,tt=Ee.findDOMNode,rt=Ne.cloneElement,it=Ne.createElement,nt=Ne.Children.toArray,ot={$:!0,styles:!0,"tagName.":!0,"isReference.":!0,"hookTo.":!0,width:!0,height:!0,className:!0,"childInline.":!0},at=["for","if","elif","else"];We.keyOfNode=function(e){return a(e)},We.dragInfo={inDragging:!1,justResized:!1};var st=4;We.identicalId=s,We.classNameOf=l,We.hasClass=function(e,t){return u(l(e),t)},We.addClass=function(e,t){for(var r=e.state.klass||"",i=" "+(e.$gui.className||"")+" "+r+" ",n="",o=Array.isArray(t)?t:String(t).split(/ +/),a=o.length,s=0;s<a;s++){var l=o[s];l&&i.indexOf(" "+l+" ")<0&&(n+=" "+l)}return!!n&&(r?e.duals.klass+=n:e.duals.klass=n.slice(1),!0)},We.removeClass=function(e,t,r){var i=e.state.klass||"",n=f(e.$gui.className||"",i,t,r);return i!==n&&(e.duals.klass=n,!0)},We.setClass=h;var lt=["S1","S2","S3","S4","S5","S6"];ze.mergeClass=function(e,t,r){var i=d(r);return f(e,t,i[0],i[1])},We.mergeClass=function(e,t){var r=d(t),i=r[0],n=r[1];return We.removeClass(e,i,n)};var ut=/^(\.\$)+/g;We.keyOfElement=g,We.getWdgtType=y,We.eachElement=function(e,t){if(!t){var r=[];return e.$gui.comps.forEach(function(e){e&&r.push(e)}),r}e.$gui.comps.forEach(function(e,r){e&&t(e,r)})},We.setElement=function(e,t,r){e.$gui.comps[t]=r},We.eachComponent=function(e,t){if(!t){var r=[];return We.eachComponent(e,function(e){r.push(e)}),r}var i=e.widget;i&&e.$gui.comps.forEach(function(e,r){if(e){var n=g(e),o=n&&i[n],a=o&&o.component;a&&t(a,r)}})},We.setupRenderProp=_,We.bindMountData=function(e){function t(e,t,r,i){return function(e,n){var o=this;if(!i.call(o,e,n)&&2==e)for(var a,s=0;a=t[s];s++)o.duals[a]=r[a]}}e||(e=Re.$dataSrc),e&&"object"==(void 0===e?"undefined":Ae(e))?Object.keys(Le).forEach(function(r){var i=Le[r];if("function"==typeof i){var n=e[r];if(n&&"object"==(void 0===n?"undefined":Ae(n))){var o=Object.assign({},n),a=o.__attr__;delete o.__attr__,Array.isArray(a)||(a=Object.keys(o));var s=t(r,a,o,i);Object.defineProperty(Le,r,{enumerable:!0,configurable:!0,get:function(){return s}})}}}):console.log("error: invalid W.$dataSrc")},We.fireTrigger=function(e){arguments.length>=2?m(void 0,e,arguments[1]):m(void 0,e)},We.setChildren=function(e,t,r){if(Array.isArray(t)){for(var i=[],n=t.length,o=0;o<n;o++){var a=t[o];Array.isArray(a)?U(i,a,Re.$staticNodes,Re.$cachedClass):"string"==typeof a?i.push(it(e.props["childInline."]?nr:Ct,{"html.":a})):Ne.isValidElement(a)&&i.push(a)}var s=e.$gui,l=0,u=0;i.forEach(function(e,t){var r=g(e);if(r)if("number"!=typeof s.compIdx[r]){if(e.props["tagName."]){var n=parseInt(r),o={key:r,"keyid.":n+""===r?n:r};i[t]=rt(e,o)}}else l+=1;else u+=1}),s.removeNum+=Math.max(0,s.comps.length-l)+u,s.comps=i,s.inSync?r&&setTimeout(function(){r()},0):s.compState>=2?e.setState({id__:b(e.state.id__)},r):setTimeout(function(){e.setState({id__:b(e.state.id__)},r)},0)}},We.getWTC=k;var pt={ie:"ms",firefox:"Moz",opera:"O",chrome:"Webkit",safari:"Webkit",webkit:"Webkit"};Me.regist("vendor",function(){return pt[Fe[0]]||""}),Me.regist("vendorId",function(){return"-"+(pt[Fe[0]]||"").toLowerCase()+"-"}),Me.regist("__design__",function(){return parseInt(Re.__design__||0)}),Me.regist("__debug__",function(){return parseInt(Re.__debug__||0)}),Me.regist("time",function(e){return(e?new Date(e):new Date).valueOf()}),Me.regist("isFalse",function(e){return!e}),Me.regist("isTrue",function(e){return!!e}),Me.regist("parseInt",function(e){return parseInt(e)}),Me.regist("parseFloat",function(e){return parseFloat(e)}),Me.regist("escape",function(e){return escape(e)}),Me.regist("unescape",function(e){return unescape(e)}),Me.regist("evalInfo",function(){var e=void 0,t=this.component;if(!t)return e;var r=t.widget,i=r&&r.$callspace;if(i&&(e=i.exprSpace.$info,i.forSpace)){var n=i.forSpace.exprSpace.$info;e?n&&n[2]>=e[2]&&(e=n):e=n}return e}),Me.regist("tagValue",function(e){if("object"!=(void 0===e?"undefined":Ae(e)))return e;var t,r=Object.assign({},e),i=r.$set;if(i){if("object"!=(void 0===i?"undefined":Ae(i)))return e;i=r.$set=Object.assign({},i)}else{if(!(i=r.$merge))return t=Me.time(),Object.keys(r).forEach(function(e){if("$"!=e[0]){var i=r[e];if("object"==(void 0===i?"undefined":Ae(i))){var n=(i=r[e]=Object.assign({},i)).$set;if(n){if("object"!=(void 0===n?"undefined":Ae(n)))return;(n=i.$set=Object.assign({},n)).time=t}else if(n=i.$merge){if("object"!=(void 0===n?"undefined":Ae(n)))return;(n=i.$merge=Object.assign({},n)).time=t}else i.hasOwnProperty("value")&&(i.time={$set:t})}}}),r;if("object"!=(void 0===i?"undefined":Ae(i)))return e;i=r.$merge=Object.assign({},i)}return t=Me.time(),Object.keys(i).forEach(function(e){if("$"!=e[0]){var r=i[e];"object"==(void 0===r?"undefined":Ae(r))&&(r.time=t)}}),r}),Me.regist("tagFired",function(){var e=arguments.length;if(e<2)return"";var t,r=arguments[0];for(t=1;t<e;t++){var i=r[arguments[t]];if(!i||!i.time)return""}for(t=1;t<e;t++)r[arguments[t]].time=0;return"true"}),Me.regist("setChecked",function(e,t){var r=this.evalInfo(),i=r&&r[0];if(i){var n=ee(i,e);n&&n.props["isOption."]&&n.setChecked(null,t)}}),Me.regist("setVar",function(e,t){if(!e||"string"!=typeof e)return t;var r=O(this,this.component);return r?r[e]=t:console.log("warning: invalid callspace for ex.setVar("+e+")"),t}),Me.regist("log",function(){var e=this.evalInfo(),t="";if(e)try{var r=e[0],i=r&&r.widget;i&&(t=i.getPath()+":"+e[1])}catch(e){}var n,o=arguments.length;if(n=t?"ex("+t+")>":"ex>",o<=0)t&&console.log(n);else{for(var a=0;a<o;a++)n+=" "+arguments[a];console.log(n)}}),Me.regist("map",function(e,t){if(!Array.isArray(e))return[];var r=e.length;if(!r)return[];if(!t||"string"!=typeof t)return e.slice(0);var i=j(t,null,"map");if(!i)return[];61==i[0]&&(i=i[1][2]);var n=O(this,this.component);n?A(i,[]):n={};var o=[];n.$count=r;for(var a=0;a<r;a++){n.$item=e[a],n.$index=a;try{o.push(S(i,n))}catch(e){console.log("error: run map() failed ($index="+a+")"),console.log(e)}}return delete n.$item,delete n.$index,delete n.$count,o}),Me.regist("filter",function(e,t){if(!Array.isArray(e))return[];var r=e.length;if(!r)return[];t&&"string"==typeof t||(t="$item !== null");var i=j(t,null,"filter");if(!i)return[];61==i[0]&&(i=i[1][2]);var n=O(this,this.component);n?A(i,[]):n={};var o=[];n.$count=r;for(var a=0;a<r;a++){var s=n.$item=e[a];n.$index=a;try{S(i,n)&&o.push(s)}catch(e){console.log("error: run filter() failed ($index="+a+")"),console.log(e)}}return delete n.$item,delete n.$index,delete n.$count,o}),Me.regist("order",function(e){function t(e,t){for(var r,i=e,n=0;(r=t[n++])&&i;)i=i[r];return i}if(!Array.isArray(e))return e;var r,i=null,n=arguments.length,o=!0;n>=2&&("number"==typeof(r=arguments[n-1])?(r<0&&(o=!1),n-=1):2==n&&Array.isArray(r)&&(n=(i=r).length)>=1&&"number"==typeof(r=i[n-1])&&(r<0&&(o=!1),n-=1));var a=[];if(i)for(s=0;s<n;s++)(r=i[s])&&"string"==typeof r&&a.push(r.split("."));else for(var s=1;s<n;s++)(r=arguments[s])&&"string"==typeof r&&a.push(r.split("."));var l=a.length,u=e.slice(0);return l?u.sort(function(e,r){for(var i,n=0;i=a[n];n++){var s=t(e,i),l=t(r,i);if(s!==l)return s>l?o?1:-1:o?-1:1}return 0}):u.sort(function(e,t){return o?e===t?0:e>t?1:-1:e===t?0:e>t?-1:1})}),Me.regist("jsonp",function(e,t){var r=this.evalInfo(),i=null,n="";return r&&(i=r[0],n=r[1],t&&i&&i.duals.hasOwnProperty(n)&&void 0===i.state[n]&&(i.duals[n]=t)),e=Object.assign({},e),e.callback=function(e){i&&n&&i.duals.hasOwnProperty(n)&&(i.duals[n]=e)},We.jsonp(e),i&&n?i.state[n]:void 0}),Me.regist("ajax",function(e,t){var r=this.evalInfo(),i=null,n="";return r&&(i=r[0],n=r[1],t&&i&&n&&i.duals.hasOwnProperty(n)&&void 0===i.state[n]&&(i.duals[n]=t)),e.success=function(e){i&&n&&i.duals.hasOwnProperty(n)&&(i.duals[n]={status:"success",data:e})},e.error=function(e,t){i&&n&&i.duals.hasOwnProperty(n)&&(i.duals[n]={status:t||"error",data:null})},We.ajax(e),i?i.state[n]:void 0}),x.defunct=function(e){throw new Error("Unexpected character ("+e+") at offset ("+(this.index-1)+")")};var ct=new x,ft=[];ct.addRule(/\s+/,function(e){return $(e,1,-1)}).addRule(/[0-9]+(?:\.[0-9]+)?\b/,function(e){return $(e,2,-1)}).addRule(/[_$A-Za-z](?:[_$A-Za-z0-9]+)?/,function(e){return $(e,3,-1)}).addRule(/(?:"((?:\\.|[^"])*)"|'((?:\\.|[^'])*)')/,function(e){return $(e,4,-1)}).addRule(/[?]/,function(e){return $(e,5,4)}).addRule(/[:]/,function(e){return $(e,6,-1)}).addRule(/[,]/,function(e){return $(e,7,-1)}).addRule(/[{]/,function(e){return $(e,8,-1)}).addRule(/[}]/,function(e){return $(e,9,-1)}).addRule(/[\[]/,function(e){return $(e,10,-1)}).addRule(/[\]]/,function(e){return $(e,11,-1)}).addRule(/[(]/,function(e){return $(e,12,-1)}).addRule(/[)]/,function(e){return $(e,13,-1)}).addRule(/[.]/,function(e){return $(e,14,18)}).addRule(/[*]/,function(e){return $(e,14,14)}).addRule(/[/]/,function(e){return $(e,14,14)}).addRule(/[%]/,function(e){return $(e,14,14)}).addRule(/[+]/,function(e){return $(e,14,13)}).addRule(/[-]/,function(e){return $(e,14,13)}).addRule(/[>]{3}/,function(e){return $(e,14,12)}).addRule(/[>]{2}/,function(e){return $(e,14,12)}).addRule(/[<]{2}/,function(e){return $(e,14,12)}).addRule(/[<][=]/,function(e){return $(e,14,11)}).addRule(/[<]/,function(e){return $(e,14,11)}).addRule(/[>][=]/,function(e){return $(e,14,11)}).addRule(/[>]/,function(e){return $(e,14,11)}).addRule(/[=]{3}/,function(e){return $(e,14,10)}).addRule(/[!][=]{2}/,function(e){return $(e,14,10)}).addRule(/[=]{2}/,function(e){return $(e,14,10)}).addRule(/[!][=]/,function(e){return $(e,14,10)}).addRule(/[&]{2}/,function(e){return $(e,14,6)}).addRule(/[&]/,function(e){return $(e,14,9)}).addRule(/[\^]/,function(e){return $(e,14,8)}).addRule(/[|]{2}/,function(e){return $(e,14,5)}).addRule(/[|]/,function(e){return $(e,14,7)}).addRule(/$/,function(e){return $(e,20,-1)});var ht=[2,3,4,9,11,13,31,32,33,34,35,36,37,38,39,40,41,42,43],dt=1,gt=["props","state","duals","item","count","index"],vt=0;We.syncProps=H,We.popWin={showWindow:function(e,t,r,i){if(Re.__design__&&(Xe||Ye))r&&r();else{var n=Ue&&Ue.$pop,o=n&&n.component;if(o&&e)if(u(e.props.className,["rewgt-panel","rewgt-unit"])){var a=t.frameElement||null;!a&&i&&(a=W(i,t));var s=void 0;i&&i.props["isOption."]&&i.state.hasOwnProperty("data-checked")&&(s=i.state["data-checked"]),o.setChild(it(Mr,{popOption:t,popFrame:a},e),function(){Re.__design__&&(Ge&&Ge.setDesignModal&&Ge.setDesignModal(!0),void 0!==s&&i&&setTimeout(function(){i.state["data-checked"]=s},300)),r&&r()})}else We.instantShow("error: only panel, div, paragraph can use as popup window.")}},listWindow:function(){var e=Ue&&Ue.$pop,t=e&&e.component;if(!t)return[];var r=[];return t.$gui.comps.forEach(function(e){if(e){var t=g(e);if(t){var i=parseInt(t);i+""===t&&(t=i),r.push([t,e.props.popOption])}}}),r},closeAll:function(e){function t(){e&&e()}var r=Ue&&Ue.$pop,i=r&&r.component;if(!i)return t();var n=[];i.$gui.comps.length;if(i.$gui.comps.forEach(function(e){if(e){var t=g(e);t&&n.unshift("-"+t)}}),!n.length)return t();n.push(t),i.setChild.apply(i,n)},popWindow:function(e){var t=Ue&&Ue.$pop,r=t&&t.component;if(r){for(var i=null,n=r.$gui.comps,o=n.length-1;o>=0;){var a=n[o],s=a&&g(a);if(s&&(a=t[s])&&(i=a.component))break;o-=1}if(i){i.props.optPath;var l=i.$gui.keyid,u=i.state.popOption;if(0==arguments.length){var p=u&&u.beforeClose;"function"==typeof p&&(e=p())}var c=u&&u.callback;r.setChild("-"+l,function(){"function"==typeof c&&c(e)})}}}},ze.getCompRenewProp=M,ze.deepCloneReactEle=L;var yt=null,_t=0;ze.staticMouseDown=q,ze.staticDbClick=G,We.loadElement=function(){var e=[],t=arguments.length;if(1==t)return U(e,arguments[0],Re.$staticNodes,Re.$cachedClass),1==e.length?e[0]:null;if(0==t)return null;for(var r=0;r<t;r++)U(e,arguments[r],Re.$staticNodes,Re.$cachedClass),e.length<=r&&e.push(null);return e},We.loadElementEx=function(e){var t=[],r=arguments.length;if(e=e||"",2==r)return U(t,arguments[1],Re.$staticNodes,Re.$cachedClass,e),1==t.length?t[0]:null;if(r<=1)return null;for(var i=1;i<r;i++)U(t,arguments[i],Re.$staticNodes,Re.$cachedClass,e),t.length<i&&t.push(null);return t},We.setVendorLib=function(e,t){function r(r){if(r){var i=n&&n.widget;"body"!==e&&i&&(Re[e]=i)}t&&t(n)}var i=Ue&&Ue.component;if(i&&e&&t){var n=null,o="$$"+e;(n=i.componentOf(o))?r(!0):i.setChild(We.loadElement(["TempPanel",{key:o}]),function(){n=i.componentOf(o),r(!0)})}},We.propagateResizing=X;var mt=/([A-Z])/g;We.gotoHash=function(e,t,r){function i(e){var r="";e||(r=o.join("/")),t&&t(r)}function n(e,t){if(!e||!t)return i(!0);if("!"==t[0]&&0==c.length){var r=null,a=t.slice(1);if(a&&a.indexOf('"')<0)try{(r=document.querySelector('a[name="'+a+'"]'))&&(o.push(t),r.scrollIntoView(!0))}catch(e){}return i(!r)}var s,l=J(e,t);if(!l||!(s=l.component))return We.instantShow("warning: can not find navigator widget ("+o.join("/")+"/"+t+")."),i(!0);s.fireChecked(t,function(){return s.state.checkedId!==t?i(!0):(o.push(t),0==c.length?i(!1):void n(l[t],c.shift()))})}var o=[""],a=r||Ue;if(e&&(e="#"==e[0]?e.slice(1).trim():e.trim()),!e||!a)return i(!0);var s=e[0];if("!"==s){var l=null;try{var u=e.slice(1);u&&u.indexOf('"')<0&&(l=document.querySelector('a[name="'+u+'"]'))&&(o.push(e),l.scrollIntoView(!0))}catch(e){}return i(!l)}if("/"!=s){var p=We.pageCtrl;return void(p&&p.gotoPage?p.gotoPage(e,t):t&&t(""))}var c=e.slice(1).split("/");n(a,c.shift())},ze.pathLevelInfo=Q,ie.prototype={gotoPage_:function(e,t){var r="",i=null;return e.forEach(function(e,n){var o=Ue&&Ue[e],a=o&&o.component;if(a){var s="none";n==t&&(s="block",r=e,i=o),a.state.style.display!=s&&(a.duals.style={display:s})}}),i&&(this.pageIndex=t),[r,i]},gotoPage:function(e,t){function r(){i&&n&&o?We.gotoHash(n,function(e){t&&t(e?i+e:"")},o):t&&t(i+n)}if(this.keys.length){var i="",n="",o=null,a=void 0===e?"undefined":Ae(e);if("string"==a&&e){"#"==e[0]&&(e=e.slice(1));var s=e.indexOf("/");s>0&&(n=e.slice(s),e=e.slice(0,s));var l=parseInt(e);l+""==e&&(e=l,a="number")}if("string"==a&&e){var u=this.namedPage[e];if("number"!=typeof u)return n="",r();e=u}else if("number"!=a)return n="",r();var p=this.keys.length;if(!p)return r();e>=p&&(e=p-1),e<0&&(e=0);var c=this.gotoPage_(this.keys,e);i=c[0],(o=c[1])||(n=""),r()}else t&&t("")},prevPage:function(){return this.gotoPage(this.pageIndex-1)},nextPage:function(){return this.gotoPage(this.pageIndex+1)},renewPages:function(e){var t=[],r={};e.forEach(function(e){var i=e[0];parseInt(i)+""!==i&&(r[i]=t.length),t.push(i)});var i=this.keys[this.pageIndex],n=!0;if("string"==typeof i){var o=t.indexOf(i);o>=0&&(this.pageIndex=o,n=!0)}this.keys=t,this.namedPage=r,n||(t.length?this.gotoPage(0):this.pageIndex=0)},setDisplay:function(e){function t(e){return(e=Math.max(e||0,0))<.9999?e*=window.innerWidth:e<1&&(e=window.innerWidth),e}e.hasOwnProperty("leftCtrlWidth")&&(this.leftPanel.style.width=t(e.leftCtrlWidth)+"px"),e.hasOwnProperty("rightCtrlWidth")&&(this.rightPanel.style.width=t(e.rightCtrlWidth)+"px")},destory:function(){this.leftPanel&&(this.leftPanel.parentNode.removeChild(this.leftPanel),this.leftPanel=null),this.rightPanel&&(this.rightPanel.parentNode.removeChild(this.rightPanel),this.rightPanel=null)}},ze.pageCtrl_=ie,Re.$main.$$onLoad_=function(e){function t(e){var r=Je.shift();r?re(r[0],r[1],function(){t(e)}):e()}function r(){var n=i.shift();n?n(r):t(function(){if(Ke=!1,Xe=!1,!Re.__design__&&Ge&&!We.pageCtrl){var t=ne();t.length&&(We.pageCtrl=new ie(t))}setTimeout(function(){if(Re.__design__)Re.$main.$onLoad=[],Re.$main.inRunning=!0,e&&e();else{var t,r=Re.$main.$onReady;if(Array.isArray(r))for(;t=r.shift();)t();else"function"==typeof r&&r();var i=Re.$main.$onLoad;if(Array.isArray(i))for(;t=i.shift();)t();Re.$main.inRunning=!0;var n=window.location.hash;n&&setTimeout(function(){We.gotoHash(n)},300)}},0)})}Ke=!0;var i=Re.$main.$$onLoading=(Re.$main.$$onLoad||[]).slice(0);r()};var bt=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({onCopy:!0,onCut:!0,onPaste:!0,onCompositionEnd:!0,onCompositionStart:!0,onCompositionUpdate:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0,onFocus:!0,onBlur:!0,onChange:!0,onInput:!0,onSubmit:!0,onClick:!0,onContextMenu:!0,onDoubleClick:!0,onDrag:!0,onDragEnd:!0,onDragEnter:!0,onDragExit:!0,onDragLeave:!0,onDragOver:!0,onDragStart:!0,onDrop:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOut:!0,onMouseOver:!0,onMouseUp:!0,onSelect:!0,onTouchCancel:!0,onTouchEnd:!0,onTouchMove:!0,onTouchStart:!0,onScroll:!0,onWheel:!0,onAbort:!0,onCanPlay:!0,onCanPlayThrough:!0,onDurationChange:!0,onEmptied:!0,onEncrypted:!0,onEnded:!0,onError:!0,onLoadedData:!0,onLoadedMetadata:!0,onLoadStart:!0,onPause:!0,onPlay:!0,onPlaying:!0,onProgress:!0,onRateChange:!0,onSeeked:!0,onSeeking:!0,onStalled:!0,onSuspend:!0,onTimeUpdate:!0,onVolumeChange:!0,onWaiting:!0,onLoad:!0},"onError",!0),wt={accept:1,acceptCharset:1,accessKey:1,action:1,allowFullScreen:1,allowTransparency:1,alt:1,async:1,autoComplete:1,autoFocus:1,autoPlay:1,capture:1,cellPadding:1,cellSpacing:1,challenge:1,charSet:1,checked:1,cite:1,classID:1,colSpan:1,cols:1,content:1,contentEditable:1,contextMenu:1,controls:1,coords:1,crossOrigin:1,data:1,dateTime:1,default:1,defer:1,dir:1,disabled:1,download:1,draggable:1,encType:1,form:1,formAction:1,formEncType:1,formMethod:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:1,hidden:1,high:1,href:1,hrefLang:1,htmlFor:1,httpEquiv:1,icon:1,id:1,inputMode:1,integrity:1,is:1,keyParams:1,keyType:1,kind:1,label:1,lang:1,list:1,loop:1,low:1,manifest:1,marginHeight:1,marginWidth:1,max:1,maxLength:1,media:1,mediaGroup:1,method:1,min:1,minLength:1,multiple:1,muted:1,name:1,noValidate:1,nonce:1,open:1,optimum:1,pattern:1,placeholder:1,poster:1,preload:1,profile:1,radioGroup:1,readOnly:1,rel:1,required:1,reversed:1,role:1,rowSpan:1,rows:1,sandbox:1,scope:1,scoped:1,scrolling:1,seamless:1,selected:1,shape:1,size:1,sizes:1,span:1,spellCheck:1,src:1,srcDoc:1,srcLang:1,srcSet:1,start:1,step:1,summary:1,tabIndex:1,target:1,title:1,type:1,useMap:1,value:1,wmode:1,wrap:1,about:2,datatype:2,inlist:2,prefix:2,property:2,resource:2,typeof:2,vocab:2,autoCapitalize:3,autoCorrect:3,color:3,itemProp:3,itemScope:3,itemType:3,itemRef:3,itemID:3,security:3,unselectable:3,results:3,autoSave:3,dangerouslySetInnerHTML:4,className:5,style:5,width:5,height:5};ze.renewWidgetSpared=le;var kt=/-(.)/g,Ot=function(){function e(t,r){o(this,e),this._className=t,this._classDesc=r||"",this._statedProp=["width","height","left","top"],this._silentProp=["className","hookTo.","keyid.","childInline.","tagName."],this._defaultProp={width:.9999,height:.9999,left:0,top:0},this._htmlText=!1,this._docUrl="doc"}return Te(e,[{key:"_desc",value:function(){return this._classDesc?"<"+this._className+":"+this._classDesc+">":"<"+this._className+">"}},{key:"_extend",value:function(e){if("string"==typeof e){if(Re.__design__)return null;(e=Re.$main[e])||console.log("warning: _extend('"+e+"') load nothing!")}var t=this._methods;if(!t){var r={},i={};t=this._methods={$eventset:[r,i]};for(var n={},o=Object.getPrototypeOf(this);o;){var a=Object.getPrototypeOf(o);if(!a)break;Object.getOwnPropertyNames(o).forEach(function(e){"_"!=e[0]&&(n[e]=!0)}),o=a}for(f in n)if("constructor"!=f){var s=this[f];if("function"==typeof s){if("$"==f[0]){var l=!1,u="$"==f[1]?(l=!0,f.slice(2)):f.slice(1);bt[u]&&(l?i[u]=!0:r[u]=!0)}t[f]=s}}t.getShadowTemplate=function(e){return function(){return e}}(this)}var p=Object.assign({},t),c=p.$eventset,r=Object.assign({},c[0]),i=Object.assign({},c[1]);p.$eventset=[r,i,this._className],e||(e={});for(var f,h=Object.keys(e),d=0;f=h[d];d++){var g=e[f];if("$"==f[0]&&"function"==typeof g){var l=!1,u="$"==f[1]?(l=!0,f.slice(2)):f.slice(1);bt[u]&&(l?i[u]=!0:r[u]=!0)}var v=p[f];"function"==typeof v&&"_"!=f[0]&&(p["_"+f]=function(e){return function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return e.apply(t,i)}}(v)),p[f]=g}return p}},{key:"_createClass",value:function(e){if(null===e){var t=w(this._className);return t||console.log("fatal error: invalid WTC ("+this._className+")"),t}return Ce(this._extend(e||{}))}},{key:"_getGroupOpt",value:function(e){return{type:"mono",editable:"all",baseUrl:ze.appBase(),tools:[]}}},{key:"_getSchema",value:function(e,t){var r,i="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels",n="[number]: N pixels",o="[any]: N pixels, [top_bottom,right_left], [top,right,bottom,left]",a={key:[-1,"string"],left:[(t=t||1200)+1,"any",null,i],top:[t+2,"any",null,i],width:[t+3,"any",null,i],height:[t+4,"any",null,i],minWidth:[t+5,"number",null,n],maxWidth:[t+6,"number",null,n],minHeight:[t+7,"number",null,n],maxHeight:[t+8,"number",null,n],borderWidth:[t+9,"any",null,o],padding:[t+10,"any",null,o],margin:[t+11,"any",null,o]};return e&&(r=e.parentOf())&&r.props["isTableRow."]&&(a.tdStyle=[t+12,"object",null,"[object]: style for parent (td)"]),a}},{key:"getDefaultProps",value:function(){return{width:.9999,height:.9999,"childInline.":!1,"tagName.":"div"}}},{key:"defineDual",value:function(e,t,r,i){var n=this.duals,o=this.$gui;if(o&&o.compState>=2)return console.log("error: can not define duals."+e+" after first render"),this;if(!n||!o)return this;void 0!==r&&o.initDuals0.push([e,r]);var a,s=Object.getOwnPropertyDescriptor(n,e),l=!1;return s?t?(a=R(this,e,s.set,t.bind(this),i),Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:s.get,set:a[1]})):i&&(l=!0):(t?a=R(this,e,null,t.bind(this),i):(i&&(l=!0),a=R(this,e,null)),Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:a[0],set:a[1]})),l&&console.log("warning: base.setter should use with setter."),this}},{key:"undefineDual",value:function(e){var t=this.$gui,r=this.duals;if(t&&t.compState>=2)return console.log("error: undefineDual("+e+") only can be called before first render"),this;if(!r||!t)return this;for(var i,n=[t.initDuals,t.initDuals0],o=0;i=n[o];o++)for(var a=i.length-1;a>=0;)i[a][0]===e&&i.splice(a,1),a-=1;return delete r[e],this}},{key:"setEvent",value:function(e){var t=this.$gui,r=t&&t.eventset;if(t&&r){if(t.compState>1)console.log("error: can not call setEvent() after first render.");else for(var i,n=Object.keys(e),o=0;i=n[o];o++)if("$"==i[0]){var a=i.slice(1),s=e[i];"function"==typeof s&&(r[a]||(r[a]=s.bind(this)),this[i]=s)}}else console.log("error: invalid state for setEvent().")}},{key:"getInitialState",value:function(){function e(e){if(!Array.isArray(e))return"number"==typeof e?[e,e,e,e]:[0,0,0,0];var t=e.length;if(0==t)return[0,0,0,0];if(1==t)return[r=parseFloat(e[0])||0,r,r,r];if(2==t)return[r=parseFloat(e[0])||0,i=parseFloat(e[1])||0,r,i];if(3==t){var r=parseFloat(e[0])||0,i=parseFloat(e[1])||0;return[r,i,parseFloat(e[2])||0,i]}return[parseFloat(e[0])||0,parseFloat(e[1])||0,parseFloat(e[2])||0,parseFloat(e[3])||0]}var t=this.getShadowTemplate();Object.defineProperty(this,"_",{enumerable:!1,configurable:!1,writable:!1,value:t}),this.isHooked=!1,this.hideThis=!1,this.duals={};var r=0==We.widgetNum(),i={inSync:!1,removeNum:0,className:this.props.className||"",compState:0,duals:{},initDuals:[],initDuals0:[],connectTo:{},connectBy:{},id__:0,id2__:0,sparedX:null,sparedY:null},n=i.eventset={},o=i.tagAttrs=[],a=i.dualAttrs={},s=i.dataset=[],l=i.exprAttrs=[],p="",f="",h="";i.forExpr=!1,i.hasIdSetter=!1;var d={},v=this.$eventset||[{},{}],y=v[0],_=v[1];delete this.$eventset;for(var m,b=null,w=Object.keys(this.props),k=0;m=w[k];k++)if(0==m.indexOf("data-"))"data-unit.path"!=m&&"data-span.path"!=m||(p=m,f=this.props[m]),s.push(m);else if(0==m.indexOf("dual-")){var O=m.slice(5).replace(kt,function(e,t){return t.toUpperCase()});O&&(a[O]=m)}else if(0==m.indexOf("aria-"))s.push(m);else if("$"==m[0]&&m.length>1){var x=this.props[m],$=void 0===x?"undefined":Ae(x);if("string"==$){if("$id__"!=m){var P=!1;"$for"==(m=m.slice(1))&&(m="for",P=!0),at.indexOf(m)>=0?"for"==m?(i.forExpr?console.log("warning: reduplicate property ($for)"):(i.forExpr=P?2:1,l.push(m)),r&&console.log("error: can not use '$for' in topmost widget")):h?console.log("error: property ($"+m+") conflict with previous ($"+h+")"):(h=m,"else"!=m&&l.push(m)):"children"==m?this.props.hasOwnProperty("for.index")&&(i.isChildExpr=!0,i.children2=this.props.children):"key"!=m&&l.push(m);continue}$=void 0===(x=Le[x])?"undefined":Ae(x)}if("function"==$){if("$"==m[1]){console.log("warning: invalid using props."+m);continue}"id__"==(m=m.slice(1))?(b=x,i.hasIdSetter=!0):_[m]||(d[m]=x.bind(this))}}else{var S=wt[m];S&&5!=S&&o.push(m)}i.flowFlag=h,i.dataset2=s.slice(0);for(var j in y)n[j]=this["$"+j];for(var j in d)n[j]=d[j];for(var j in _)n[j]=this["$$"+j];r&&(i.className=c(i.className,["rewgt-panel","row-reverse","reverse-row","col-reverse","reverse-col"])),Object.defineProperty(this,"$gui",{enumerable:!1,configurable:!1,writable:!1,value:i});var D={id__:0,childNumId:0,duals:[],"tagName.":this.props["tagName."],exprAttrs:l.slice(0)};if(Re.__design__){var T=t._getGroupOpt(this);D["data-group.opt"]=T.type+"/"+T.editable}var A=this.props["keyid."];if(r&&!A&&(A="body"),A){var N=void 0===A?"undefined":Ae(A);"string"!=N&&"number"!=N&&(A=void 0)}var E=this.props["hookTo."];r&&!E&&(E=Re),"string"==typeof E&&(E=Re.W(E)),Array.isArray(E)&&E.W&&(void 0!==A?E.$set(A,E.W(this)):A=E.push(E.W(this))-1,i.keyid=A),Object.assign(D,{left:0,top:0,width:null,height:null,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,borderWidth:[0,0,0,0],padding:[0,0,0,0],margin:[0,0,0,0],klass:"",style:{}});var R=i.isPanel=u(i.className,"rewgt-panel"),H=!1,W=!1,M=this.props["childInline."];if(M||r||!R||(u(i.className+" "+this.props.klass,["col-reverse","reverse-col"])?W=!0:H=!0),i.useSparedX=!1,i.useSparedY=!1,i.respared=!1,i.sparedTotal=0,i.compIdx={},i.comps=nt(this.props.children),Object.defineProperty(this.duals,"keyid",{enumerable:!0,configurable:!0,get:function(){return this.$gui.keyid}.bind(this),set:function(e,t){throw new Error("property (keyid) is readonly")}}),this.defineDual("klass",function(e,t){this.state.klass=e||""}),this.defineDual("style",function(e,t){this.state.style=Object.assign({},t,e)}),this.defineDual("left",function(e,t){this.state.left=isNaN(e)?null:e}),this.defineDual("top",function(e,t){this.state.top=isNaN(e)?null:e}),this.defineDual("width",function(e,t){var r,i=!1;if(isNaN(e)?r=null:(r=e,null!==e&&(i=!0)),this.state.width=r,i){var n=this.parentOf();n&&n.$gui.useSparedX&&le(n,!1)}}),this.defineDual("height",function(e,t){var r,i=!1;if(isNaN(e)?r=null:(r=e,null!==e&&(i=!0)),this.state.height=r,i){var n=this.parentOf();n&&n.$gui.useSparedY&&le(n,!1)}}),this.defineDual("minWidth",function(e,t){var r=e||0;r>0&&this.state.maxWidth>0&&this.state.maxWidth<r?console.log("warning: invalid widget minWidth or maxWidth"):this.state.minWidth=r}),this.defineDual("maxWidth",function(e,t){var r=e||0;r>0&&this.state.minWidth>0&&this.state.minWidth>r?console.log("warning: invalid widget minWidth or maxWidth"):this.state.maxWidth=r}),this.defineDual("minHeight",function(e,t){var r=e||0;r>0&&this.state.maxHeight>0&&this.state.maxHeight<r?console.log("warning: invalid widget minHeight or maxHeight"):this.state.minHeight=r}),this.defineDual("maxHeight",function(e,t){var r=e||0;r>0&&this.state.minHeight>0&&this.state.minHeight>r?console.log("warning: invalid widget minHeight or maxHeight"):this.state.maxHeight=r}),this.defineDual("borderWidth",function(t,r){var i=r||[0,0,0,0],n=this.state.borderWidth=e(t),o=!1;this.$gui.useSparedX?i[1]===n[1]&&i[3]===n[3]||(o=!0):this.$gui.useSparedY&&(i[0]===n[0]&&i[2]===n[2]||(o=!0)),o&&le(this,!1)}),this.defineDual("padding",function(t,r){var i=r||[0,0,0,0],n=this.state.padding=e(t),o=!1;this.$gui.useSparedX?i[1]===n[1]&&i[3]===n[3]||(o=!0):this.$gui.useSparedY&&(i[0]===n[0]&&i[2]===n[2]||(o=!0)),o&&le(this,!1)}),this.defineDual("margin",function(t,r){this.state.margin=e(t)}),this.defineDual("id__",function(e,t){this.state.id__=e,i.id__=i.id2__=e}),b&&this.defineDual("id__",b),this.defineDual("trigger",ue),this.defineDual("cellSpacing"),this.defineDual("sizes"),E){var L=E&&E.component;L&&(L.props["isTableRow."]&&(this.props.tdStyle&&this.defineDual("tdStyle",function(e,t){this.state.tdStyle=Object.assign({},t,e),setTimeout(function(){L.reRender()},0)},this.props.tdStyle),this.props.colSpan&&this.defineDual("colSpan",function(e,t){this.state.colSpan=e,setTimeout(function(){L.reRender()},0)},this.props.colSpan),this.props.rowSpan&&this.defineDual("rowSpan",function(e,t){this.state.rowSpan=e,setTimeout(function(){L.reRender()},0)},this.props.rowSpan)),L.props["isScenePage."]&&(i.inScene=!0))}i.cssWidth=null,i.cssHeight=null;var z=null,F=null,B=this.widget;if(E&&B)if(p&&(B.$callspace={flowFlag:"ref",forSpace:null},B.$callspace[p]=f,I(B.$callspace.exprSpace={},this)),r&&(Ue=ze.topmostWidget_=B,(Ge=ze.containNode_=document.getElementById("react-container"))||console.log("fatal error: can not find 'react-container' node.")),r&&Ge){Re.__design__&&(Ge.style.zIndex="3000",this.duals.style={zIndex:"-1000",overflow:"hidden"});var V=Ge.frameInfo;V||(V=Ge.frameInfo={topHi:0,leftWd:0,rightWd:0,bottomHi:0}),V.rootName="."+A;var U=function(){var e=Math.max(100,window.innerWidth-V.leftWd-V.rightWd),t=Math.max(100,window.innerHeight-V.topHi-V.bottomHi),r=this.state.innerSize,n=[e,t];if(this.setState({left:V.leftWd,top:V.topHi,parentWidth:e,parentHeight:t,innerSize:n}),this.duals.hasOwnProperty("innerSize")){var o=i.connectTo.innerSize;o&&i.compState>=2&&setTimeout(function(){C(o,n,r,"innerSize")},0)}}.bind(this);Ge.refreshFrame=U,ae(Ge);var X=function(){We.dragInfo.inDragging=!1,We.dragInfo.justResized=!0,setTimeout(function(){We.dragInfo.justResized=!1},1200),U()},Y=0;i.onWinResize=function(e){We.dragInfo.inDragging=!0,function(){Y&&clearTimeout(Y),Y=setTimeout(X,500)}(),U()},this.duals.style=Object.assign({},this.props.style,{position:"absolute"}),this.duals.left=V.leftWd,this.duals.top=V.topHi,z=Math.max(100,window.innerWidth-V.leftWd-V.rightWd),F=Math.max(100,window.innerHeight-V.topHi-V.bottomHi)}else{var K=E.component;K&&(z=K.$gui.cssWidth,F=K.$gui.cssHeight)}return D.parentWidth=z,D.parentHeight=F,this.defineDual("childNumId",function(e,t){var n=this,o=n.widget;if(o){var a=n.state.sizes,s=Array.isArray(a),l=i.compIdx,p=i.comps,c=n.props["isScenePage."],f=!1,h=!1,d=0,v=!1;p.forEach(function(e,t){if("string"==typeof e){if(0==t&&1==p.length&&n.duals.hasOwnProperty("html."))return n.state["html."]=e,void(v=!0);if(!M)return p[t]=void 0,void console.log("warning: can not add text element to panel ("+o.getPath()+")");e=p[t]=it(nr,{"html.":e})}else if(!e)return;var a,s=g(e),y=!1;if(s){var _=parseInt(s);a=_+""===s?_:s,"number"==typeof l[s]&&(y=!0)}else s=(a=t+i.removeNum)+"";if(u(e.props.className,"rewgt-static")){if(y)return void(l[a]=t);if(R)p[t]=void 0,console.log("warning: can not add rewgt-static to panel ("+o.getPath()+") directly.");else{var m=Object.assign({},e.props);m.key=s,!Re.__design__||n.props.$for||n.props.$$for||(m.onMouseDown=q,m.onDoubleClick=G.bind(n)),l[a]=t,p[t]=M?it("span",m):it("div",m)}}else{var b=e.props["childInline."];if(void 0===b)return l[a]=t,void(y||(p[t]=rt(e,{key:s})));if(M){if(!b)return console.log("error: can not add panel or div ("+s+") to paragraph ("+o.getPath()+")."),void(p[t]=void 0)}else if(!u(e.props.className,["rewgt-panel","rewgt-unit"]))return p[t]=void 0,void console.log("error: only panel, div, paragraph ("+a+") can add to panel or div ("+o.getPath()+").");var w=!1;e.props["isReference."]&&(w=!0,y||("$"!=s[0]&&(s=a="$"+s),Xe&&Je.push([n,a])));var k=e.props.width,O=e.props.height,x="number"!=typeof k,$="number"!=typeof O;if(H)x?f=!0:k<0&&!w&&(h=!0,d+=-k);else if(W)$?f=!0:O<0&&!w&&(h=!0,d+=-O);else{var P="";!x&&k<0?P="width":!$&&O<0&&(P="height"),P&&console.log("error: can not use negative "+P+" under widget ("+o.getPath()+")")}if(y&&e.props["hookTo."]!==o&&(y=!1),y)l[a]=t;else{var S={"hookTo.":o,key:s,"keyid.":a};if(M){var j=u(e.props.className,"rewgt-unit");if(!x&&k>=0){var D=k>=1?k+"px":k>=.9999?"100%":100*k+"%";S.style=Object.assign({},e.props.style,{width:D}),j&&(S.width=k)}else j&&(S.width=null);if(!$&&O>=0){var I=O>=1?O+"px":O>=.9999?"100%":100*O+"%";S.style=Object.assign({},e.props.style,{height:I}),j&&(S.height=O)}else j&&(S.height=null)}else S.width=x?null:k,S.height=$?null:O,r&&e.props["isScenePage."]&&e.props.noShow&&!Re.__design__&&(S["isTemplate."]=!0);if(c){var T=Object.assign({},e.props.style),A=(parseInt(T.zIndex)||0)+"";"0"!==A&&(T.zIndex=A),S.style=T}else Re.__debug__&&!r&&i.isPanel&&"absolute"==(S.style||{}).display&&console.log("warning: can not use 'display:absolute' under a panel");l[a]=t,p[t]=rt(e,S)}}}),v&&p.splice(0),s||(h&&!f?((d>0||i.useSparedX!=H||i.useSparedY!=W)&&(i.respared=!0),i.sparedTotal=d,i.useSparedX=H,i.useSparedY=W):(i.sparedTotal=0,i.useSparedX=!1,i.useSparedY=!1)),r&&0==t&&(l.$pop=p.length+i.removeNum,p.push(it(Ce(He.Panel._extend()),{"hookTo.":o,key:"$pop","keyid.":"$pop",left:0,top:0,width:0,height:0,style:{position:"absolute",zIndex:3016,overflow:"visible"}})))}}),D}},{key:"shouldComponentUpdate",value:function(e,t){var r=We.shouldUpdate(this,e,t);if(r&&this.props.children!==e.children&&!this.props["marked."]){var i=this.$gui,n=(this.duals,i.duals.children=e.children),o=i.comps=nt(n),a=this.widget;o.forEach(function(e,t){if(e&&e.props["tagName."]){var r=g(e);if(!r)return;var i=parseInt(r),n={key:r,"keyid.":i+""===r?i:r,"hookTo.":a};o[t]=rt(e,n)}})}return r}},{key:"componentWillReceiveProps",value:function(e){for(var t,r=this.$gui,i=this.duals,n=r.duals,o=Object.keys(i),a=0;t=o[a];a++){var s=e[t];if(void 0===s){var l=r.dualAttrs[t];if(!l)continue;if(void 0===(s=e[l]))continue}s!==n[t]&&(i[t]=n[t]=s)}}},{key:"componentDidMount",value:function(){this.isHooked=!!this.widget,this.props["hasStatic."]&&se(this);var e=this.$gui;if(e.syncExpr){for(var t;t=e.syncExpr.shift();)e.exprAttrs[t[0]]=t[1];delete e.syncExpr}var r=this.props.styles;if(r&&(this.props["data-span.path"]||this.props["data-unit.path"])){var i=this;Object.keys(r).forEach(function(e){var t=r[e];if("object"==(void 0===t?"undefined":Ae(t))&&e){var n=i.componentOf(e);n&&(n.duals.style=t)}})}e.hasIdSetter&&(this.duals.id__=2)}},{key:"componentWillUnmount",value:function(){if(Re.__debug__){var e=this.props.teardown__;if("function"==typeof e)try{e.apply(this)}catch(e){console.log(e)}}var t=this.$gui;t.hasIdSetter&&(this.duals.id__=0);for(var r,i=Object.keys(t.connectBy),n=[],o=0;r=i[o];o++)(a=t.connectBy[r][0])!==this&&n.indexOf(a)<0&&n.push(a);for(var a,o=0;a=n[o];o++)a.unlisten("*",this);if(t.connectTo={},t.connectBy={},t.compState=0,Array.isArray(this.widget)){var s=this.widget.parent;if(Array.isArray(s)){var l=t.keyid,u=s.component;if(u){var p=u.$gui;if(!p.flowFlag&&!p.forExpr){var c=p.compIdx[l];"number"==typeof c&&(delete p.comps[c],delete p.compIdx[l])}}s.$unhook(this.widget,l)}delete this.widget.component,delete this.widget}this.isHooked=!1}},{key:"reRender",value:function(e,t){if(this.isHooked)if(this.$gui.inSync){var r=this;setTimeout(function(){var i=b(r.state.id__),n=Object.assign({},t,{id__:i});r.setState(n,e)},0)}else{var i=b(this.state.id__),n=Object.assign({},t,{id__:i});this.setState(n,e)}else 1!=this.state.id__&&console.log("warning: reRender() failed when component unhooked."),e&&e()}},{key:"listen",value:function(e,t,r){function i(e){if(Object.getOwnPropertyDescriptor(o.duals,e))return!0;if(o.props["$"+e])return at.indexOf(e)>0&&console.log("warning: '"+e+"' is not listenable."),!0;if(n.dataset.indexOf(e)>=0||n.tagAttrs.indexOf(e)>=0||n.dualAttrs.hasOwnProperty(e)){var t=R(o,e);return Object.defineProperty(o.duals,e,{enumerable:!0,configurable:!0,get:t[0],set:t[1]}),!0}return!1}var n=this.$gui,o=this;if("function"==typeof t){if(Array.isArray(e))p=e;else{if("string"!=typeof e||!e)return console.log("warning: invalid listen source."),this;p=[e]}for(var a,s=0;a=p[s];s++)if(i(a)){var l=n.connectTo[a];l||(l=n.connectTo[a]=[]),l.push([null,t,!1])}else console.log("warning: listen source ("+a+") inexistent.");return this}if(!t||!t.$gui)return console.log("warning: invalid listen target."),this;var u,p=[];if(Array.isArray(e))e.forEach(function(e){var t=("on-"+e).replace(kt,function(e,t){return t.toUpperCase()});p.push([e,t])});else if("string"==(u=void 0===e?"undefined":Ae(e)))r&&"string"==typeof r?p.push([e,r,r]):(r=("on-"+e).replace(kt,function(e,t){return t.toUpperCase()}),p.push([e,r]));else{if(!action||"object"!=u)return this;Object.keys(e).forEach(function(t){p.push([t,e[t]])})}return p.forEach(function(e){var r=e[0],a=e[1],s=!1;if(r&&i(r)){if("function"!=typeof t[a]){var l=e[2];if(!l||!t.duals.hasOwnProperty(l))return void console.log("warning: invalid listen target ("+a+").");if(l===r&&t===o)return void console.log("warning: can not connect dual ("+r+") to self.");s=!0,a=l}var u=t.$gui.connectBy,p=-1,c=u[a];c?(p=c.findIndex(function(e){return e[0]===o&&e[1]===r}))>=0&&(c[p][2]=s):c=u[a]=[],p<0&&c.push([o,r,s]),p=-1,(c=n.connectTo[r])?(p=c.findIndex(function(e){return e[0]===t&&e[1]===a}))>=0&&(c[p][2]=s):c=n.connectTo[r]=[],p<0&&c.push([t,a,s])}else console.log("warning: listen source ("+r+") inexistent.")}),this}},{key:"unlisten",value:function(e,t,r){if("function"==typeof t){if("string"!=typeof e||!e)return console.log("warning: invalid unlisten source."),this;if(u=(a=this.$gui).connectTo[e]){var i=u.findIndex(function(e){return null===e[0]&&e[1]===t});i>=0&&(u.splice(i,1),0==u.length&&delete a.connectTo[e])}return this}if(!t||!t.$gui)return console.log("warning: invalid unlisten target."),this;var n,o=[],a=this.$gui;if(Array.isArray(e))e.forEach(function(e){var t=("on-"+e).replace(kt,function(e,t){return t.toUpperCase()});o.push([e,t])});else if("string"==(n=void 0===e?"undefined":Ae(e))){if("*"==e){var s=a.connectTo;return Object.keys(s).forEach(function(e){var r,i=s[e];if(i&&(r=i.length)>0){for(;--r>=0;)i[r][0]===t&&i.splice(r,1);0==i.length&&delete s[e]}}),this}if(r&&"string"==typeof r){if("*"==r){var l,u=(s=a.connectTo)[e];if(u&&(l=u.length)>0){for(;--l>=0;)u[l][0]===t&&u.splice(l,1);0==u.length&&delete s[e]}return this}}else r=("on-"+e).replace(kt,function(e,t){return t.toUpperCase()});o.push([e,r])}else{if(!action||"object"!=n)return this;Object.keys(e).forEach(function(t){o.push([t,e[t]])})}return o.forEach(function(e){var r=e[0],i=e[1],n=a.connectTo[r];if(n){var o=n.findIndex(function(e){return e[0]===t&&e[1]===i});o>=0&&(n.splice(o,1),0==n.length&&delete a.connectTo[r])}}),this}},{key:"getHtmlNode",value:function(e){return tt(e||this)}},{key:"parentOf",value:function(){var e=this.widget,t=e&&e.parent;return t&&t.component||null}},{key:"componentOf",value:function(e){var t=void 0===e?"undefined":Ae(e);if("number"==t){var r=[],i=D(this,e,r,0);return i&&r[1]?i:(console.log("warning: locate callspace ("+e+") failed."),null)}if("string"!=t)return null;var n=e[0];if("."!=n&&"/"!=n){var o=this.widget,a=o&&o.W(e);return a&&a.component||null}return ee(this,e)}},{key:"elementOf",value:function(e){var t,r=null,i="",n=void 0===e?"undefined":Ae(e);if("number"==n)r=(r=this.componentOf(e))&&r.widget;else if(e){if("string"!=n)return null;if("."!=(t=e[0])&&"/"!=t)r=this.widget,i=e;else{var o=e.lastIndexOf("./");if(o>=0){if(!(f=this.componentOf(e.slice(0,o+2))))return null;r=f.widget,i=e.slice(o+2)}else{if("."!=t)return"/"==t&&"/"==e[1]&&(h=this.parentOf())?h.elementOf(e.slice(2)):null;if(r=Re,!(i=e.slice(1)))return null}}}else r=this.widget;if(!r)return null;if(!i){if(f=r.component){var a=r.parent;if((h=a&&a.component)&&"number"==typeof(d=h.$gui.compIdx[f.$gui.keyid]))return h.$gui.comps[d]}return null}if(i.indexOf("/")>=0)return null;for(var s,l=i.split("."),u=l.length-1,p=0;s=l[p];p++){var c=r[s];if(!Array.isArray(c)||!c.W){var f=r.component;return f&&f.props["isTemplate."]?f.elementOf(l.slice(p).join(".")):null}if(!(p<u)){var h=r.component;if(h){var d=h.$gui.compIdx[s];if("number"==typeof d)return h.$gui.comps[d]}return null}r=c}return null}},{key:"prevSibling",value:function(){var e=this.widget,t=this.$gui.keyid,r=(e=e&&e.parent)&&e.component;if(r&&(t||0===t)){var i=r.$gui,n=i.compIdx[t];if("number"==typeof n)for(var o=n-1;o>=0;o--){var a=i.comps[o];if(a){var s=g(a);return a=s&&e[s],a?a.component:void 0}}}}},{key:"nextSibling",value:function(){var e=this.widget,t=this.$gui.keyid,r=(e=e&&e.parent)&&e.component;if(r&&(t||0===t)){var i=r.$gui,n=i.compIdx[t];if("number"==typeof n)for(var o=i.comps.length,a=n+1;a<o;a++){var s=i.comps[a];if(s){var l=g(s);return s=l&&e[l],s?s.component:void 0}}}}},{key:"fullClone",value:function(e){var t=null,r=this.$gui.keyid,i=this.widget,n=i&&i.parent;if(n=n&&n.component){var o=n.$gui.compIdx[r];"number"==typeof o&&(t=n.$gui.comps[o])}var a,s=null;if("object"!=(void 0===e?"undefined":Ae(e))&&(e={}),t){if(a=t.props["isReference."])return s=v(t.props),"number"==typeof r&&(delete s.key,delete s["keyid."]),it(1==a?Er:Rr,Object.assign(s,e));if(this.props["isTemplate."]&&!Re.__design__){var l=this.$gui.template;if(l instanceof te)return rt(t,{template:l},null);throw new Error("invalid template ("+r+")")}}if(!t||!(s=M(this)))throw new Error("invalid widget ("+r+")");return"number"==typeof r&&(s["keyid."]="",s.key=""),Object.assign(s,e),L(t,s,i,this)}},{key:"setChild",value:function(){function e(){if(i&&a){var e=o.component;e&&e.renewPages&&e.renewPages()}r&&r(i)}function t(e){var t,r=g(e),i=f+h+v.length,n=!1;if(r){var o=parseInt(r);o+""===r?(n=!0,t=o):t=r}else t=i,n=!0;return n&&(t<0||t>i)&&(We.instantShow("warning: invalid keyid ("+t+")"),t=i),[n&&t==i,t]}var r=void 0,i=!1,n=arguments.length;n>0&&("function"!=typeof(r=arguments[n-1])?r=void 0:n-=1);var o=this.widget,a=o===Ue,s=this.$gui;if(!o)return We.instantShow("warning: invalid target widget in setChild()."),e();if(!this.isHooked)return We.instantShow("warning: can not add child to unhooked widget."),e();if(this.props["isTemplate."])if(Ke){for(var l=s.template,p=0;p<n;p++){if("function"==(P=void 0===($=arguments[p])?"undefined":Ae($))){r=$;break}$&&Ne.isValidElement($)&&ke(l,$)}if(!Re.__design__)return e()}else if(!Re.__design__)return We.instantShow("warning: can not set child of template."),e();var c=4;if(s.isPanel||a)c=1;else if(u(s.className,"rewgt-unit"))c=this.props["childInline."]?3:2;else if(!this.props["childInline."])return We.instantShow("warning: invalid call setChild()"),e();for(var f=s.removeNum,h=0,d=[],v=s.comps.slice(0),y=v.length-1;y>=0;y--){var _,m=v[y],w=m&&g(m);w?(d.unshift(w),u(m.props.className,"rewgt-static")?v[y]=rt(m,{key:w}):(_=(S=parseInt(w))+""===w?S:w)!==m.props["keyid."]&&(v[y]=rt(m,{"keyid.":_,key:w}))):(v.splice(y,1),h+=1,i=!0)}for(var k=void 0,O="",x=0;x<n;x++){var $=arguments[x],P=void 0===$?"undefined":Ae($);if("function"==P){r=$;break}if("number"==P&&($+="",P="string"),"string"==P){if(!$)continue;if("-"==(O=$[0])||"+"==O){if(!($=$.slice(1))){O="";continue}}else O="";k=$;var S=parseInt($);S+""==$&&(k=S),"-"==O?((R=d.indexOf($))>=0&&(d.splice(R,1),v.splice(R,1),h+=1,i=!0),O="",k=void 0):"+"==O&&(R=d.indexOf($))<0&&(O="")}else if($&&Ne.isValidElement($)){if(u($.props.className,"rewgt-static")){console.log("warning: setChild() not support rewgt-static."),O="",k=void 0;continue}var j=!0,D=$.props["childInline."];void 0===D||(1==c||2==c?u($.props.className,["rewgt-panel","rewgt-unit"])||(j=!1):D||(j=!1));var I=void 0,T=!0;"+"==O&&void 0!==k?I=k:T=!1;var A,N=!1;if("+"!=O&&void 0!==k)A=k;else{var E=t($);N=E[0],A=E[1]}if(j){$.props["isReference."]&&("string"==typeof A?"$"!=A[0]&&(A="$"+A):A="$"+A,Xe&&Je.push([this,A]));var C=N||T?-1:d.indexOf(A+"");if(C>=0)v[C]=[A,$];else{var R=T?d.indexOf(I+""):-1;if(R>=0?(v.splice(R,0,[A,$]),d.splice(R,0,A+"")):(v.push([A,$]),d.push(A+"")),T&&!N){var H=d.indexOf(A+"");H>=0&&H==R&&R>=0&&(H=d.indexOf(A+"",R+1)),H>=0&&(v.splice(H,1),d.splice(H,1),h+=1)}}i=!0}else We.instantShow("error: display type of child widget ("+A+") mismatch to owner ("+o.getPath()+").");O="",k=void 0}else if(Array.isArray($))for(var W=$.length,M="",L=void 0,z=0;z<W;z++){var F=$[z],B=void 0===F?"undefined":Ae(F);if("number"==B&&(F+="",B="string"),"string"==B){if(!F)continue;if("-"==(M=F[0])||"+"==M){if(!(F=F.slice(1))){M="";continue}}else M="";L=F;var V=parseInt(F);V+""==F&&(L=V),"-"==M?((Z=d.indexOf(F))>=0&&(d.splice(Z,1),v.splice(Z,1),h+=1,i=!0),M="",L=void 0):"+"==M&&(Z=d.indexOf(F))<0&&(M="")}else if(F&&Ne.isValidElement(F)){if(u(F.props.className,"rewgt-static")){console.log("warning: setChild() not support rewgt-static."),M="",L=void 0;continue}var q=!0,G=F.props["childInline."];void 0===G||(1==c||2==c?u(F.props.className,["rewgt-panel","rewgt-unit"])||(q=!1):G||(q=!1));var U=!0;"+"==M&&void 0!==L?L:"+"==O&&void 0!==k?insBefor2=k:U=!1;var X,Y=!1;if("+"!=M&&void 0!==L)X=L;else{var K=t(F);Y=K[0],X=K[1]}if(q){F.props["isReference."]&&("string"==typeof X?"$"!=X[0]&&(X="$"+X):X="$"+X,Xe&&Je.push([this,X]));var J=Y||U?-1:d.indexOf(X+"");if(J>=0)v[J]=[X,F];else{var Z=U?d.indexOf(insBefor2+""):-1;if(Z>=0?(v.splice(Z,0,[X,F]),d.splice(Z,0,X+"")):(v.push([X,F]),d.push(X+"")),U&&!Y){var Q=d.indexOf(X+"");Q>=0&&Q==Z&&Z>=0&&(Q=d.indexOf(X+"",Z+1)),Q>=0&&(v.splice(Q,1),d.splice(Q,1),h+=1)}}i=!0}else We.instantShow("error: display type of child widget ("+X+") mismatch to owner ("+o.getPath()+").");M="",L=void 0}}}if(i){var ee=!1;!a&&s.isPanel&&(u(this.props.className+" "+this.props.klass,["col-reverse","reverse-col"])?ee=!0:!0);var te=null,re=0,ie=0;s.isPanel&&Array.isArray(this.props.sizes)&&(te=this.state.sizes,Array.isArray(te)&&(ee?ie=te.length:re=te.length));for(var ne=v.length,oe=[],ae={},y=0;y<ne;y++){le=v[y];if(Array.isArray(le)){var se={key:(pe=le[0])+""};void 0!==(le=le[1]).props["childInline."]&&(se["keyid."]=pe,se["hookTo."]=o,a&&le.props["isScenePage."]&&le.props.noShow&&!Re.__design__&&(se["isTemplate."]=!0),4!=c&&(se.width=le.props.width,se.height=le.props.height),re?se.width=te[y%re]:ie&&(se.height=te[y%ie])),v[y]=rt(le,se)}else pe=le.props["keyid."],oe.push([y,pe]);ae[pe]=y}for(var le,ue={},y=0;le=oe[y];y++){var z=le[0],pe=le[1],ce=o[pe];(ce=ce&&ce.component)&&(ue[pe]=ce,re?ce.state.width=te[z%re]:ie&&(ce.state.height=te[z%ie]))}if(s.removeNum+=h,s.comps=v,s.compIdx=ae,s.inSync)(r||a)&&setTimeout(function(){e()},0);else{var fe=b(this.state.id__);this.setState({id__:fe},e)}}else e()}},{key:"prepareState",value:function(){function e(e,t,r){var i;if(t>=1)i=t;else{if("number"!=typeof e)return null;i=t>=.9999?e:t>=0?t*e:t}return i<0?r?i>-.9999?i*e:i>-1?-e:i:0:i}function t(e,t){return e>=1?e+"px":t?0:e>.9999?"100%":100*e+"%"}var r=this.state.parentWidth,i=this.state.parentHeight,n="number"!=typeof r,o="number"!=typeof i,a=this.state.padding,s=this.state.borderWidth,l=this.state.margin,u=null,p=null;"number"==typeof this.state.left&&(u=e(r,this.state.left,!0)),"number"==typeof this.state.top&&(p=e(i,this.state.top,!0));var c,f,h,d,g,v,y,_,m="",b="",w="";n?(c=f=h=d=0,m=t(a[0],!1)+" "+t(a[1],!1)+" "+t(a[2],!1)+" "+t(a[3],!1),g=v=y=_=0,b=t(s[0],!0)+" "+t(s[1],!0)+" "+t(s[2],!0)+" "+t(s[3],!0),0,w=t(l[0],!1)+" "+t(l[1],!1)+" "+t(l[2],!1)+" "+t(l[3],!1)):(m=(c=e(r,a[0]))+"px "+(f=e(r,a[1]))+"px "+(h=e(r,a[2]))+"px "+(d=e(r,a[3]))+"px",b=(g=e(r,s[0]))+"px "+(v=e(r,s[1]))+"px "+(y=e(r,s[2]))+"px "+(_=e(r,s[3]))+"px",w=e(r,l[0],!0)+"px "+e(r,l[1],!0)+"px "+e(r,l[2],!0)+"px "+e(r,l[3],!0)+"px");var k=this.widget,O=this.$gui,x=null,$=this.state.minWidth,P=this.state.maxWidth,S=this.state.minHeight,j=this.state.maxHeight,D=this.state.width,I=this.state.height,T=null,A="number"!=typeof D||!(D>=1)&&n,N=null,E="number"!=typeof I||!(I>=1)&&o,C=!1,R=!1;if(!A){var H=null;D<0?(x=(M=k&&k.parent)&&M.component)?"number"==typeof(L=x.$gui.sparedX)&&(H=L*(0-D)):x=void 0:H=e(r,D),"number"!=typeof H?A=!0:($&&H<$&&(H=$),P&&H>P&&(H=P),(T=H-d-f-_-v)<0?T=null:O.cssWidth!==T&&(C=!0))}if(!E){var W=null;if(I<0){if(null===x){var M=k&&k.parent;x=M&&M.component}if(x){var L=x.$gui.sparedY;"number"==typeof L&&(W=L*(0-I))}else x=void 0}else W=e(i,I);"number"!=typeof W?E=!0:(S&&W<S&&(W=S),j&&W>j&&(W=j),(N=W-c-h-g-y)<0?N=null:O.cssHeight!==N&&(R=!0))}$&&($=Math.max(0,$-d-f-_-v)),P&&(P=Math.max(0,P-d-f-_-v)),S&&(S=Math.max(0,S-c-h-g-y)),j&&(j=Math.max(0,j-c-h-g-y)),O.cssWidth=T,O.cssHeight=N;var z=O.respared;if(O.respared=!1,k&&(O.isPanel||k===Ue)&&(C||R||z||We.dragInfo.justResized)&&(O.useSparedX?(C||z)&&(O.sparedX=oe(this,k,!0,T),z=!0):O.useSparedY&&(R||z)&&(O.sparedY=oe(this,k,!1,N),z=!0),this.isHooked||z)){var F=this;setTimeout(function(){F.isHooked&&X(F,We.dragInfo.inDragging)},0)}var B=Object.assign({},this.state.style,{margin:w,padding:m,borderWidth:b});"number"!=typeof u?delete B.left:B.left=u+"px","number"!=typeof p?delete B.top:B.top=p+"px",A?delete B.width:B.width=T+d+f+_+v+"px",E?delete B.height:B.height=N+c+h+g+y+"px",$?B.minWidth=$+"px":delete B.minWidth,P?B.maxWidth=P+"px":delete B.maxWidth,S?B.minHeight=S+"px":delete B.minHeight,j?B.maxHeight=j+"px":delete B.maxHeight,this.state.style=B;var V=[];return O.comps.forEach(function(e){e&&V.push(e)}),V}},{key:"render",value:function(){if(H(this),this.hideThis)return null;var e=this.prepareState(),t=_(this);return it(this.state["tagName."],t,e)}}]),e}();He.Widget_=Ot;var xt=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"BodyPanel",r))}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.className="rewgt-unit",e["keyid."]="body",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.defineDual("innerSize",function(e,t){throw new Error("duals.innerSize is readonly")},[e.parentWidth,e.parentHeight]),this.defineDual("nodes",pe,[]),e}},{key:"renewPages",value:function(){if(!Re.__design__&&this.isHooked&&We.pageCtrl){var e=this.$gui.comps,t=this.widget,r=[];e.forEach(function(e){if(e&&e.props["isScenePage."]&&!e.props.noShow){var i=g(e),n=i&&t[i];(n=n&&n.component)&&r.push([i,n])}});var i=!1,n=We.pageCtrl.keys;if(n.length!=r.length)i=!0;else for(var o,a=0;o=n[a];a++)if(o!==r[a][0]){i=!0;break}i&&setTimeout(function(){We.pageCtrl.renewPages(r)},0)}}},{key:"componentDidMount",value:function(){Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var e=this.$gui;e.onWinResize&&window.addEventListener("resize",e.onWinResize,!1);var r=tt(this);r&&a(r)}},{key:"componentWillUnmount",value:function(){var e=this.$gui;e.onWinResize&&(window.removeEventListener("resize",e.onWinResize,!1),e.onWinResize=null),Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}}]),t}(Ot);He.BodyPanel_=xt,He.BodyPanel=new xt;var $t=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Panel",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),n="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels, -0.xx for spared percent",o=i.width,a=i.height;return o&&(o[3]=n),a&&(a[3]=n),i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.className="rewgt-panel",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.widget&&this.widget.parent===Ue&&((this.props.left||0)>0||(this.props.top||0)>0)&&(this.duals.style=Object.assign({},this.props.style,{position:"absolute"})),this.defineDual("nodes",pe,[]),e}},{key:"isRow",value:function(){return!u(this.props.className+" "+this.state.klass,["col-reverse","reverse-col"])}},{key:"isReverse",value:function(){return u(this.props.className+" "+this.state.klass,["reverse-row","reverse-col"])}}]),t}(Ot);He.Panel_=$t,He.Panel=new $t;var Pt=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Unit",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),n="[any]: null for auto, 0~1 for percent, 0.9999 for 100%, N pixels, -0.xx for spared percent",o=i.width,a=i.height;return o&&(o[3]=n),a&&(a[3]=n),i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.className="rewgt-unit",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.widget&&this.widget.parent===Ue&&(this.duals.style=Object.assign({},this.props.style,{position:"absolute"})),e}}]),t}(Ot);He.Unit_=Pt,He.Unit=new Pt;var St=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"SplitDiv",r));return n._defaultProp.width=4,n._defaultProp.height=4,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=4,e.height=4,e}},{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),n="[number]: 0~1 for percent, 0.9999 for 100%, N pixels";return i.width=[r+1,"number",null,n],i.height=[r+2,"number",null,n],i}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);this.$gui.comps=[];var r=null,i=this.widget;if(i&&(r=(r=i.parent)&&r.component),!r)return We.instantShow("error: no owner widget for SplitDiv"),e;if(!u(r.props.className,"rewgt-panel"))return We.instantShow("error: owner of widget ("+i.getPath()+") is not rewgt-panel"),e;var n=!0;return u(r.props.className+" "+r.props.klass,["col-reverse","reverse-col"])&&(n=!1),Object.assign(this.$gui,{inRow:n,reversed:!1,inDrag:!1,dragStartX:0,dragStartY:0,resizeOwner:void 0,resizeTarg:void 0,sizingFunc:null}),this.defineDual("id__",function(e,t){if(1==t){var r=this.state;n?(("number"!=typeof r.width||r.width<1)&&(r.width=4),r.width>=1&&(r.minWidth=r.width,r.maxWidth=r.width),this.props.height>=1&&this.props.height<=4&&(r.height=.9999),void 0===this.props.minHeight&&(r.minHeight=10)):(("number"!=typeof r.height||r.height<1)&&(r.height=4),r.height>=1&&(r.minHeight=r.height,r.maxHeight=r.height),this.props.width>=1&&this.props.width<=4&&(r.width=.9999),void 0===this.props.minWidth&&(r.minWidth=10));var i={cursor:n?"ew-resize":"ns-resize"},o=!1;for(var a in r.style)if(0==a.indexOf("background")){o=!0;break}o||(i.backgroundColor="#ddd"),r.style=Object.assign({},r.style,i)}}),e}},{key:"$$onMouseDown",value:function(e){function t(e,t){var r=o.resizeOwner,i=o.resizeTarg;if(r&&i){var n=!1,a=-1,s=-1;if(o.inRow){a=i.state.width;var l=e-o.dragStartX;if(0!=l){var u=i.state.minWidth,p=i.state.maxWidth,c=a<1?a*i.state.parentWidth:a;if(a=o.reversed?c-l:c+l,u&&a<u&&(a=u),p&&a>p&&(a=p),a<1&&(a=1),a!=c){v=a-c;o.reversed&&(v=-v),v!=l&&(e+=v-l),o.dragStartX=e,o.dragStartY=t,o.sizingFunc?o.sizingFunc(i,a,s,!o.inDrag):(i.state.width=a,le(r,!o.inDrag,function(){i.reRender()})),n=!0}}}else{s=i.state.height;var f=t-o.dragStartY;if(0!=f){var h=i.state.minHeight,d=i.state.maxHeight,g=s<1?s*i.state.parentHeight:s;if(s=o.reversed?g-f:g+f,h&&s<h&&(s=h),d&&s>d&&(s=d),s<1&&(s=1),s!=g){var v=s-g;o.reversed&&(v=-v),v!=f&&(t+=v-f),o.dragStartX=e,o.dragStartY=t,o.sizingFunc?o.sizingFunc(i,a,s,!o.inDrag):(i.state.height=s,le(r,!o.inDrag,function(){i.reRender()})),n=!0}}}n||o.inDrag||!(a>=1||s>=1)||(o.sizingFunc?o.sizingFunc(i,a,s,!0):le(r,!0,function(){i.reRender()}))}}function r(e){if(!o.inDrag){var r=n.widget,i=(r=r&&r.parent)&&r.component;if(!i)return;if(!i.$gui.isPanel)return;if(Array.isArray(i.props.sizes))return;var a=!1,s=o.inRow;if(s?Math.abs(e.clientX-o.dragStartX)>=4&&(a=!0):Math.abs(e.clientY-o.dragStartY)>=4&&(a=!0),a){for(var l=n.prevSibling();l;){var p=s?l.state.width:l.state.height,c=s?l.state.minWidth:l.state.minHeight,f=s?l.state.maxWidth:l.state.maxHeight;if("number"==typeof p&&p>0&&(0==c||0==f||c!=f)){o.reversed=u(i.props.className+" "+i.state.klass,["reverse-row","reverse-col"]),o.resizeOwner=i,o.resizeTarg=l,o.inDrag=!0,We.dragInfo.inDragging=!0;break}l=l.prevSibling()}var h,d;if(!o.inDrag&&!n.nextSibling()&&(h=r.parent)&&(d=h.component)&&i.$gui.sparedTotal>.989&&i.$gui.sparedTotal<=1.01){var p=s?i.state.width:i.state.height,c=s?i.state.minWidth:i.state.minHeight,f=s?i.state.maxWidth:i.state.maxHeight;if("number"==typeof p&&p>0&&.9999!=p&&(0==c||0==f||c!=f)&&(o.reversed=u(d.props.className+" "+d.state.klass,["reverse-row","reverse-col"]),o.resizeOwner=d,o.resizeTarg=i,o.inDrag=!0,We.dragInfo.inDragging=!0),!o.inDrag&&"number"==typeof p&&p>0&&d.$gui.sparedTotal>.989&&d.$gui.sparedTotal<=1.01){var g=h.parent,v=g&&g.component;if(v){var p=s?d.state.width:d.state.height,c=s?d.state.minWidth:d.state.minHeight,f=s?d.state.maxWidth:d.state.maxHeight;"number"==typeof p&&p>0&&.9999!=p&&(0==c||0==f||c!=f)&&(o.reversed=u(v.props.className+" "+v.state.klass,["reverse-row","reverse-col"]),o.resizeOwner=v,o.resizeTarg=d,o.inDrag=!0,We.dragInfo.inDragging=!0)}}if(o.inDrag){var y=o.resizeOwner.$gui.onCellSizing;y&&(o.sizingFunc=y)}}}}o.inDrag&&(e.stopPropagation(),t(e.clientX,e.clientY))}function i(e){We.dragInfo.inDragging=!1,o.inDrag=!1,setTimeout(function(){Ze=!1},300),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),e.stopPropagation(),t(e.clientX,e.clientY),o.resizeOwner=null,o.resizeTarg=null,o.sizingFunc=null}var n=this,o=this.$gui;o.dragStartX=e.clientX,o.dragStartY=e.clientY,o.inDrag=!1,Ze=!0,document.addEventListener("mouseup",i,!1),document.addEventListener("mousemove",r,!1),e.stopPropagation(),this.$onMouseDown&&this.$onMouseDown(e)}},{key:"$onClick",value:function(e){e.stopPropagation()}}]),t}(Pt);He.SplitDiv_=St,He.SplitDiv=new St;var jt=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"GridPanel",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.sizes=[r+1,"any",null,"[any]: [0.2,0.3,-0.4,-0.6], negative value stand for left space"],i.cellSpacing=[r+2,"number",null,"[number]: 0,1,2,..."],i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.sizes=[.3,.3,-1],e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);if(!Array.isArray(this.props.sizes))return e;var r=this.$gui;return r.inRow=!u(r.className+" "+this.props.klass,["col-reverse","reverse-col"]),this.defineDual("cellSpacing",function(e,t){r.comps.length&&(r.useSparedX||r.useSparedY)&&(r.respared=!0)}),e.sizes=null,this.defineDual("sizes",function(e,t){if(Array.isArray(e)){e=this.state.sizes=e.slice(0);var i=!1,n=!1,o=0,a=this.widget===Ue;!a&&r.isPanel||(e.splice(0),i=!0,a&&console.log("error: only none-topmost panel can use props.sizes"));for(var s=e.length-1;s>=0;s--){var l=e[s];"number"!=typeof l||isNaN(l)?(e[s]=null,i=!0):l<0&&(n=!0,o+=-l)}var p=!1,c=!1;u(this.props.className+" "+this.state.klass,["col-reverse","reverse-col"])?c=!0:p=!0;var f=!z(e,t);if(!i&&n&&(p||c)){r.sparedTotal=o;var h=r.useSparedX,d=r.useSparedY;p?r.useSparedX=!0:r.useSparedY=!0,f||h==r.useSparedX&&d==r.useSparedY||(f=!0)}else r.sparedTotal=0,r.useSparedX=!1,r.useSparedY=!1;f&&(r.comps.length&&(r.removeNum+=1),r.respared=!0,this.reRender())}else this.state.sizes=null,r.sparedTotal=0,r.useSparedX=!1,r.useSparedY=!1,Array.isArray(t)&&(r.comps.length&&(r.removeNum+=1),this.reRender())}),this.defineDual("childNumId",function(e,t){var i=this.state.sizes;if(Array.isArray(i)){var n=0,o=i.length;r.comps.forEach(function(e,t){if(e)if(u(e.props.className,"rewgt-static"))n++;else if(e.props["isReference."])n++;else if(void 0!==e.props["childInline."]){var a=i[n++%o];r.inRow?e.props.width!==a&&(r.comps[t]=rt(e,{width:a})):e.props.height!==a&&(r.comps[t]=rt(e,{height:a}))}else n++})}}),r.onCellSizing=function(e,t,r,i){var n=e.$gui.keyid,o=this.state.sizes;if(Array.isArray(o)){var a=this.$gui,s=a.compIdx[n],l=null,u=this.widget;if("number"==typeof s&&s>=0&&(l=a.comps[s]),l&&u){var p=o.length;if(a.inRow){if("number"==typeof t&&t>=0){t<1&&("number"!=typeof a.cssWidth?t=null:t*=a.cssWidth),o[v=s%p]=t;g=[];for(var c in a.compIdx)"number"==typeof(_=a.compIdx[c])&&_>=0&&_%p==v&&(m=(m=u[c])&&m.component)&&(m.state.width=t,g.push(m));le(this,i,function(){for(var e,t=0;e=g[t];t++)e.reRender()})}else if("number"==typeof r&&r>=0){y=(v=Math.floor(s/p))+p;for(var c in a.compIdx)if("number"==typeof(_=a.compIdx[c])&&_>=v&&_<y&&(m=(m=u[c])&&m.component)&&"number"==typeof(b=m.state.height)&&b>=0){var f=m.state.minHeight,h=m.state.maxHeight,d=r;"number"==typeof r&&r<1&&(d="number"!=typeof a.cssHeight?null:r*a.cssHeight),f&&("number"!=typeof d||d<f)&&(d=f),h&&("number"!=typeof d||d>h)&&(d=h),b!==d&&m.setState({height:d})}}}else if("number"==typeof r&&r>=0){r<1&&("number"!=typeof a.cssHeight?r=null:r*=a.cssHeight),o[v=s%p]=r;var g=[];for(var c in a.compIdx)"number"==typeof(_=a.compIdx[c])&&_>=0&&_%p==v&&(m=(m=u[c])&&m.component)&&(m.state.height=r,g.push(m));le(this,i,function(){for(var e,t=0;e=g[t];t++)e.reRender()})}else if("number"==typeof t&&t>=0){var v=Math.floor(s/p),y=v+p;for(var c in a.compIdx){var _=a.compIdx[c];if("number"==typeof _&&_>=v&&_<y){var m=u[c];if(m=m&&m.component){var b=m.state.width;if("number"==typeof b&&b>=0){var f=m.state.minWidth,h=m.state.maxWidth,d=t;"number"==typeof t&&t<1&&(d="number"!=typeof a.cssWidth?null:t*a.cssWidth),f&&("number"!=typeof d||d<f)&&(d=f),h&&("number"!=typeof d||d>h)&&(d=h),b!==d&&m.setState({width:d})}}}}}}}}.bind(this),e}},{key:"render",value:function(){if(H(this),this.hideThis)return null;var e=this.prepareState();Re.__design__&&e.push(it("div",{key:"$end",title:"end of GridPanel",style:{width:"100%",height:"10px",backgroundColor:"#eee"}}));var t=_(this);return it("div",t,e)}}]),t}($t);He.GridPanel_=jt,He.GridPanel=new jt;var Dt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TableRow",r));return n._silentProp.push("isTableRow."),n._defaultProp.height=void 0,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isTableRow."]=!0,e.height=null,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);if(Re.__design__){var r=this;this.defineDual("childNumId",function(e,t){var i=r.widget,n=i&&i.parent;(n=n&&n.component)&&setTimeout(function(){n.reRender()},0)})}return e}},{key:"render",value:function(){var e=this.$gui,t=e.cssWidth,r=e.cssHeight;if(H(this),this.hideThis)return null;var i=e.cssWidth=this.state.parentWidth,n="number"!=typeof i||i<0,o=this.state.parentHeight,a=this.state.height,s="number"!=typeof a||a<0;s?o=e.cssHeight=null:a>=1?o=e.cssHeight=a:"number"==typeof o?a>=.9999?(e.cssHeight=o,("number"!=typeof o||o<0)&&(s=!0)):o=e.cssHeight=o*a:(o=e.cssHeight=null,s=!0);var l=t!==i,u=this.widget,p=[];if(this.$gui.comps.forEach(function(e){if(e){var t=g(e);if(t){var r,i,n,o,a,c=u&&u[t];(c=c&&c.component)?(r=c.state.width,i=c.state.height,n=c.state.colSpan,o=c.state.rowSpan,a=c.state.tdStyle):(r=e.props.width,i=e.props.height,n=e.props.colSpan,o=e.props.rowSpan,a=e.props.tdStyle);var f=t,h=parseInt(t);h+""===t&&(f=h);var d={key:t,"keyid.":f};n=parseInt(n),o=parseInt(o),n&&(d.colSpan=n+""),o&&(d.rowSpan=o+"");var v=null,y=null,_=!1;"number"==typeof r&&r>=0&&(v=r,d.style={width:r>=1?r+"px":r>=.9999?"100%":100*r+"%"}),"object"==(void 0===a?"undefined":Ae(a))&&(d.style=Object.assign(d.style||{},a)),"number"==typeof i&&i>=0?i>=1?(y=i,!1):s?_=!0:y=i:!0,(l&&null!==v||_)&&(e=rt(e,{width:v,height:y})),p.push(it("td",d,e))}}}),this.isHooked&&(!n&&t!==i||!s&&r!==o||We.dragInfo.justResized)){var c=this;setTimeout(function(){X(c,We.dragInfo.inDragging)},0)}var f=Object.assign({},this.state.style);!s&&o>=0?f.height=o+"px":delete f.height;var h=_(this,f);return it("tr",h,p)}}]),t}(Pt);He.TableRow_=Dt,He.TableRow=new Dt;var It=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TablePanel",r));return n._defaultProp.height=void 0,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.className="rewgt-unit rewgt-table",e.height=null,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this),r=this;return this.defineDual("childNumId",function(e,t){r.$gui.respared=!0}),e}},{key:"render",value:function(){var e=this.$gui,t=e.cssWidth,r=e.cssHeight;if(H(this),this.hideThis)return null;var i=this.prepareState();if(this.isHooked&&("number"==typeof e.cssWidth&&t!==e.cssWidth||"number"==typeof e.cssHeight&&r!==e.cssHeight||We.dragInfo.justResized)){var n=this;setTimeout(function(){X(n,We.dragInfo.inDragging)},0)}var o=this.widget;if(Re.__design__&&o){var a=2,s=[];i.forEach(function(e){if(e){var t=0,r=0,i=!1;Z(e,o).forEach(function(e){for(var n=s[t]||0;n>=2;)s[t++]=n-1,r+=1,n=s[t]||0;var o=parseInt(e.props.rowSpan||0),a=parseInt(e.props.colSpan||0);if(a>=2)for(;a>=2;){a-=1;var l=Math.max(0,(s[t]||0)-1);s[t++]=Math.max(l,o),r+=1}var u=e.props.width;("number"!=typeof u||u<0)&&(i=!0),s[t++]=o,r+=1}),s.splice(t),i||(r+=1),r>a&&(a=r)}});for(var l={style:{margin:"10px"}},u={style:{margin:"2px"}},p=[],c=0;c<a;c+=1)p.push(it("td",{key:c+"",style:{backgroundColor:"#eee"}},it("div",0==c?l:u)));i.push(it("tr",{key:"$end",title:"end of TablePanel",style:{height:"10px"}},p))}var f=it("tbody",null,i),h=_(this);return it("table",h,f)}}]),t}($t);He.TablePanel_=It,He.TablePanel=new It;var Tt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Div",r));return n._defaultProp.height=void 0,n._defaultProp.minHeight=20,n._htmlText=!0,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=.9999,e.height=null,e.minHeight=20,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return e["html."]=null,this.defineDual("html.",function(e,t){this.state["html."]=e||null}),e}},{key:"render",value:function(){if(H(this),this.hideThis)return null;var e=this.prepareState(),t=_(this);return it(this.state["tagName."],t,e.length?e:this.state["html."])}}]),t}(Pt);He.Div_=Tt,He.Div=new Tt;var At=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"HiddenDiv",r));return n._defaultProp.width=void 0,delete n._defaultProp.minHeight,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=null,delete e.minHeight,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.hideThis=!0,e}}]),t}(Tt);He.HiddenDiv_=At,He.HiddenDiv=new At,He.Article_=ce(Tt,"Article"),He.Article=new He.Article_,He.Section_=ce(Tt,"Section"),He.Section=new He.Section_,He.Header_=ce(Tt,"Header"),He.Header=new He.Header_,He.Footer_=ce(Tt,"Footer"),He.Footer=new He.Footer_,He.Aside_=ce(Tt,"Aside"),He.Aside=new He.Aside_,He.Nav_=ce(Tt,"Nav"),He.Nav=new He.Nav_,He.Main_=ce(Tt,"Main"),He.Main=new He.Main_;var Nt=[6,0,6,0],Et=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"P",r));return n._defaultProp.width=void 0,n._defaultProp.height=void 0,n._defaultProp.margin=Nt.slice(0),n._htmlText=!0,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return Object.assign(e,{width:null,height:null,margin:Nt.slice(0),"childInline.":!0,"tagName.":"p"})}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return e["html."]=null,this.defineDual("html.",function(e,t){this.state["html."]=e||null}),e}},{key:"render",value:function(){if(H(this),this.hideThis)return null;var e=this.prepareState(),t=_(this);return it(this.state["tagName."],t,e.length?e:this.state["html."])}}]),t}(Pt);He.P_=Et,He.P=new Et;var Ct=Ce(He.P._extend()),Rt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Noscript",r));return delete n._defaultProp.margin,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="noscript",delete e.margin,e}},{key:"render",value:function(){return H(this),it(this.state["tagName."])}}]),t}(Et);He.Noscript_=Rt,He.Noscript=new Rt;var Ht=[10,10,10,10],Wt=[2,2,2,2],Mt={borderColor:"#bbb"},Lt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Fieldset",r));return n._defaultProp.padding=Ht.slice(0),n._defaultProp.borderWidth=Wt.slice(0),n._defaultProp.style=Object.assign({},Mt),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.padding=Ht.slice(0),e.borderWidth=Wt.slice(0),e.style=Object.assign({},Mt),e["tagName."]="fieldset",e}}]),t}(Et);He.Fieldset_=Lt,He.Fieldset=new Lt,He.Details_=ce(Et,"Details"),He.Details=new He.Details_;var zt=[0,0,0,20],Ft=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Ul",r));return n._defaultProp.padding=zt.slice(0),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="ul",e.padding=zt.slice(0),e}}]),t}(Et);He.Ul_=Ft,He.Ul=new Ft;var Bt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Ol",r));return n._defaultProp.padding=zt.slice(0),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="ol",e.padding=zt.slice(0),e}}]),t}(Et);He.Ol_=Bt,He.Ol=new Bt,He.Li_=ce(Et,"Li"),He.Li=new He.Li_,He.Dl_=ce(Et,"Dl"),He.Dl=new He.Dl_,He.Dd_=ce(Et,"Dd"),He.Dd=new He.Dd_,He.Dt_=ce(Et,"Dt"),He.Dt=new He.Dt_,He.Figure_=ce(Et,"Figure"),He.Figure=new He.Figure_,He.Figcaption_=ce(Et,"Figcaption"),He.Figcaption=new He.Figcaption_,He.Menu_=ce(Et,"Menu"),He.Menu=new He.Menu_,He.Menuitem_=ce(Et,"Menuitem"),He.Menuitem=new He.Menuitem_,He.Address_=ce(Et,"Address"),He.Address=new He.Address_,He.Form_=ce(Et,"Form"),He.Form=new He.Form_;var Vt=[0,0,0,0],qt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Iframe",r));return n._defaultProp.margin=Vt.slice(0),n._htmlText=!1,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="iframe",e.margin=Vt.slice(0),e}}]),t}(Et);He.Iframe_=qt,He.Iframe=new qt;var Gt=[0,30,0,30],Ut=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Blockquote",r));return n._defaultProp.padding=Gt.slice(0),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.padding=Gt.slice(0),e["tagName."]="blockquote",e}}]),t}(Et);He.Blockquote_=Ut,He.Blockquote=new Ut;var Xt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Table",r));return n._htmlText=!1,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="table",e}}]),t}(Et);He.Table_=Xt,He.Table=new Xt,He.Caption_=ce(Et,"Caption"),He.Caption=new He.Caption_,He.Col_=ce(Et,"Col"),He.Col=new He.Col_,He.Colgroup_=ce(Et,"Colgroup"),He.Colgroup=new He.Colgroup_,He.Td_=ce(Et,"Td"),He.Td=new He.Td_;var Yt=[0,0,0,0],Kt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Tbody",r));return n._defaultProp.margin=Yt.slice(0),n._htmlText=!1,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="tbody",e.margin=Yt.slice(0),e}},{key:"render",value:function(){if(Re.__design__){if(H(this),this.hideThis)return null;var e=this.prepareState(),r=it("tr",{key:"$end",title:"end of Tbody",style:{height:"10px"}},it("td"));e.push(r);var i=_(this);return it(this.state["tagName."],i,e)}return Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]),t}(Et);He.Tbody_=Kt,He.Tbody=new Kt,He.Thead_=ce(Et,"Thead"),He.Thead=new He.Thead_,He.Tfoot_=ce(Et,"Tfoot"),He.Tfoot=new He.Tfoot_;var Jt=[0,0,0,0],Zt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Th",r));return n._defaultProp.margin=Jt.slice(0),n._htmlText=!1,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="th",e.margin=Jt.slice(0),e}}]),t}(Et);He.Th_=Zt,He.Th=new Zt;var Qt=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Tr",r));return n._defaultProp.margin=Jt.slice(0),n._htmlText=!1,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="tr",e.margin=Jt.slice(0),e}}]),t}(Et);He.Tr_=Qt,He.Tr=new Qt,He.Hgroup_=ce(Et,"Hgroup"),He.Hgroup=new He.Hgroup_,He.H1_=ce(Et,"H1"),He.H1=new He.H1_,He.H2_=ce(Et,"H2"),He.H2=new He.H2_,He.H3_=ce(Et,"H3"),He.H3=new He.H3_,He.H4_=ce(Et,"H4"),He.H4=new He.H4_,He.H5_=ce(Et,"H5"),He.H5=new He.H5_,He.H6_=ce(Et,"H6"),He.H6=new He.H6_;var er=[1,1,1,1],tr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Hr",r));return n._defaultProp.width=.9999,n._defaultProp.borderWidth=er.slice(0),n._htmlText=!1,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=.9999,e.borderWidth=er.slice(0),e["tagName."]="hr",e}}]),t}(Et);He.Hr_=tr,He.Hr=new tr,He.Pre_=ce(Et,"Pre"),He.Pre=new He.Pre_;var rr={style:{display:"none"}},ir=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Span",r));return n._statedProp=[],n._silentProp=["className","hookTo.","keyid.","childInline.","tagName."],n._defaultProp={width:void 0,height:void 0},n._htmlText=!0,n}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,t){return{key:[-1,"string"],width:[],height:[]}}},{key:"getDefaultProps",value:function(){return{"childInline.":!0,"tagName.":"span"}}},{key:"getInitialState",value:function(){var e=this.getShadowTemplate();if(Object.defineProperty(this,"_",{enumerable:!1,configurable:!1,writable:!1,value:e}),this.isHooked=!1,this.hideThis=!1,Re.__debug__&&0==We.widgetNum())return We.instantShow("error: inline widget can not be used as topmost panel."),{};this.duals={};var t={inSync:!1,removeNum:0,className:this.props.className||"",compState:0,duals:{},initDuals:[],initDuals0:[],connectTo:{},connectBy:{},id__:0,id2__:0},r=t.eventset={},i=t.tagAttrs=[],n=t.dualAttrs={},o=t.dataset=[],a=t.exprAttrs=[],s="",l="",c="";t.forExpr=!1,t.hasIdSetter=!1;var f={},h=this.$eventset||[{},{}],d=h[0],v=h[1];delete this.$eventset;for(var y,_=null,m=Object.keys(this.props),b=0;y=m[b];b++)if(0==y.indexOf("data-"))"data-unit.path"!=y&&"data-span.path"!=y||(s=y,l=this.props[y]),o.push(y);else if(0==y.indexOf("dual-")){var w=y.slice(5).replace(kt,function(e,t){return t.toUpperCase()});w&&(n[w]=y)}else if(0==y.indexOf("aria-"))o.push(y);else if("$"==y[0]&&y.length>1){var k=this.props[y],O=void 0===k?"undefined":Ae(k);if("string"==O){if("$id__"!=y){var x=!1;"$for"==(y=y.slice(1))&&(y="for",x=!0),at.indexOf(y)>=0?"for"==y?t.forExpr?console.log("warning: reduplicate property ($for)"):(t.forExpr=x?2:1,a.push(y)):c?console.log("error: property ($"+y+") conflict with previous ($"+c+")"):(c=y,"else"!=y&&a.push(y)):"children"==y?this.props.hasOwnProperty("for.index")&&(t.isChildExpr=!0,t.children2=this.props.children):"key"!=y&&a.push(y);continue}O=void 0===(k=Le[k])?"undefined":Ae(k)}if("function"==O){if("$"==y[1]){console.log("warning: invalid using props."+y);continue}"id__"==(y=y.slice(1))?(_=k,t.hasIdSetter=!0):v[y]||(f[y]=k.bind(this))}}else{var $=wt[y];$&&5!=$&&i.push(y)}t.flowFlag=c,t.dataset2=o.slice(0);for(var P in d)r[P]=this["$"+P];for(var P in f)r[P]=f[P];for(var P in v)r[P]=this["$$"+P];Object.defineProperty(this,"$gui",{enumerable:!1,configurable:!1,writable:!1,value:t}),Re.__design__&&(t.className=p(t.className,"rewgt-inline"));Object.assign({},this.props.style);var S={id__:0,childNumId:0,duals:[],"tagName.":this.props["tagName."],exprAttrs:a.slice(0),klass:"",style:{},"html.":null};if(Re.__design__){var j=e._getGroupOpt(this);S["data-group.opt"]=j.type+"/"+j.editable}var D=this.props["keyid."];if(D){var T=void 0===D?"undefined":Ae(D);"string"!=T&&"number"!=T&&(D=void 0)}var A=this.props["hookTo."];"string"==typeof A&&(A=Re.W(A)),Array.isArray(A)&&A.W&&(void 0!==D?A.$set(D,A.W(this)):D=A.push(A.W(this))-1,t.keyid=D),t.compIdx={},t.comps=nt(this.props.children),Object.defineProperty(this.duals,"keyid",{enumerable:!0,configurable:!0,get:function(){return this.$gui.keyid}.bind(this),set:function(e,t){throw new Error("property (keyid) is readonly")}}),this.defineDual("klass",function(e,t){this.state.klass=e||""}),this.defineDual("style",function(e,t){this.state.style=Object.assign({},t,e)}),this.defineDual("html.",function(e,t){this.state["html."]=e||null}),this.defineDual("id__",function(e,r){this.state.id__=e,t.id__=t.id2__=e}),_&&this.defineDual("id__",_),this.defineDual("trigger",ue);var N=this.widget;return A&&N&&s&&(N.$callspace={flowFlag:"ref",forSpace:null},N.$callspace[s]=l,I(N.$callspace.exprSpace={},this)),this.defineDual("childNumId",function(e,r){var i=this,n=this.widget;if(n){0==r&&n.parent===Ue&&console.log("warning: can not hook inline widget to topmost directly.");var o=t.compIdx,a=t.comps,s=!1;a.forEach(function(e,r){if("string"==typeof e){if(0==r&&1==a.length&&i.duals.hasOwnProperty("html."))return i.state["html."]=e,void(s=!0);e=a[r]=it(nr,{"html.":e})}else if(!e)return;var l,p=g(e),c=!1;if(p){var f=parseInt(p);l=f+""===p?f:p,"number"==typeof o[p]&&(c=!0)}else p=(l=r+t.removeNum)+"";if(u(e.props.className,"rewgt-static")){if(c)return void(o[l]=r);var h=Object.assign({},e.props);return h.key=p,!Re.__design__||i.props.$for||i.props.$$for||(h.onMouseDown=q,h.onDoubleClick=G.bind(i)),o[l]=r,void(a[r]=it("span",h))}var d=e.props["childInline."];return void 0===d?(o[l]=r,void(c||(a[r]=rt(e,{key:p})))):d?(!c&&e.props["isReference."]&&("$"!=p[0]&&(p=l="$"+p),Xe&&Je.push([i,l])),c&&n!==e.props["hookTo."]&&(c=!1),o[l]=r,void(c||(a[r]=rt(e,{"hookTo.":n,key:p,"keyid.":l})))):(a[r]=void 0,void console.log("warning: widget ("+n.getPath()+"."+p+") can not be panel"))}),s&&a.splice(0)}}),S}},{key:"willResizing",value:function(e,t,r){return!1}},{key:"prepareState",value:function(){console.log("warning: inline widget not support prepareState()")}},{key:"render",value:function(){if(H(this),this.hideThis)return it("span",rr);var e=_(this),t=this.$gui.comps,r=t.length?t:this.state["html."];return it(this.state["tagName."],e,r)}}]),t}(Ot);He.Span_=ir,He.Span=new ir;var nr=Ce(He.Span._extend()),or=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"HiddenSpan",r))}return n(t,e),Te(t,[{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.hideThis=!0,e}}]),t}(ir);He.HiddenSpan_=or,He.HiddenSpan=new or;var ar=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Br",r));return n._htmlText=!1,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="br",e}}]),t}(ir);He.Br_=ar,He.Br=new ar;var sr=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"A",r))}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="a",e}},{key:"$$onClick",value:function(e){Re.__design__&&e.preventDefault(),this.$onClick&&this.$onClick(e)}}]),t}(ir);He.A_=sr,He.A=new sr,He.Q_=ce(ir,"Q"),He.Q=new He.Q_,He.Abbr_=ce(ir,"Abbr"),He.Abbr=new He.Abbr_;var lr=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Audio",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.src=[r+1,"string",null],i.autoPlay=[r+2,"string",["","autoplay"]],i.controls=[r+3,"string",["","controls"]],i.loop=[r+4,"string",["","loop"]],i.muted=[r+5,"string",["","muted"]],i.preload=[r+6,"string",["auto","meta","none"]],i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="audio",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return fe(this),e}}]),t}(ir);He.Audio_=lr,He.Audio=new lr,He.Source_=ce(ir,"Source"),He.Source=new He.Source_,He.Track_=ce(ir,"Track"),He.Track=new He.Track_,He.Bdi_=ce(ir,"Bdi"),He.Bdi=new He.Bdi_,He.Bdo_=ce(ir,"Bdo"),He.Bdo=new He.Bdo_,He.Data_=ce(ir,"Data"),He.Data=new He.Data_,He.Mark_=ce(ir,"Mark"),He.Mark=new He.Mark_,He.Wbr_=ce(ir,"Wbr"),He.Wbr=new He.Wbr_,He.Button_=ce(ir,"Button"),He.Button=new He.Button_;var ur=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Textarea",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.disabled=[r+1,"string",["","disabled"]],i.readonly=[r+2,"string",["","readonly"]],i.placeholder=[r+3,"string"],i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="textarea",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return void 0!==this.props.defaultValue&&this.$gui.tagAttrs.push("defaultValue"),void 0===this.props.value&&(this.defineDual("value"),this.$gui.syncValue=!0),e}},{key:"$$onChange",value:function(e){this.duals.value=e.target.value,this.$onChange&&this.$onChange(e)}},{key:"render",value:function(){return he(this)}}]),t}(ir);He.Textarea_=ur,He.Textarea=new ur;var pr=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Progress",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.value=[r+1,"string"],i.max=[r+2,"string"],i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="progress",e}}]),t}(ir);He.Progress_=pr,He.Progress=new pr;var cr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Img",r));return n._htmlText=!1,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="img",e}},{key:"$$onDragStart",value:function(e){Re.__design__?e.preventDefault():this.$onDragStart&&this.$onDragStart(e)}}]),t}(ir);He.Img_=cr,He.Img=new cr;var fr=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Video",r))}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="video",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return fe(this),e}}]),t}(ir);He.Video_=fr,He.Video=new fr,He.Canvas_=ce(ir,"Canvas"),He.Canvas=new He.Canvas_,He.Picture_=ce(ir,"Picture"),He.Picture=new He.Picture_,He.Map_=ce(ir,"Map"),He.Map=new He.Map_,He.Area_=ce(ir,"Area"),He.Area=new He.Area_,He.Time_=ce(ir,"Time"),He.Time=new He.Time_,He.Output_=ce(ir,"Output"),He.Output=new He.Output_;var hr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Input",r));return n._htmlText=!1,n}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return Object.assign(i,{type:[r+1,"string",["text","button","checkbox","file","hidden","image","password","radio","reset","submit","color","date","datetime","datetime-local","email","month","number","range","search","tel","time","url","week"]],checked:[r+2,"string",["","checked"]],disabled:[r+3,"string",["","disabled"]],readonly:[r+4,"string",["","readonly"]],value:[r+5,"string"],placeholder:[r+6,"string"],min:[r+7,"string"],max:[r+8,"string"],step:[r+9,"string"],pattern:[r+10,"string"],src:[r+11,"string"],defaultValue:[r+12,"string"],defaultChecked:[r+13,"string"],required:[r+14,"string",["","required"]]}),i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="input",e.type="text",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);void 0!==this.props.defaultValue&&this.$gui.tagAttrs.push("defaultValue"),void 0!==this.props.defaultChecked&&this.$gui.tagAttrs.push("defaultChecked");var r=this.props.type;return"checkbox"===r||"radio"===r?void 0===this.props.checked&&(this.defineDual("checked"),this.$gui.tagAttrs.push("checked")):void 0===this.props.value&&(this.defineDual("value"),this.$gui.syncValue=!0),e}},{key:"$$onChange",value:function(e){var t=this.props.type;"checkbox"===t||"radio"===t?this.duals.checked=e.target.checked:this.duals.value=e.target.value,this.$onChange&&this.$onChange(e)}},{key:"render",value:function(){return he(this)}}]),t}(ir);He.Input_=hr,He.Input=new hr,He.Keygen_=ce(ir,"Keygen"),He.Keygen=new He.Keygen_;var dr=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Label",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.htmlFor=[r+1,"string",null,"[string]: indicate which input widget"],i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="label",e}}]),t}(ir);He.Label_=dr,He.Label=new dr,He.Legend_=ce(ir,"Legend"),He.Legend=new He.Legend_,He.Sub_=ce(ir,"Sub"),He.Sub=new He.Sub_,He.Sup_=ce(ir,"Sup"),He.Sup=new He.Sup_;var gr=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Select",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.multiple=[r+1,"string",["","multiple"]],i.disabled=[r+2,"string",["","disabled"]],i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="select",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return void 0!==this.props.defaultValue&&this.$gui.tagAttrs.push("defaultValue"),void 0===this.props.value&&this.defineDual("value"),e}},{key:"$$onChange",value:function(e){this.duals.value=e.target.value,this.$onChange&&this.$onChange(e)}}]),t}(ir);He.Select_=gr,He.Select=new gr,He.Datalist_=ce(gr,"Datalist"),He.Datalist=new He.Datalist_;var vr=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Optgroup",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.label=[r+1,"string"],i.disabled=[r+2,"string",["","disabled"]],i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="optgroup",e}}]),t}(ir);He.Optgroup_=vr,He.Optgroup=new vr,He.Option_=ce(ir,"Option"),He.Option=new He.Option_,He.B_=ce(ir,"B"),He.B=new He.B_,He.I_=ce(ir,"I"),He.I=new He.I_,He.S_=ce(ir,"S"),He.S=new He.S_,He.U_=ce(ir,"U"),He.U=new He.U_,He.Ins_=ce(ir,"Ins"),He.Ins=new He.Ins_,He.Del_=ce(ir,"Del"),He.Del=new He.Del_,He.Code_=ce(ir,"Code"),He.Code=new He.Code_,He.Var_=ce(ir,"Var"),He.Var=new He.Var_,He.Summary_=ce(ir,"Summary"),He.Summary=new He.Summary_,He.Em_=ce(ir,"Em"),He.Em=new He.Em_,He.Strong_=ce(ir,"Strong"),He.Strong=new He.Strong_,He.Big_=ce(ir,"Big"),He.Big=new He.Big_,He.Small_=ce(ir,"Small"),He.Small=new He.Small_,He.Dfn_=ce(ir,"Dfn"),He.Dfn=new He.Dfn_,He.Samp_=ce(ir,"Samp"),He.Samp=new He.Samp_,He.Kdb_=ce(ir,"Kdb"),He.Kdb=new He.Kdb_,He.Cite_=ce(ir,"Cite"),He.Cite=new He.Cite_,He.Dialog_=ce(ir,"Dialog"),He.Dialog=new He.Dialog_;var yr=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"Meter",r))}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.value=[r+1,"string"],i.high=[r+2,"string"],i.low=[r+3,"string"],i.max=[r+4,"string"],i.min=[r+5,"string"],i.optimum=[r+6,"string"],i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="meter",e}}]),t}(ir);He.Meter_=yr,He.Meter=new yr,He.Embed_=ce(ir,"Embed"),He.Embed=new He.Embed_,He.Object_=ce(ir,"Object"),He.Object=new He.Object_,He.Param_=ce(ir,"Param"),He.Param=new He.Param_,He.Ruby_=ce(ir,"Ruby"),He.Ruby=new He.Ruby_,He.Rp_=ce(ir,"Rp"),He.Rp=new He.Rp_,He.Rt_=ce(ir,"Rt"),He.Rt=new He.Rt_;var _r=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"NavPanel",r));return n._silentProp.push("isNavigator."),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isNavigator."]=1,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);e.checkedId="";var r=this.$gui;return r.navItems={},r.navOrder=[],r.navSubkey=void 0,this.widget&&this.widget===Ue&&We.instantShow("error: NavPanel/NavDiv can not be used at topmost."),r.updateNavItems=function(){function e(e){return n.findIndex(function(t){return t[0]===e})}var t=r.comps,i=t.length;r.navSubkey=void 0,Re.__design__&&(r.navItems={});for(var n=[],o=0;o<i;o++){var a=t[o];if(a){var s,l=g(a);if(!l)continue;if(a.props["isNavigator."]&&(r.navSubkey=l),parseInt(l)+""===l)continue;a.props["isPlayground."]?(r.navItems[l]=a,n.push([l,!0])):n.push([l,!1])}}for(var u=n.length,o=r.navOrder.length-1;o>=0;o--){var p=r.navOrder[o];p[1]?e(p[0])<0&&n.splice(u,0,p):(s=e(p[0]))<0?r.navOrder.splice(o,1):u=s}r.navOrder=n},this.defineDual("childNumId",function(e,t){r.updateNavItems()}),e}},{key:"listOptComp",value:function(e){function t(i){var n=i.component;if(n)if(n.props["isOption."])if(e){if(e===n.$gui.keyid)return r.push(n),!0}else r.push(n);else{if(n.props["isNavigator."])return!1;for(var o=n.$gui.comps,a=o.length,s=0;s<a;s++){var l=o[s];if(l){var u=g(l),p=u&&i[u];if(p&&t(p))return!0}}}return!1}var r=[],i=this.widget;if(!i)return r;for(var n=this.$gui.comps,o=n.length,a=0;a<o;a++){var s=n[a];if(s&&!s.props["isPlayground."]){var l=g(s),u=l&&i[l];if(u&&t(u))return r}}return r}},{key:"fireChecked",value:function(e,t){if(this.isHooked&&e&&e!==this.state.checkedId){e+="";var r=this.listOptComp(e)[0];if(r&&r.setChecked)return void r.setChecked(t);if(!r)return void de(this,e,t)}t&&t()}},{key:"prepareState",value:function(){var e=this.$gui,r=e.cssWidth,i=e.cssHeight,n=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareState",this).call(this);if(!e.isPanel&&this.isHooked&&("number"==typeof e.cssWidth&&r!==e.cssWidth||"number"==typeof e.cssHeight&&i!==e.cssHeight||We.dragInfo.justResized)){var o=this;setTimeout(function(){X(o,We.dragInfo.inDragging)},0)}return n}},{key:"render",value:function(){if(H(this),this.hideThis)return null;var e=this.prepareState();if(Re.__design__){var t=this.widget;t&&setTimeout(function(){e.forEach(function(e){var r=e&&g(e),i=r&&t[r];(i=i&&i.component)&&i.reRender()})},0)}else{for(var r=this.state.checkedId+"",i=e.length-1,n=!1;i>=0;)(a=e[i]).props["isPlayground."]&&(r&&r==g(a)?n=!0:e.splice(i,1)),i-=1;if(!n&&r){var o=this.$gui,a=o.navItems[r];if(a){var s=o.navOrder.findIndex(function(e){return e[0]===r});if(s<0)e.push(a);else{for(var l,u,p=o.navOrder.slice(s+1),c=0,f=!1;(l=p.findIndex(function(e,t){return t>=c&&!e[1]}))>=0;){if((u=function(e,t){for(var r,i=0;r=e[i];i++)if(t==g(r))return i;return-1}(e,p[l][0]))>=0){f=!0;break}c=l}f?e.splice(u,0,a):e.push(a)}}}}var h=_(this);return it("div",h,e)}}]),t}($t);He.NavPanel_=_r,He.NavPanel=new _r;var mr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"NavDiv",r));return n._defaultProp.height=void 0,n._defaultProp.minHeight=20,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.className="rewgt-unit",e["isNavigator."]=2,e.height=null,e.minHeight=20,e}}]),t}(_r);He.NavDiv_=mr,He.NavDiv=new mr;var br=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"GroundPanel",r));return n._silentProp.push("isPlayground."),n._defaultProp.height=void 0,n._defaultProp.minHeight=20,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isPlayground."]=1,e.width=.9999,e.height=null,e.minHeight=20,e}},{key:"render",value:function(){return Re.__design__?ge(this,1):Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]),t}($t);He.GroundPanel_=br,He.GroundPanel=new br;var wr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"GroundDiv",r));return n._silentProp.push("isPlayground."),n._defaultProp.height=void 0,n._defaultProp.minHeight=20,n._htmlText=!0,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=.9999,e.height=null,e.minHeight=20,e["isPlayground."]=2,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return e["html."]=null,this.defineDual("html.",function(e,t){this.state["html."]=e||null}),e}},{key:"render",value:function(){if(Re.__design__)return ge(this,2);if(H(this),this.hideThis)return null;var e=this.prepareState(),t=_(this);return it(this.state["tagName."],t,e.length?e:this.state["html."])}}]),t}(Pt);He.GroundDiv_=wr,He.GroundDiv=new wr;var kr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptSpan",r));return n._statedProp.push("data-checked"),n._silentProp.push("isOption."),n._defaultProp["data-checked"]="",n}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){return r=r||1200,we(Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),r)}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["data-checked"]="",e["isOption."]=!0,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return be(this,e),e}},{key:"findNavOwner",value:function(){return ve(this)}},{key:"fireTrigger",value:function(){m(void 0,this)}},{key:"clearChecked",value:function(){this.state["data-checked"]&&(this.duals["data-checked"]="")}},{key:"setChecked",value:function(e,t,r){me(this,e,t,r)}},{key:"$$onClick",value:function(e){Re.__design__&&e.stopPropagation(),this.setChecked(null),this.$onClick&&this.$onClick(e)}}]),t}(ir);He.OptSpan_=kr,He.OptSpan=new kr;var Or=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptA",r))}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="a",e}},{key:"$$onClick",value:function(e){Re.__design__&&e.preventDefault(),Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"$$onClick",this).call(this,e)}}]),t}(kr);He.OptA_=Or,He.OptA=new Or;var xr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptImg",r));return n._htmlText=!1,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="img",e}}]),t}(kr);He.OptImg_=xr,He.OptImg=new xr;var $r=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptButton",r))}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="button",e}}]),t}(kr);He.OptButton_=$r,He.OptButton=new $r;var Pr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptOption",r));return n._silentProp.push("selected"),n}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.value=[r+1,"string"],i.label=[r+2,"string"],i.disabled=[r+3,"string",["","disabled"]],i}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);this.$gui;return this.defineDual("data-checked",function(e,t){var r="false"!==e&&"0"!==e&&e?"1":"";this.props.hasOwnProperty("selected")&&(this.state.selected=r);var i=this;setTimeout(function(){var t=tt(i);t&&(t.selected=!!e)},0)}),e}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="option",e}}]),t}(kr);He.OptOption_=Pr,He.OptOption=new Pr;var Sr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptDiv",r));return n._statedProp.push("data-checked"),n._silentProp.push("isOption."),n._defaultProp["data-checked"]="",n}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){return r=r||1200,we(Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),r)}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["data-checked"]="",e["isOption."]=!0,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return be(this,e),e}},{key:"findNavOwner",value:function(){return ve(this)}},{key:"fireTrigger",value:function(){m(void 0,this)}},{key:"clearChecked",value:function(){this.state["data-checked"]&&(this.duals["data-checked"]="")}},{key:"setChecked",value:function(e,t,r){me(this,e,t,r)}},{key:"$$onClick",value:function(e){Re.__design__&&e.stopPropagation(),this.setChecked(null),this.$onClick&&this.$onClick(e)}}]),t}(Tt);He.OptDiv_=Sr,He.OptDiv=new Sr;var jr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptLi",r));return n._statedProp.push("data-checked"),n._silentProp.push("isOption."),n._defaultProp["data-checked"]="",n}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){return r=r||1200,we(Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200),r)}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="li",e["data-checked"]="",e["isOption."]=!0,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return be(this,e),e}},{key:"findNavOwner",value:function(){return ve(this)}},{key:"fireTrigger",value:function(){m(void 0,this)}},{key:"clearChecked",value:function(){this.state["data-checked"]&&(this.duals["data-checked"]="")}},{key:"setChecked",value:function(e,t,r){me(this,e,t,r)}},{key:"$$onClick",value:function(e){Re.__design__&&e.stopPropagation(),this.setChecked(null),this.$onClick&&this.$onClick(e)}}]),t}(Et);He.OptLi_=jr,He.OptLi=new jr;var Dr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"OptInput",r));return n._htmlText=!1,n}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.type=[r+1,"string",["checkbox","radio","button","image"]],i.value=[r+2,"string"],i.src=[r+3,"string"],i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["tagName."]="input",e.type="checkbox",e.checked="",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);void 0!==this.props.defaultValue&&this.$gui.tagAttrs.push("defaultValue");var r=this.props.type;return"checkbox"===r||"radio"===r?void 0===this.props.checked&&this.$gui.tagAttrs.push("checked"):void 0===this.props.value&&(this.defineDual("value"),this.$gui.syncValue=!0),this.defineDual("data-checked",function(e,t){var r="false"!==e&&"0"!==e&&e?"1":"";this.state.checked=r}),e}},{key:"clearChecked",value:function(e){e||(e=tt(this)),e&&(e.checked&&(e.checked=!1),this.state["data-checked"]&&(this.duals["data-checked"]=""))}},{key:"$$onChange",value:function(e){Re.__design__&&e.stopPropagation();var t=this.state.type,r=e.target;"checkbox"===t||"radio"===t?r.checked?this.setChecked(null):this.clearChecked(r):this.duals.value=r.value,this.$onChange&&this.$onChange(e)}},{key:"$$onClick",value:function(e){Re.__design__&&e.stopPropagation();var t=this.state.type;"checkbox"!==t&&"radio"!==t&&this.setChecked(null),this.$onClick&&this.$onClick(e)}},{key:"render",value:function(){return he(this)}}]),t}(kr);He.OptInput_=Dr,He.OptInput=new Dr;var Ir=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TempPanel",r));return n._silentProp.push("isTemplate.","data-temp.type"),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isTemplate."]=1,Re.__design__?e["data-temp.type"]=1:(e.width=0,e.height=0),e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);xe(this.$gui),this.isLibGui=!1;var r=this.props.style;if(this.props["hookTo."]===Ue&&(this.duals.style=r=Object.assign({},r,{position:"absolute"}),0==(this.$gui.keyid+"").indexOf("$$")&&(this.isLibGui=!0)),Re.__design__&&!this.isLibGui)this.duals.style=Object.assign({},r,{display:"none"}),Oe(this);else{var i=this.props.template;i instanceof te?this.$gui.template=i:Oe(this),this.$gui.compIndex={},this.$gui.comps=[]}return e}},{key:"elementOf",value:function(e){return $e(this,e)}},{key:"render",value:function(){if(Re.__design__&&!this.isLibGui)return Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);if(H(this),this.hideThis)return null;var e=_(this,Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}));return it("div",e)}}]),t}($t);He.TempPanel_=Ir,He.TempPanel=new Ir;var Tr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TempDiv",r));return n._silentProp.push("isTemplate.","data-temp.type"),n._htmlText=!0,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isTemplate."]=2,Re.__design__?e["data-temp.type"]=2:(e.width=0,e.height=0),e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);xe(this.$gui),this.isLibGui=!1;var r=this.props.style;if(this.props["hookTo."]===Ue&&(this.duals.style=r=Object.assign({},r,{position:"absolute"}),0==(this.$gui.keyid+"").indexOf("$$")&&(this.isLibGui=!0)),Re.__design__&&!this.isLibGui)this.duals.style=Object.assign({},r,{display:"none"}),Oe(this);else{var i=this.props.template;i instanceof te?this.$gui.template=i:Oe(this),this.$gui.compIndex={},this.$gui.comps=[]}return e}},{key:"elementOf",value:function(e){return $e(this,e)}},{key:"render",value:function(){if(Re.__design__&&!this.isLibGui)return Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);if(H(this),this.hideThis)return null;var e=_(this,Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}));return it("div",e)}}]),t}(Pt);He.TempDiv_=Tr,He.TempDiv=new Tr;var Ar=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"TempSpan",r));return n._silentProp.push("isTemplate.","data-temp.type"),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isTemplate."]=3,Re.__design__&&(e["data-temp.type"]=3),e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);if(xe(this.$gui),this.isLibGui=!1,Re.__design__)this.duals.style=Object.assign({},this.props.style,{display:"none"}),Oe(this);else{var r=this.props.template;r instanceof te?this.$gui.template=r:Oe(this),this.$gui.compIndex={},this.$gui.comps=[]}return e}},{key:"elementOf",value:function(e){return $e(this,e)}},{key:"render",value:function(){if(Re.__design__)return Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);if(H(this),this.hideThis)return it("span",rr);var e=_(this,Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}));return it("span",e)}}]),t}(ir);He.TempSpan_=Ar,He.TempSpan=new Ar;var Nr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"RefDiv",r));return n._silentProp.push("isReference."),n._htmlText=!0,n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.width=0,e.height=0,e["isReference."]=1,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.props["hookTo."]===Ue&&We.instantShow("warning: can not add RefDiv to topmost widget."),e}},{key:"componentDidMount",value:function(){Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var e;if(!Xe&&(e=this.widget)){var r=(e=e.parent)&&e.component;r&&re(r,this.$gui.keyid+"",function(){})}}},{key:"render",value:function(){var e=l(this),t={style:{width:"0px",height:"0px"}};return e&&(t.className=e),it("div",t)}}]),t}(Pt);He.RefDiv_=Nr,He.RefDiv=new Nr;var Er=ze.RefDiv__=Ce(He.RefDiv._extend()),Cr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"RefSpan",r));return n._silentProp.push("isReference."),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["isReference."]=2,e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.props["hookTo."]===Ue&&We.instantShow("error: can not hook RefSpan to topmost widget."),e}},{key:"componentDidMount",value:function(){Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var e;if(!Xe&&(e=this.widget)){var r=(e=e.parent)&&e.component;r&&re(r,this.$gui.keyid+"",function(){})}}},{key:"render",value:function(){var e=l(this),t={style:{width:"0px",height:"0px"}};return e&&(t.className=e),it("span",t)}}]),t}(ir);He.RefSpan_=Cr,He.RefSpan=new Cr;var Rr=ze.RefSpan__=Ce(He.RefSpan._extend()),Hr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"ScenePage",r));return n._silentProp.push("isScenePage.","isTemplate."),n._defaultProp.noShow="",n}return n(t,e),Te(t,[{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);i.noShow=[r+1,"string",["","1"],"[string]: disable show content"];var n="[number]: 0~1 for percent, 0.9999 for 100%, N pixels",o=i.width,a=i.height;return o&&(o[1]="number",o[3]=n),a&&(a[1]="number",a[3]=n),i}},{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.noShow="",e["isScenePage."]=1,e.className="rewgt-panel rewgt-scene",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);this.props["hookTo."]!==Ue&&We.instantShow("error: ScenePage only hook to topmost widget.");var r=Object.assign({},this.props.style,{position:"absolute",display:"none"});r.zIndex||(r.zIndex="0"),this.duals.style=r;var i=this.props.width,n=this.props.height;if("number"==typeof i&&i>0||console.log("warning: invalid width of ScenePage ("+this.$gui.keyid+")"),"number"==typeof n&&n>0||console.log("warning: invalid height of ScenePage ("+this.$gui.keyid+")"),Re.__design__)this.$gui.currSelected="";else if(this.props["isTemplate."]){xe(this.$gui),this.isLibGui=!1;var o=this.props.template;o instanceof te?this.$gui.template=o:Oe(this),this.$gui.compIndex={},this.$gui.comps=[]}return e}},{key:"elementOf",value:function(e){return this.props["isTemplate."]?$e(this,e):Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"elementOf",this).call(this,e)}},{key:"setSelected",value:function(e){function t(e,t){var i=r&&r[e];if(i=i&&i.component){var n=parseInt(i.state.style.zIndex)||0;t?n>=-997&&n<=999&&i.setState({style:Object.assign({},i.state.style,{zIndex:n+2e3})}):n>=1e3&&n<=2999&&i.setState({style:Object.assign({},i.state.style,{zIndex:n-2e3})})}}if(Re.__design__){var r=this.widget,i=this.$gui;if(i.currSelected){if(e==i.currSelected)return;t(i.currSelected,!1),i.currSelected=""}e&&(t(e,!0),i.currSelected=e)}}},{key:"render",value:function(){if(H(this),this.hideThis)return null;if(this.props["isTemplate."]){i=_(this,t=Object.assign({},this.state.style,{width:"0px",height:"0px",display:"none"}));return it("div",i)}var e=this.prepareState(),t=void 0;this.props.noShow&&!Re.__design__&&((t=Object.assign({},this.state.style)).display="none");var r=it("div",{className:"rewgt-center"},e),i=_(this,t);return it("article",i,r)}}]),t}($t);He.ScenePage_=Hr,He.ScenePage=new Hr;Ce(He.ScenePage._extend());var Wr=function(e){function t(e,r){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"MaskPanel",r))}return n(t,e),Te(t,[{key:"getInitialState",value:function(){function e(e,t,r){return e<1&&(e>=.9999?e=t:e>0?e*=t:e=r),e}function r(e,t,r){return"number"!=typeof e?e=(t-r)/2:e<1&&(e*=t),e<0&&(e=0),e}var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.defineDual("popOption"),this.defineDual("id__",function(t,i){if(1===i){var n,o=null,a=null,s=this.$gui,l=this.props.popOption;l&&((n=l.frame)?(a=this.props.popFrame)&&!a.props&&(a=null):n={},this.props.children&&(o=nt(this.props.children)[0]),s.compIdx={},s.comps=[]);var u=this.widget;if(o&&u&&Ge){var p=Ge.frameInfo,c=window.innerWidth,f=window.innerHeight;this.state.left=0,this.state.top=0,this.state.width=c-p.leftWd-p.rightWd,this.state.height=f-p.topHi-p.bottomHi,this.state.style=Object.assign({},this.state.style,{position:"absolute",zIndex:"auto",backgroundColor:l.maskColor||"rgba(238,238,238,0.84)"});var h=this.state.width,d=this.state.height;if(a){var v=e(n.width||.9,h,4),y=e(n.height||.9,d,4),_=r(n.left,h,v),m=r(n.top,d,y),b={"hookTo.":u,"keyid.":"",key:"",style:Object.assign({},a.props.style,{position:"absolute",zIndex:"auto"}),left:_,top:m,width:v,height:y};s.compIdx[0]=0,s.comps.push(rt(a,b))}var w=e(l.width||.8,h,6),k=e(l.height||.8,d,6),O=r(l.left,h,w),x=r(l.top,d,k);!a&&O>0&&x>0&&O+w<h&&x+k<d&&(a=it("div",{key:"0",style:{position:"absolute",zIndex:"auto",left:O-1+"px",top:x-1+"px",width:w+"px",height:k+"px",border:"1px solid #e0e0e0",boxShadow:"-2px 8px 4px rgba(0,0,0,0.1)"}}),s.compIdx[0]=0,s.comps.push(a));var $="",P=g(o);if(P){var S=parseInt(P);$=S+""===P?S:P}var j=Object.assign({},o.props.style,{backgroundColor:"#fff",position:"absolute",zIndex:"auto"});l.bodyStyle&&Object.assign(j,l.bodyStyle);var D=rt(o,{"hookTo.":u,"keyid.":$,key:P,style:j,left:O,top:x,width:w,height:k,$onClick:Pe});s.compIdx[P]=s.comps.length,s.winComp=s.comps.push(D)-1,l.state&&(l.state.opened=!0),this.setEvent({$onClick:function(e){e.stopPropagation(),Re.__design__||l.manualClose||setTimeout(function(){We.popWin.popWindow()},100)},$onDblClick:Pe,$onMouseDown:Pe,$onMouseMove:Pe,$onMouseUp:Pe,$onKeyPress:Pe,$onKeyDown:Pe,$onKeyUp:Pe,$onDragOver:Pe,$onDrop:Pe})}}}),i}},{key:"componentDidMount",value:function(){if(Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),Re.__design__){var e=tt(this);e&&(e.onclick=Pe,e.ondblclick=Pe,e.onmousedown=Pe,e.onmousemove=Pe,e.onmouseup=Pe,e.onkeypress=Pe,e.onkeydown=Pe,e.onkeyup=Pe,e.ondragover=Pe,e.ondrop=Pe)}}},{key:"componentWillUnmount",value:function(){var e=this.state.popOption;e&&e.state&&e.state.opened&&(e.state.opened=!1),Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}}]),t}($t),Mr=Ce((new Wr)._extend()),Lr=null,zr=null;ze.scanWtcFlag=Se,ze.scanPreCode=je;var Fr=/^auto[0-9]+$/,Br=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"MarkedDiv",r));return n._defaultProp.width=void 0,n._defaultProp.minWidth=20,n._defaultProp.noShow="",n._silentProp.push("marked.","hasStatic.","noSaveChild."),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e.noShow="",e.width=null,e.minWidth=20,e["marked."]=!0,e["hasStatic."]=!0,e["noSaveChild."]=!0,e["isPre."]=!0,e}},{key:"_getSchema",value:function(e,r){r=r||1200;var i=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSchema",this).call(this,e,r+200);return i.noShow=[r+1,"string",["","1"],"[string]: disable show content"],i}},{key:"_getGroupOpt",value:function(e){var t={type:"mono",editable:"none",baseUrl:ze.appBase(),tools:[]},r=e.widget;if(!r||!e.isHooked)return t;var i=r.getPath();return t.tools=[{name:"editor",icon:"res/edit_txt.png",title:"edit markdown",url:"edit_markdown.html",halfScreen:!0,noMove:!1,clickable:!0,width:.9,height:.9,get:function(t){return[e.state["html."]||"",i,Se()]},set:function(t,r,n){var o=r[0],a=r[1];e===t&&a==i&&"string"==typeof o&&De(t,o,function(r,i){r&&(e.props.noShow&&(e.$gui.compIdx={},e.$gui.comps=[]),t.setState({"html.":o,id__:s()},function(){se(t,!0);var e=null;0==t.state.nodes.length?i&&i.length&&(e=i):e=i||[],e&&setTimeout(function(){t.duals.nodes=e},10),Re.__design__&&n&&Ge&&Ge.notifyBackup&&Ge.notifyBackup(a,1e3)}))})}}],t}},{key:"getInitialState",value:function(){function e(){var e=i.$gui.keyid+"";setTimeout(function(){var t=i.widget;(t=(t=t&&t.parent)&&t.component)&&t.cellKeys&&t.cellStyles&&(t.cellKeys[e]=[i.state.rowSpan,i.state.colSpan],t.cellStyles[e]=i.state.tdStyle,t.reRender())},0)}var r=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this),i=this,n=this.$gui,o=this.widget;return o=o&&o.parent,(o=o&&o.component)&&o.props["markedTable."]&&(this.defineDual("colSpan",function(t,r){var i=parseInt(t);this.state.colSpan=isNaN(i)?void 0:i,e()}),this.defineDual("rowSpan",function(t,r){var i=parseInt(t);this.state.rowSpan=isNaN(i)?void 0:i,e()}),this.props.tdStyle&&this.defineDual("tdStyle",function(t,r){this.state.tdStyle=Object.assign({},r,t),e()},this.props.tdStyle)),n.delayTid=0,this.defineDual("html.",function(e,t){function r(){n.delayTid&&(clearTimeout(n.delayTid),n.delayTid=0),++o>24||(i.isHooked?De(i,e,function(e,t){e&&(i.props.noShow&&(i.$gui.compIdx={},i.$gui.comps=[]),i.reRender(function(){se(i,!0);var e=null;0==i.state.nodes.length?t&&t.length&&(e=t):e=t||[],e&&setTimeout(function(){i.duals.nodes=e},10)}))}):n.delayTid=setTimeout(function(){r()},100))}if(this.widget&&"string"==typeof e){var o=0;r()}}),r.nodes=[],this.defineDual("nodes"),r}},{key:"willResizing",value:function(e,t,r){if(!r&&this.isHooked){var i=this;setTimeout(function(){X(i,!1)},0)}return!0}},{key:"render",value:function(){if(H(this),this.hideThis)return null;var e=this.prepareState(),t=_(this);return it(this.state["tagName."],t,e)}}]),t}(Tt);He.MarkedDiv_=Br,He.MarkedDiv=new Br;var Vr=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"MarkedTable",r));return n._silentProp.push("markedTable."),n}return n(t,e),Te(t,[{key:"getDefaultProps",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultProps",this).call(this);return e["markedTable."]=!0,e["tagName."]="table",e}},{key:"getInitialState",value:function(){var e=Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInitialState",this).call(this);return this.firstScan=!0,this.cellKeys={},this.cellStyles={},e}},{key:"render",value:function(){if(H(this),this.hideThis)return null;var e=this.prepareState(),t=_(this);if(this.props.noShow)return it("div",t);0==e.length&&e.push(it(Ct,{"html.":" "}));var r=["tbody",null],i=null,n=this,o=this.firstScan;this.firstScan=!1,e.forEach(function(e){if(e.props["markedRow."])i&&r.push(it.apply(null,i)),i=["tr",null];else{i||(i=["tr",null]);var t=e.props["keyid."],a=void 0,s=void 0,l=null;if(void 0!==t&&(t+=""),t&&e.props["marked."])if(o){var u,p;(u=e.props.rowSpan)&&!isNaN(p=parseInt(u))&&(a=p+""),(u=e.props.colSpan)&&!isNaN(p=parseInt(u))&&(s=p+""),n.cellKeys[t]=[a,s],l=n.cellStyles[t]=e.props.tdStyle}else{var c=n.cellKeys[t];Array.isArray(c)&&(a=c[0],s=c[1]),l=n.cellStyles[t]}var f=null;t&&(f={key:t,rowSpan:a,colSpan:s},l&&(f.style=l)),i.push(it("td",f,e))}}),i&&r.push(it.apply(null,i));var a=it.apply(null,r);return it("table",t,a)}}]),t}(Br);He.MarkedTable_=Vr,He.MarkedTable=new Vr,t.exports=He},{"./react_widget":2,react:void 0,"react-dom":void 0}],4:[function(e,t,r){function i(e){if(u===setTimeout)return setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function n(e){if(p===clearTimeout)return clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function o(){d&&f&&(d=!1,f.length?h=f.concat(h):g=-1,h.length&&a())}function a(){if(!d){var e=i(o);d=!0;for(var t=h.length;t;){for(f=h,h=[];++g<t;)f&&f[g].run();g=-1,t=h.length}f=null,d=!1,n(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,p,c=t.exports={};!function(){try{u=setTimeout}catch(e){u=function(){throw new Error("setTimeout is not defined")}}try{p=clearTimeout}catch(e){p=function(){throw new Error("clearTimeout is not defined")}}}();var f,h=[],d=!1,g=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new s(e,t)),1!==h.length||d||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=l,c.addListener=l,c.once=l,c.off=l,c.removeListener=l,c.removeAllListeners=l,c.emit=l,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}]},{},[1]);